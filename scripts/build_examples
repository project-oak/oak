#!/usr/bin/env bash

readonly SCRIPTS_DIR="$(dirname "$(readlink -f "$0")")"
# shellcheck source=scripts/common
source "$SCRIPTS_DIR/common"

# TODO(#594): Re-enable rustfmt when upstream rustc internal error is fixed.
readonly EXAMPLES="$(find examples -mindepth 2 -maxdepth 4 -type d -name module | cut -d'/' -f2 | uniq | grep -v rustfmt)"

for example in $EXAMPLES; do
  "$SCRIPTS_DIR/build_example" -e "$example"
done
