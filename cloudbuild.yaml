# Reference: https://cloud.google.com/cloud-build/docs/build-config
# x

steps:
  - name: python
    entrypoint: ls
    args: ['-als', '/dev/']

timeout: 2h

options:
  env:
    # This variable is only defined in the `merge` GCB trigger,
    # and contains GCB credentials for updating the Bazel cache.
    - 'BAZEL_GOOGLE_CREDENTIALS=$_BAZEL_GOOGLE_CREDENTIALS'
  # See: https://cloud.google.com/cloud-build/docs/api/reference/rest/Shared.Types/MachineType
  # See https://cloud.google.com/build/docs/api/reference/rest/v1/projects.builds#machinetype
  machineType: 'N1_HIGHCPU_8'
  requestedVerifyOption: 'VERIFIED'
  sourceProvenanceHash: ['SHA256']
