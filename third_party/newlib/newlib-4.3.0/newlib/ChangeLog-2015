2015-12-21  Freddie Chopin  <freddie.chopin@gmail.com>

	* libc/stdlib/__atexit.c (__register_exitproc): Fix for
	_ATEXIT_DYNAMIC_ALLOC.

2015-12-21  Freddie Chopin  <freddie.chopin@gmail.com>

	* libc/stdlib/on_exit_args.{c,h}: New files.
	* libc/stdlib/Makefile.am: Add new source file.
	* libc/stdlib/Makefile.in: Regenerate.
	* libc/stdlib/__atexit.c (__register_exitproc): Initialize
	_on_exit_args_ptr field of _GLOBAL_ATEXIT on first run.
	* libc/stdlib/on_exit.c: Force linking of static instance of
	_on_exit_args.
	* libc/stdlib/cxa_atexit.c: Likewise.

2015-12-17  Anton Kolesov  <Anton.Kolesov@synopsys.com>

	* libc/machine/arc/asm.h: Define new GCC definition for old compiler.
	* libc/machine/arc/memcmp-bs-norm.S: Use new GCC defines to detect
	processor features.
	* libc/machine/arc/memcmp.S: Likewise.
	* libc/machine/arc/memcpy-archs.S: Likewise.
	* libc/machine/arc/memcpy-bs.S: Likewise.
	* libc/machine/arc/memcpy.S: Likewise.	* libc/machine/arc/memset-archs.S: Likewise.
	* libc/machine/arc/memset-archs.S: Likewise.
	* libc/machine/arc/memset-bs.S: Likewise.
	* libc/machine/arc/memset.S: Likewise.
	* libc/machine/arc/setjmp.S: Likewise.
	* libc/machine/arc/strchr-bs-norm.S: Likewise.
	* libc/machine/arc/strchr-bs.S: Likewise.
	* libc/machine/arc/strchr.S: Likewise.
	* libc/machine/arc/strcmp-archs.S: Likewise.
	* libc/machine/arc/strcmp.S: Likewise.
	* libc/machine/arc/strcpy-bs-arc600.S: Likewise.
	* libc/machine/arc/strcpy-bs.S: Likewise.
	* libc/machine/arc/strcpy.S: Likewise.
	* libc/machine/arc/strlen-bs-norm.S: Likewise.
	* libc/machine/arc/strlen-bs.S: Likewise.
	* libc/machine/arc/strlen.S: Likewise.
	* libc/machine/arc/strncpy-bs.S: Likewise.
	* libc/machine/arc/strncpy.S: Likewise.

2015-12-17  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/types.h: Remove including <sys/select.h>.

2015-12-14  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/include/sys/reent.h (_REENT_INIT_PTR_ZEROED): New.
	(_REENT_INIT_PTR): Define only once and use _REENT_INIT_PTR_ZEROED().

2015-12-14  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/include/sys/_sigset.h: New.
	* libc/include/sys/select.h: Do not include <sys/types.h> and
	<sys/time.h> to avoid cyclic header file dependencies.  Include
	specialized header files instead.
	(sigset_t): Conditionally define.
	* libc/include/sys/signal.h (sigset_t): Likewise.
	* libc/include/sys/time.h: Include <sys/select.h> if
	__BSD_VISIBLE.
	* libc/include/sys/types.h: Likewise.

2015-12-12  Freddie Chopin  <freddie.chopin@gmail.com>

	* libc/stdlib/__atexit.c (__register_exitproc): Always release
	lock before return.

2015-12-09  Thomas Preud'homme  <thomas.preudhomme@arm.com>

	* libm/machine/arm/s_ceil.c: Also check that 64bit FP instructions are
	available in the guard.
	* libm/machine/arm/s_floor.c: Likewise.
	* libm/machine/arm/s_nearbyint.c: Likewise.
	* libm/machine/arm/s_rint.c: Likewise.
	* libm/machine/arm/s_round.c: Likewise.
	* libm/machine/arm/s_trunc.c: Likewise.

2015-12-08  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdio/fclose.c (_fclose_r): Make _flockfile/_funlockfile calls
	dependent on __SNLK flag.
	* libc/stdio/findfp.c (__fp_lock): Ditto.
	(__fp_unlock): Ditto.
	* libc/stdio/freopen.c (_freopen_r): Ditto.
	* libc/stdio64/freopen64.c (_freopen64_r): Ditto.

2015-12-08  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdio/freopen.c (_freopen_r): Only reset __SWID bit per SUSv4.
	* libc/stdio64/freopen64.c (_freopen64_r): Add missing resetting of
	flag values and _mbstate.

2015-12-07  Nick Withers  <nick.withers@anu.edu.au>

	* libc/sys/arm/sys/param.h (NBBY): Define if not already defined.
	* libc/sys/rtems/include/sys/param.h (NBBY): Define.

2015-12-07  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/types.h: Move definitions of NBBY and howmany to
	sys/param.h.  Move definitions of select(2) macros to sys/select.h.
	* libc/include/sys/param.h: See above.
	* libc/include/sys/select.h: Move Cygwin's sys/select.h here.

2015-11-26  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdlib/strtodg.c: Add ifdef to check _HAVE_LONG_DOUBLE and
	_LDBL_EQ_DBL.

2015-11-24  Steve Ellcey  <sellcey@imgtec.com>

	* libc/stdlib/strtorx.c: Fix ifdef to check _LDBL_EQ_DBL.

2015-11-23  Marcus Shawcroft  <marcus.shawcroft@arm.com>

	* libc/machine/arm/strlen-stub.c: Adjust strlen-armv7.S selection logic.
	* libc/machine/arm/strlen.S: Likewise.

2015-11-23  Marcus Shawcroft  <marcus.shawcroft@arm.com>

	* libc/machine/arm/strlen-stub.c: Move T2 -O2 implementation to...
	* libc/machine/arm/strlen-thumb2-Os.S: New file.
	* libc/machine/arm/strlen.S: Include strlen-thumb2-Os.S.

2015-11-21  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdlib/strtodg.c: Define USE_LOCALE.
	(_strtodg_r): Handle multibyte decimal point.

2015-11-20  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdlib/Makefile.am (GENERAL_SOURCES): Add strtodg.c and
	strtorx.c.
	* libc/stdlib/Makefile.in: Regenerate.
	* libc/stdlib/strtodg.c: New file implementing generic string to long
	double conversion.
	* libc/stdlib/strtorx.c: New file, implementing IEEE format string to
	long double conversion.
	* libc/stdlib/mprec.h (_strtodg_r): Declare.
	(_strtorx_r): Declare.
	* libc/stdlib/gdtoa.h (__UShort): Define.
	* libc/stdlib/strtold.c (__flt_rounds): Define for i386 and x86_64
	target.
	(FLT_ROUNDS): Define, as 0 on platforms missing a __flt_rounds
	function.
	(_strtold_r): Converted from strtold.  Call _strtorx_r on targets
	supporting distinct long doubles.
	(strtold): Just call _strtold_r.
	* libc/include/stdlib.h (_strtold_r): Declare.
	* libc/stdlib/ldtoa.c (_strtold): Comment out.  Explain why.
	* libc/stdio/vfscanf.c (__SVFSCANF_R): Call _strtold_r instead of
	_strtold.
	* libc/machine/powerpc/vfscanf.c (__svfscanf_r): Ditto.

2015-11-20  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdlib/strtod.c (match): Move from here...
	* libc/stdlib/gdtoa-hexnan.c (match): ...to here.
	* libc/stdlib/mprec.h (match): Declare and add __match define.

2015-11-20  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdlib/wcstold.c (_strtold): Drop unused declaration.

2015-11-19  Yaakov Selkowitz  <yselkowi@redhat.com>

	* libc/stdlib/stdlib.tex: Fix typo in rpmatch reference.

2015-11-19  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdlib/ldtoa.c: Convert to GNU style so as not to get crazy
	reading the code.

2015-11-19  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdlib/rpmatch.c: Include sys/types.h to make GCC happy.

2015-11-12  Jon Turney  <jon.turney@dronecode.org.uk>

	* libc/stdio/sprintf.c: Simplify documentation markup.
	* libc/stdio/swprintf.c: Ditto.

2015-11-12  Jon Turney  <jon.turney@dronecode.org.uk>

	* libc/stdio/sscanf.c: Improve documentation markup.
	* libc/stdio/swscanf.c: Ditto.

2015-11-17  Yaakov Selkowitz  <yselkowi@redhat.com>

	* libc/include/stdlib.h (rpmatch): Declare.
	* libc/stdlib/Makefile.am (ELIX_4_SOURCES): Add rpmatch.c.
	(CHEWOUT_FILES): Add rpmatch.def.
	* libc/stdlib/Makefile.in: Regenerate.
	* libc/stdlib/rpmatch.c: New file.
	* libc/stdlib/stdlib.tex: Add references to rpmatch.

2015-11-13  Marcus Shawcroft  <marcus.shawcroft@arm.com>

	* libc/machine/arm/strlen-stub.c: Move T1 -O2 implementation to...
	* libc/machine/arm/strlen-thumb1-Os.S: New file.
	* libc/machine/arm/strlen.S: Include strlen-thumb1-Os.S.

2015-11-13  Marcus Shawcroft  <marcus.shawcroft@arm.com>

	* libc/machine/arm/Makefile.am: Adding strlen.S.
	* libc/machine/arm/Makefile.in: Regenerate.
	* libc/machine/arm/strlen.S: New.
	* libc/machine/arm/strlen-stub.c: Rewrite #if condition.
	* libc/machine/arm/strlen-armv7.S: Remove surrounding #if.

2015-11-13  Marcus Shawcroft  <marcus.shawcroft@arm.com>

	* libc/machine/arm/Makefile.am: Rename strlen.c to strlen-stub.c
	* libc/machine/arm/Makefile.in: Regenerate.
	* libc/machine/arm/strlen.c: Rename to...
	* libc/machine/arm/strlen-stub.c: ... this.

2015-11-13  Marcus Shawcroft  <marcus.shawcroft@arm.com>

	* libc/machine/arm/Makefile.am: Drop STRLEN_SRC and STRLEN_OBJ.
	Adding strlen.c.
	* libc/machine/arm/configure.in (HAVE_THUMB1, OPT_SIZE): Remove.
	* libc/machine/arm/strlen.c: Include ../../string/strlen.c.
	* libc/machine/arm/configure: Regenerate.
	* libc/machine/arm/Makefile.in: Regenerate.

2015-11-13  Marcus Shawcroft  <marcus.shawcroft@arm.com>

	* libc/machine/arm/strlen.c: Refactor nested #if.

2015-11-12  Anton Kolesov  <Anton.Kolesov@synopsys.com>

	* configure.host: Add ARC support.
	* libc/include/machine/setjmp.h: Likewise.
	* libc/machine/configure: Likewise.
	* libc/machine/configure.in: Likewise.
	* libc/machine/arc/Makefile.am: Likewise.
	* libc/machine/arc/Makefile.in: Likewise.
	* libc/machine/arc/aclocal.m4: Likewise.
	* libc/machine/arc/asm.h: Likewise.
	* libc/machine/arc/configure: Likewise.
	* libc/machine/arc/configure.in: Likewise.
	* libc/machine/arc/memcmp-bs-norm.S: Likewise.
	* libc/machine/arc/memcmp-stub.c: Likewise.
	* libc/machine/arc/memcmp.S: Likewise.
	* libc/machine/arc/memcpy-archs.S: Likewise.
	* libc/machine/arc/memcpy-bs.S: Likewise.
	* libc/machine/arc/memcpy-stub.c: Likewise.
	* libc/machine/arc/memcpy.S: Likewise.
	* libc/machine/arc/memset-archs.S: Likewise.
	* libc/machine/arc/memset-bs.S: Likewise.
	* libc/machine/arc/memset-stub.c: Likewise.
	* libc/machine/arc/memset.S: Likewise.
	* libc/machine/arc/setjmp.S: Likewise.
	* libc/machine/arc/strchr-bs-norm.S: Likewise.
	* libc/machine/arc/strchr-bs.S: Likewise.
	* libc/machine/arc/strchr-stub.c: Likewise.
	* libc/machine/arc/strchr.S: Likewise.
	* libc/machine/arc/strcmp-archs.S: Likewise.
	* libc/machine/arc/strcmp-stub.c: Likewise.
	* libc/machine/arc/strcmp.S: Likewise.
	* libc/machine/arc/strcpy-bs-arc600.S: Likewise.
	* libc/machine/arc/strcpy-bs.S: Likewise.
	* libc/machine/arc/strcpy-stub.c: Likewise.
	* libc/machine/arc/strcpy.S: Likewise.
	* libc/machine/arc/strlen-bs-norm.S: Likewise.
	* libc/machine/arc/strlen-bs.S: Likewise.
	* libc/machine/arc/strlen-stub.c: Likewise.
	* libc/machine/arc/strlen.S: Likewise.
	* libc/machine/arc/strncpy-bs.S: Likewise.
	* libc/machine/arc/strncpy-stub.c: Likewise.
	* libc/machine/arc/strncpy.S: Likewise.

2015-11-12  Anton Kolesov  <Anton.Kolesov@synopsys.com>

	* configure.host: Remove ARC system.
	* libc/sys/configure: Likewise.
	* libc/sys/configure.in: Likewise.
	* libc/sys/arc/Makefile.am: Likewise.
	* libc/sys/arc/Makefile.in: Likewise.
	* libc/sys/arc/aclocal.m4: Likewise.
	* libc/sys/arc/configure: Likewise.
	* libc/sys/arc/configure.in: Likewise.
	* libc/sys/arc/crt0.S: Likewise.
	* libc/sys/arc/dummy.S: Likewise.
	* libc/sys/arc/isatty.c: Likewise.
	* libc/sys/arc/mem-layout.c: Likewise.
	* libc/sys/arc/sbrk.c: Likewise.
	* libc/sys/arc/sys/syscall.h: Likewise.
	* libc/sys/arc/syscalls.c: Likewise.

2015-11-12  Marcus Shawcroft  <marcus.shawcroft@arm.com>

	* testsuite/lib/flags.exp (libgloss_link_flags): Drop multilibtop
	from target_build_path.

2015-11-06  Jon Turney  <jon.turney@dronecode.org.uk>

	* doc/makedoc.c (iscommand): Only allow commands to have trailing
	spaces, not space separated words.

2015-11-06  Jon Turney  <jon.turney@dronecode.org.uk>

	* libm/mathfp/s_acos.c: Fix QUICKREF.
	* libm/mathfp/e_acosh.c: Ditto.
	* libm/math/w_asin.c: Ditto.
	* libm/mathfp/e_acosh.c: Ditto.
	* libm/mathfp/s_acos.c: Ditto.

2015-11-06  Jon Turney  <jon.turney@dronecode.org.uk>

	* doc/doc.str: Fix INTERNAL_DEFINITION, INTERNAL_FUNCTION and
	INTERNAL.

2015-11-12  Wilco Dijkstra  <wdijkstr@arm.com>

	* newlib/libc/machine/aarch64/memcpy.S (memcpy): Further tuning for
	performance.

2015-11-12  Joseph Myers  <joseph@codesourcery.com>

	* libc/machine/arm/strcmp-arm-tiny.S: Use .cfi_sections
	.debug_frame.
	* libc/machine/arm/strcmp-armv4.S: Likewise.
	* libc/machine/arm/strcmp-armv4t.S: Likewise.
	* libc/machine/arm/strcmp-armv6.S: Likewise.
	* libc/machine/arm/strcmp-armv6m.S: Likewise.
	* libc/machine/arm/strcmp-armv7.S: Likewise.
	* libc/machine/arm/strcmp-armv7m.S: Likewise.

2015-11-06  Marcus Shawcroft  <marcus.shawcroft@arm.com>

	* libc/machine/arm/Makefile.am: Drop MEMCHR_SRC and MEMCHR_OBJ.
	* libc/machine/arm/Makefile.in: Regenerate.
	* libc/machine/arm/memchr-stub.c: New.
	* libc/machine/arm/memchr.S: Adjust comments.  Include memchr.c and
	acle-compat.h.  Make .arch directive architecture dependent.
	* libc/machine/arm/configure.in (HAVE_ARMV7): Remove.
	* libc/machine/arm/configure: Regenerate.

2015-11-06  Marcus Shawcroft  <marcus.shawcroft@arm.com>

	* libc/machine/arm/Makefile.am: Drop MEMCPY_SRC and MEMCPY_OBJ.
	* libc/machine/arm/Makefile.in: Regenerate.
	* libc/machine/arm/configure.in: Remove HAVE_ARMV8A, HAVE_ARMV7A and
	HAVE_ARM7M.
	* libc/machine/arm/configure: Regenerate.
	* libc/machine/arm/memcpy-stub.c: New.
	* libc/machine/arm/memcpy.c: Adjust copyright year.  Adjust comments.
	Include acle-compat.h.

2015-11-06  Olivier Martin  <olivier@labapart.com>

	* libc/include/stdlib.h (mktemp): Change attribute to deprecated.
	(_mktemp_r): Ditto.

2015-11-03  Marcus Shawcroft  <marcus.shawcroft@arm.com>

	* libc/machine/arm/configure.in: Check for __ARM_ARCH_8A__.
	* libc/machine/arm/memcpy.S: Handle __ARM_ARCH_8A__.
	* libc/machine/arm/Makefile.am: Consider HAVE_ARMV8A in memcpy
	selection.
	* libc/machine/arm/Makefile.in: Regenerate.
	* libc/machine/arm/configure: Regenerate.

2015-11-02  Jon Turney  <jon.turney@dronecode.org.uk>

	* HOWTO: Update.
	* Makefile.shared: Move documentation rules to here...
	* libc/argz/Makefile.am: ... from here ...
	* libc/ctype/Makefile.am: ... and here.
	* libc/errno/Makefile.am: Ditto.
	* libc/iconv/Makefile.am: Ditto.
	* libc/iconv/ccs/Makefile.am : Ditto.
	* libc/iconv/ces/Makefile.am: Ditto.
	* libc/iconv/lib/Makefile.am: Ditto.
	* libc/locale/Makefile.am: Ditto.
	* libc/misc/Makefile.am: Ditto.
	* libc/posix/Makefile.am: Ditto.
	* libc/reent/Makefile.am: Ditto.
	* libc/search/Makefile.am: Ditto.
	* libc/stdio/Makefile.am: Ditto.
	* libc/stdio64/Makefile.am: Ditto.
	* libc/stdlib/Makefile.am : Ditto.
	* libc/string/Makefile.am: Ditto.
	* libc/syscalls/Makefile.am: Ditto.
	* libc/time/Makefile.am : Ditto.
	* libc/unix/Makefile.am: Ditto.
	* libc/xdr/Makefile.am: Ditto.
	* libm/common/Makefile.am: Ditto.
	* libm/complex/Makefile.am: Ditto.
	* libm/math/Makefile.am: Ditto.
	* libm/mathfp/Makefile.am: Ditto.

2015-11-02  Jon Turney  <jon.turney@dronecode.org.uk>

        * libc/time/wcsftime.c: Consistently use an em-dash in FUNCTION
summary.
        * libm/common/isgreater.c: Ditto.
        * libm/common/s_fdim.c: Ditto.
        * libm/common/s_fma.c: Ditto.
        * libm/common/s_fmax.c: Ditto.
        * libm/common/s_fmin.c: Ditto.
        * libm/common/s_infinity.c: Ditto.
        * libm/common/s_isnan.c: Ditto.
        * libm/common/s_log2.c: Ditto.
        * libm/common/s_logb.c: Ditto.
        * libm/common/s_lrint.c: Ditto.
        * libm/common/s_lround.c: Ditto.
        * libm/common/s_nearbyint.c: Ditto.
        * libm/common/s_remquo.c: Ditto.
        * libm/common/s_rint.c: Ditto.
        * libm/common/s_round.c: Ditto.
        * libm/common/s_scalbn.c: Ditto.
        * libm/common/s_signbit.c: Ditto.
        * libm/common/s_trunc.c: Ditto.
        * libm/math/w_exp2.c: Ditto.
        * libm/math/w_gamma.c: Ditto.

2015-11-02  Jon Turney  <jon.turney@dronecode.org.uk>

        * libc/stdio/fseek.c: Add missing semicolons to prototypes in
        SYNOPSIS.
        * libc/stdio/fwide.c: Ditto.
        * libc/stdio64/fseeko64.c: Ditto.
        * libc/string/strtok.c: Ditto.
        * libc/string/wcstok.c: Ditto.
        * libm/math/w_cosh.c: Ditto.
        * libm/math/w_fmod.c:  Ditto.
        * libm/mathfp/s_cosh.c: Ditto.
        * libm/mathfp/s_fmod.c: Ditto.

2015-11-02  Steve Ellcey  <sellcey@imgtec.com>

	* libc/machine/mips/memcpy.S (memcpy): Add word copies for small
	aligned data.

2015-10-30  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/include/pthread.h: Include <sched.h> instead of <sys/sched.h>.

2015-10-26  Brian Inglis  <Brian.Inglis@SystematicSw.ab.ca>

	* libc/time/strftime.c (__strftime): add support for %s (seconds from
	Unix epoch).  Fix whitespaces.

2015-10-19  Nick Clifton  <nickc@redhat.com>

	* libc/include/sys/_intsup.h: Add support for 16-bit and 20-bit
	pointers.

2015-10-14  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/stdlib/Makefile.am (GENERAL_SOURCES): Add alloc_aligned.c.c.
	* libc/stdlib/Makefile.in: Regenerate.
	* libc/stdlib/aligned_alloc.c: New.

2015-10-14  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/include/stdlib.h (alloc_aligned): Declare.

2015-10-14  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/include/stdlib.h (at_quick_exit): Declare.
	(quick_exit): Likewise.
	* libc/stdlib/Makefile.am (GENERAL_SOURCES): Add
	quick_exit.c.
	* libc/stdlib/Makefile.in: Regenerate.
	* libc/stdlib/quick_exit.c: New.

2015-10-13  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/include/threads.h: New.
	* libc/sys/rtems/include/machine/_threads.h: Likewise.

2015-10-13  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/include/sys/cdefs.h: Synchronize with latest FreeBSD
	version.

2015-10-13  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/include/sys/cdefs.h: Add style changes of latest FreeBSD
	version.

2015-10-08  Nick Clifton  <nickc@redhat.com>

	* libc/include/machine/setjmp.h (_JBLEN): Define for IA64.

2015-09-22  James Bowman  <james.bowman@ftdichip.com>

	* configure.host (ft32): minimise newlib code size

2015-09-04  James Bowman  <james.bowman@ftdichip.com>

	* configure.host: Add ft32 support.
	* libc/include/machine/ieeefp.h: Ditto.
	* libc/include/machine/setjmp.h: Ditto.
	* libc/machine/configure.in: Ditto.
	* libc/machine/configure: Ditto.
	* libc/machine/ft32/Makefile.am: New file.
	* libc/machine/ft32/Makefile.in: Ditto.
	* libc/machine/ft32/aclocal.m4: Ditto.
	* libc/machine/ft32/configure.in: Ditto.
	* libc/machine/ft32/configure: Ditto.
	* libc/machine/ft32/memcpy.S: Ditto.
	* libc/machine/ft32/memset.S: Ditto.
	* libc/machine/ft32/setjmp.S: Ditto.
	* libc/machine/ft32/stpcmp.S: Ditto.
	* libc/machine/ft32/strcmp.S: Ditto.
	* libc/machine/ft32/strcpy.S: Ditto.
	* libc/machine/ft32/strlen.S: Ditto.

2015-09-03  Hans-Peter Nilsson  <hp@axis.com>

	* libc/machine/cris/sys/signal.h (kill): Declare.

2015-08-29  Corinna Vinschen  <corinna@vinschen.de>

	* include/sys/unistd.h (_SC_LEVEL*): Add cache-related variables as
	on Linux.

2015-08-27  Markus Eisenmann  <meisenmann.lba@fh-salzburg.ac.at>

	* libc/machine/arm/strlen-armv7.S: Fix prepocessor check to avoid
	double definition of strlen.

2015-08-27  Andre Vieira  <andre.simoesdiasvieira@arm.com>

	* libc/include/sys/_intsup.h: Defined new __INTxx, __FASTxx and
	__LEASTxx macro's to hold information regarding the respective types
	print and scan formats.
	* libc/include/inttypes.h: Defined LEAST and FAST specific PRI and SCN
	macro's as these are not always the same as the INT variants. Used the
	new __INTxx, __FASTxx and __LEASTxx macro's in their corresponding PRI
	and SCN macros.

2015-08-07  Stefan Wallentowitz  <stefan.wallentowitz@tum.de>

	* libc/sys/or1k/mlock.c: Fix exception enable saving

2015-08-03  Shoichi Sakon  <s-sakon@ap.jp.nec.com>

	* libc/stdio/vfwscanf.c (__SVFWSCANF_R): Convert wrong usage of va_arg
	to GET_ARG in %lc, %ls nad %l[] cases.  Fix unterminated string in %l[]
	case.

2015-07-30  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/sys/rtems/include/sys/lock.h (__LOCK_INIT_RECURSIVE): Use
	proper type.

2015-07-30  Wilco Dijkstra  <wdijkstr@arm.com>

	* libc/machine/aarch64/memset.S (memset): Rewrite.

2015-07-28  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	libc/sys/rtems/machine/_types.h: Move to ...
	libc/sys/rtems/include/machine/_types.h: ... here.
	libc/sys/rtems/machine/limits.h: Move to ...
	libc/sys/rtems/include/machine/limits.h: ... here.
	libc/sys/rtems/machine/param.h: Move to ...
	libc/sys/rtems/include/machine/param.h: ... here.
	libc/sys/rtems/sys/cpuset.h: Move to ...
	libc/sys/rtems/include/sys/cpuset.h: ... here.
	libc/sys/rtems/sys/dirent.h: Move to ...
	libc/sys/rtems/include/sys/dirent.h: ... here.
	libc/sys/rtems/sys/param.h: Move to ...
	libc/sys/rtems/include/sys/param.h: ... here.
	libc/sys/rtems/sys/syslimits.h: Move to ...
	libc/sys/rtems/include/sys/syslimits.h: ... here.
	libc/sys/rtems/sys/utime.h: Move to ...
	libc/sys/rtems/include/sys/utime.h: ... here.

2015-07-28  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/sys/rtems/include/sys/lock.h: New.

2015-07-21  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/machine/setjmp.h (siglongjmp): Declare as function on
	Cygwin.
	(sigsetjmp): Ditto.
	(_longjmp): Mark as noreturn function on Cygwin.

2015-07-15  Wilco Dijkstra  <wdijkstr@arm.com>

	* libc/machine/aarch64/memset.S (memset):
	Revert: Rewrite of optimized memset.

2015-07-13  Wilco Dijkstra  <wdijkstr@arm.com>

	* libc/machine/aarch64/memset.S (memset):
	Rewrite of optimized memset.

2015-07-13  Wilco Dijkstra  <wdijkstr@arm.com>

	* libc/machine/aarch64/memcpy.S (memcpy):
	Rewrite of optimized memcpy.

2015-07-13  Wilco Dijkstra  <wdijkstr@arm.com>

	* libc/machine/aarch64/memove.S (memmove):
	Rewrite of optimized memmove.

2015-07-06  Yaakov Selkowitz  <yselkowi@redhat.com>

	* libc/include/libgen.h (basename): Define as __xpg_basename
	for source compatibility with glibc.
	Declare with __ASMNAME("basename") for ABI compatibility.
	* libc/include/string.h (basename): Define as basename for
	source compatibility with glibc.
	Declare with __ASMNAME("__gnu_basename") for ABI compatibility.

2015-07-06  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/time.h: Explicitely include sys/cdefs.h.
	* libc/include/sys/types.h: Ditto.  Guard BSD convenience base types
	with __BSD_VISIBLE rather than !_POSIX_SOURCE.

2015-07-01  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/stdio/fputs.c (_puts_r): Add missing CHECK_INIT().
	* libc/stdio/gets.c (_gets_r): Add missing _REENT_SMALL_CHECK_INIT() and
	CHECK_INIT().  Use _stdin_r() to get the file pointer instead of stdin.

2015-06-29  Jon Turney  <jon.turney@dronecode.org.uk>

	* libc/ctype/Makefile.in: Regenerate.
	* libc/posix/Makefile.in: Ditto.
	* libc/stdio/Makefile.in: Ditto.
	* libc/stdio64/Makefile.in: Ditto.
	* libc/stdlib/Makefile.in: Ditto.
	* libc/string/Makefile.in: Ditto.

2015-06-23  Jon Turney  <jon.turney@dronecode.org.uk>

	* libc/ctype/Makefile.am (CHEWOUT_FILES): Add isblank.def.
	* libc/ctype/ctype.tex: Include isblank and add to menu.
	* libc/posix/Makefile.am (CHEWOUT_FILES): Add posix_spawn.def.
	* libc/posix/posix.tex: Include posix_spawn and add to menu.
	* libc/stdio64/Makefile.am (CHEWOUT_FILES): Add fdopen.def.
	* libc/stdio64/stdio64.tex: Include fdopen64 and add to menu.
	* libc/stdio64/fdopen64.c: Improve one-line description.
	* libc/string/Makefile.am (CHEWOUT_FILES): Add strchrnul.def.
	* libc/string/strings.tex: Include strchrnul and add to menu.

2015-06-23  Jon Turney  <jon.turney@dronecode.org.uk>

	* libc/stdlib/stdlib.tex: Include itoa and utoa, and add to menu.
	* libc/string/strings.tex: Include memrchr and rawmemchr, and add
	to menu.
	* libm/math/math.tex: Include exp10 and pow10, and add to menu.
	* libm/common/s_exp10.c: Improve one-line description.
	* libm/common/s_exp10.c: Ditto.

2015-06-23  Jon Turney  <jon.turney@dronecode.org.uk>

	* libc/stdlib/Makefile.am (CHEWOUT_FILES): Remove $(MALLOCR).def.
	* libc/stdio/Makefile.am (CHEWOUT_FILES): Remove getwc.def and
	putwc.def.

2015-06-23  Jon Turney  <jon.turney@dronecode.org.uk>

	* libc/locale/locale.c: Fix mismatched parentheses in
	documentation.
	* libc/locale/locale.tex: Ditto.
	* libc/stdio/fgetwc.c: Ditto.

2015-06-23  Jon Turney  <jon.turney@dronecode.org.uk>

	* libc/stdlib/efgcvt.c: Fix typo-ed function names in
	documentation.
	* libc/stdlib/stdlib.tex: Fix function name in menu to match.

2015-06-23  Jon Turney  <jon.turney@dronecode.org.uk>

	* libc/stdio/fread.c: Fix inconsistent use of '.' to separate
	function names in FUNCTION mark up.

2015-06-23  Jon Turney  <jon.turney@dronecode.org.uk>

	* libc/stdlib/llabs.c: Mark up parameter name in ANSI_SYNOPSIS.
	* libc/time/tzset.c: Add and mark up parameter in SYNOPSIS.
	* libm/common/s_nan.c: Ditto.

2015-06-23  Jon Turney  <jon.turney@dronecode.org.uk>

	* libc/stdio/getchar_u.c: Fix a non-ANSI prototype in SYNOPSIS.

2015-06-23  Jon Turney  <jon.turney@dronecode.org.uk>

	* libc/string/wcscpy.c: Remove stray ',' from prototype in
	ANSI_SYNOPSIS.
	* libc/string/wcpcpy.c: Ditto.

2015-06-23  Jon Turney  <jon.turney@dronecode.org.uk>

	* libc/stdlib/itoa.c: Fix makedoc markup.
	* libc/stdlib/wcsnrtombs.c: Ditto.

2015-06-23  Jon Turney  <jon.turney@dronecode.org.uk>

	* libc/signal/signal.tex: Use texinfo not makedoc markup.
	* libc/stdio/stdio.tex: Ditto.

2015-06-22  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/signal.h: Include forgotten sys/cdefs.h.

2015-06-20  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/signal.h: Move altstack macros completely
	outside of rtems block.

2015-06-19  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/signal.h: Define SS_ONSTACK and SS_DISABLE
	unconditionally.
	(sigaltstack): Enable prototype on Cygwin.

2015-06-15  Freddie Chopin  <freddie_chopin@op.pl>

	* libc/time/gmtime_r.c (gmtime_r): use faster algorithm from
	civil_from_days() by Howard Hinnant

2015-06-01  Hale Wang  <hale.wang@arm.com>

	* libc/machine/arm/aeabi_memmove-arm.S (__aeabi_memmove): Update the
	assembler implementation.
	* libc/machine/arm/aeabi_memmove-thumb.S (__aeabi_memmove): Ditto.
	* libc/machine/arm/aeabi_memmove-thumb2.S (__aeabi_memmove): Ditto.
	* libc/machine/arm/aeabi_memset-arm.S (__aeabi_memset): Ditto.
	* libc/machine/arm/aeabi_memset-thumb.S (__aeabi_memset): Ditto.
	* libc/machine/arm/aeabi_memset-thumb2.S (__aeabi_memset): Ditto.

2015-06-01  Szabolcs Nagy  <szabolcs.nagy@arm.com>

	* libm/machine/aarch64/e_sqrt.c: New file.
	* libm/machine/aarch64/ef_sqrt.c: New file.
	* libm/machine/aarch64/s_fabs.c: New file.
	* libm/machine/aarch64/sf_fabs.c: New file.
	* libm/machine/aarch64/Makefile.in: Add new source files.
	* libm/machine/aarch64/Makefile.am: Regenerate.

2015-05-31  David Stacey  <drstacey@tiscali.co.uk>

	* libc/argz/argz_replace.c (argz_replace): Correct behaviour when memory
	is exhausted.

2015-05-28  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/sys/wait.h: Fix comment.

2015-05-27  David Stacey  <drstacey@tiscali.co.uk>

	* libc/argz/argz_replace.c: Fix potential memory leak.

2015-05-26  DJ Delorie  <dj@redhat.com>

	* libm/math/e_sqrt.c (__ieee754_sqrt): Don't truncate constant to
	"int".

2015-05-13  Nick Clifton  <nickc@redhat.com>

	* libm/common/s_signbit.c (__signbitf): Fix for 16-bit targets.
	(__signbitd): Likewise.

2015-05-02  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/sys/time.h: Include sys/select.h on Cygwin.  Explain why.

2015-04-29  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/sys/config.h: Move evaluation of _UINTPTR_EQ_ULONG and
	_UINTPTR_EQ_ULONGLONG from here...
	* libc/include/sys/_intsup.h: ...to here.  Rename to _INTPTR_EQ_LONG
	and _INTPTR_EQ_LONGLONG to refer to signed base type.  Add test for
	base type of int32_t and set _INT32_EQ_LONG accordingly.
	* libc/include/stdint.h: Change checks for __have_long32 to checks
	for _INT32_EQ_LONG.
	* libc/include/inttypes.h: Ditto.  Accommodate aforementioned name
	change.

2015-04-22  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/libgen.h (basename): Drop defining _BASENAME_DEFINED.
	Always define macro basename.  Add comment to explain why.
	* libc/include/string.h (basename): Check for basename instead of
	_BASENAME_DEFINED.  Drop __GNUC__ branch, always use basename macro.
	Change comment to explain why.  Add nonnull function attribute.

2015-04-09  Nick Clifton  <nickc@redhat.com>

	* libc/machine/rx/memchr.S: Add non-string insn using version.
	* libc/machine/rx/memcpy.S: Likewise.
	* libc/machine/rx/memmove.S: Likewise.
	* libc/machine/rx/mempcpy.S: Likewise.
	* libc/machine/rx/strcat.S: Likewise.
	* libc/machine/rx/strcmp.S: Likewise.
	* libc/machine/rx/strcpy.S: Likewise.
	* libc/machine/rx/strlen.S: Likewise.
	* libc/machine/rx/strncat.S: Likewise.
	* libc/machine/rx/strncmp.S: Likewise.
	* libc/machine/rx/strncpy.S: Likewise.

2015-04-01  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/stdint.h: Throughout add parens around MIN/MAX values.

2015-04-01  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/include/sys/_stdint.h: New file.
	* libc/include/stdint.h (int8_t): Move to <sys/_stdint.h>.
	(uint8_t): Likewise.
	(int16_t): Likewise.
	(uint16_t): Likewise.
	(int32_t): Likewise.
	(uint32_t): Likewise.
	(int64_t): Likewise.
	(uint64_t): Likewise.
	(intptr_t): Likewise.
	(uintptr_t): Likewise.
	* libc/include/sys/types.h: Include <sys/_stdint.h>.
	* libc/sys/rtems/machine/_types.h: Remove <stdint.h> include.
	* libc/sys/time.h>: Replace __uint32_t with uint32_t and
	__uint64_t with uint64_t.

2015-04-01  Jon TURNEY  <jon.turney@dronecode.org.uk>

	* libc/include/sys/signal.h (stack_t): Make typedef generally
	available.

2015-04-01  Corinna Vinschen  <vinschen@redhat.com>

	* libc/stdlib/wctomb_r.c (__utf8_wctomb): Fix check for handling a
	lone high surrogate.

2015-03-31  Corinna Vinschen  <vinschen@redhat.com>

	* libc/time/lcltime_r.c (localtime_r): Call _tzset_unlocked inside
	TZ lock.
	* libc/time/mktime.c (mktime):  Ditto.
	* libc/time/strftime.c (strftime, wcsftime): Ditto.  Guard against
	calling _tzset_unlocked more than once (baring recursion).

2015-03-31  Corinna Vinschen  <vinschen@redhat.com>

	* libc/time/local.h (_tzset_unlocked_r): Add prototype.
	(_tzset_unlocked): Ditto.
	* libc/time/tzset.c (_tzset_unlocked): New function, call
	_tzset_unlocked_r.
	(tzset): Lock and call _tzset_unlocked_r.
	* libc/time/tzset_r (_tzset_unlocked_r): Remove locking and rename
	from _tzset_r.
	(_tzset_r): Lock and call _tzset_unlocked_r.

2015-03-30  Craig Howland  <howland@LGSInnovations.com>

	* libc/stdlib/setenv_r.c (_setenv_r): Remove tzset() call for TZ
	definition.
	* libc/time/lcltime_r.c (localtime_r): Add tzset() call
	* libc/time/mktime.c (mktime):  Ditto.
	* libc/time/strftime.c (strftime, wcsftime): Ditto.

2015-03-30  Yaakov Selkowitz  <yselkowi@redhat.com>

	* libc/time/strftime.c (strftime) <%Z>: Initialize tznam to NULL.
	Use _tzname as fallback if TM_ZONE is NULL.

2015-03-30  Yaakov Selkowitz  <yselkowi@redhat.com>

	* libc/include/libgen.h (_BASENAME_DEFINED): Define.
	* libc/include/string.h (basename): Declare.
	* libc/string/Makefile.am (ELIX_4_SOURCES): Add gnu_basename.c.
	* libc/string/Makefile.in: Regenerate.
	* libc/string/gnu_basename.c: New file.

2015-03-23  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/include/sys/tree.h: New file.

2013-03-23  Joel Sherrill <joel.sherrill@oarcorp.com>

	* newlib.hin: Remove _UINTPTR_EQ_ULONG and _UINTPTR_EQ_ULONGLONG.

2015-03-23  Joel Sherrill <joel.sherrill@oarcorp.com

	* configure.in: Delete logic to determine _UINTPTR_EQ_ULONGLONG
	and _UINTPTR_EQ_ULONG at configuration time.
	*libc/include/sys/config.h: Add logic to determine
	_UINTPTR_EQ_ULONGLONG and _UINTPTR_EQ_ULONG at compilation time.
	* libc/include/inttypes.h: Add include of <sys/config.h>.
	* configure: Regenerated.

2015-03-19  Steve Ellcey  <sellcey@imgtec.com>

	* libc/include/sys/time.h: Replace uint32_t and uint64_t
	with __uint32_t and __uint64_t.

2015-03-13  Jon TURNEY  <jon.turney@dronecode.org.uk>

	* libc/libc.texinfo: Fix directory entry.
	* libm/libm.texinfo: Ditto.

2015-03-13  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/sys/time.h: Drop including cygwin/sys_time.h on Cygwin.

2015-03-13  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/include/machine/_types.h (__suseconds_t): Define.
	* libc/include/sys/_timeval.h: Import from FreeBSD and add
	MinGW-w64 compatibility.
	(timerclear): Copy from FreeBSD <sys/time.h>.
	(timerisset): Likewise.
	(timercmp): Likewise.
	(timeradd): Likewise.
	(timersub): Likewise.
	* libc/include/sys/time.h: (bintime, ...) Import from FreeBSD.
	(timespecclear, ...): Likewise.
	(inittodr, ...): Likewise.
	(timerclear): Delete.
	(timerisset): Likewise.
	(timercmp): Likewise.
	(timeradd): Likewise.
	(timersub): Likewise.
	(futimes): Declare if __BSD_VISIBLE.
	(futimesat): Likewise.
	(lutimes): Likewise.
	(setitimer): Declare unconditionally.
	(gettimeofday): Declare if __XSI_VISIBLE.
	* libc/include/sys/types.h (sbintime_t): Define.
	(suseconds_t): Define conditionally via __suseconds_t.

2015-03-12  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/sys/rtems/include/semaphore.h: Import from FreeBSD.

2015-03-11  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/include/sys/_timespec.h: Import from FreeBSD.
	* libc/include/sys/timespec.h: Likewise.
	* libc/include/time.h: Include <sys/timespec.h>.
	* libc/include/sys/types.h (timespec): Delete.
	(itimerspec): Likewise.
	* libc/include/machine/time.h: Include <sys/_timespec.h>.
	* libc/include/sys/sched.h: Likewise.
	* libc/include/sys/signal.h: Likewise.
	* libc/include/sys/stat.h: Likewise.

2015-03-11  Nick Clifton  <nickc@redhat.com>

	* testsuite/newlib.stdio/swprintf.c (main): Change size of value
	used to initialise 'val' variable so that it will compile on
	targets with 32-bit doubles.

2015-03-05  Craig Howland  <howland@LGSInnovations.com>

	* libc/include/stdio.h (FILE): Protect typedef from redefinition.
	* libc/include/wchar.h: Ditto.

2015-02-25  Gedare Bloom  <gedare@rtems.org>

	* libc/include/machine/time.h (_CLOCKS_PER_SEC_): redefine for RTEMS.

2015-03-03  Steve Ellcey  <sellcey@imgtec.com>

	* libc/machine/mips/memset.S: Add support for mips32r6/mips64r6.

2015-03-03  Steve Ellcey  <sellcey@imgtec.com>

	* libc/machine/mips/memcpy.S: Add support for mips32r6/mips64r6.

2015-02-26  Steve Ellcey  <sellcey@imgtec.com>

	* libc/machine/mips/memcpy.S: Fix macro indentation and typos in
	comments.

2015-02-24  Jon TURNEY  <jon.turney@dronecode.org.uk>

	* libc/include/sys/cdefs.h (_GNU_SOURCE): Move check so it has an
	effect when _XOPEN_SOURCE is also defined.

2015-02-17  Hale Wang  <hale.wang@arm.com>

	* libc/machine/arm/aeabi_memclr.c: New file to support
	aeabi_memclr.
	* libc/machine/arm/aeabi_memset.c: New file to support
	aeabi_memset.
	* libc/machine/arm/aeabi_memset-soft.S: Ditto.
	* libc/machine/arm/aeabi_memset-arm.S: Ditto.
	* libc/machine/arm/aeabi_memset-thumb.S: Ditto.
	* libc/machine/arm/aeabi_memset-thumb2.S: Ditto.
	* libc/machine/arm/Makefile.am: Add dependencies.
	* libc/machine/arm/Makefile.in: Regenerated.

2015-02-17  Hale Wang  <hale.wang@arm.com>

	* libc/machine/arm/aeabi_memmove.c: New file to support
	aeabi_memmove.
	* libc/machine/arm/aeabi_memmove-soft.S: Ditto.
	* libc/machine/arm/aeabi_memmove-arm.S: Ditto.
	* libc/machine/arm/aeabi_memmove-thumb.S: Ditto.
	* libc/machine/arm/aeabi_memmove-thumb2.S: Ditto.
	* libc/machine/arm/Makefile.am: Add dependencies.
	* libc/machine/arm/Makefile.in: Regenerated.

2015-02-06  Nick Clifton  <nickc@redhat.com>

	* libc/include/complex.h (cabsl): Add prototype.
	(cimagl): Add prototype.
	(creall): Add prototype.
	* libc/include/ieeefp.h: Include float.h.
	(EXT_EXPBITS, EXT_FRACHBITS, EXT_FRACLBITS)
	(EXT_EXP_INFNAN. EXT_EXP_BIAS, EXT_FRACBITS): Define.
	(struct ieee_ext, union ieee_ext_u): New types for long double
	support.
	* libc/include/math.h (finitel): Add prototype.
	(hypotl): Add prototype.
	(sqrtl): Add prototype.
	* libm/common/Makefile.am (lsrc): Add sl_finite.c.
	* libm/common/Makefile.in: Regenerate.
	* libm/common/fdlibm.h (__ieee754_hypotl): Add prototype.
	* libm/common/hypotl.c (hypotl): Add implementation for when long
	double is larger than double.
	* libm/common/sqrtl.c (sqrtl): Likewise.
	* libm/common/sl_finite.c: New file.  Adds implementation of the
	finitel function.
	* libm/complex/Makefile.am (lsrc): Define.
	(libcomplex_la_SOURCES): Add lsrc.
	(lib_a_SOURCES): Add lsrc.
	* libm/complex/Makefile.in: Regenerate.
	* libm/complex/cabs.c: Add documentation of cabsl function.
	* libm/complex/cimag.c: Add documentation of cimagl function.
	* libm/complex/creall.c: Add documentation of creall function.
	* libm/complex/cabsl.c: New file.  Adds implementation of the
	cabsl function.
	* libm/complex/cimagl.c: New file.  Adds implementation of the
	cimagl function.
	* libm/complex/creall.c: New file.  Adds implementation of the
	creall function.
	* libm/math/Makefile.am (lsrc): Define.
	(libmath_la_SOURCES): Add lsrc.
	(lib_a_SOURCES): Add lsrc.
	* libm/math/Makefile.in: Regenerate.
	* libm/math/el_hypot.c: New file.  Adds implementation of the
	__ieee754_hypotl function.

2015-02-04  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/wchar.h (wcstold): Drop _LDBL_EQ_DBL requirement for
	declaration.

2015-01-29  Nick Clifton  <nickc@redhat.com>

	* libc/stdlib/wcstold.c (wcstold): Add implementation for when
	long double is not the same as double.

2015-01-28  Christian Eggers  <ceggers@gmx.de>

	* libc/include/sys/time.h: #include <sys/cdefs.h> for __BSD_VISIBLE.

2015-01-23  Corinna Vinschen  <vinschen@redhat.com>

	Complete action from 2001-12-18:
	* libc/machine/i386/f_*: Remove duplicate files.

2015-01-22  Yaakov Selkowitz  <yselkowi@redhat.com>

	* libc/sys/sparc64/sys/time.h: #include <sys/types.h> for time_t.

2015-01-22  Stefan Wallentowitz  <stefan.wallentowitz@tum.de>

	* libc/sys/or1k/mlock.c: Fix dependency on libgloss.

2015-01-21  Eric Botcazou  <ebotcazou@adacore.com>

	* configure.host: Add Visium support.
	* libc/machine/configure.in: Likewise.
	* libc/machine/configure: Regenerate.
	* libc/machine/visium/: New directory.
	* libc/include/machine/setjmp.h (_JBLEN): Define for Visium.
	* libc/include/machine/ieeefp.h (__IEEE_BIG_ENDIAN): Likewise.
	* libc/include/machine/time.h (_CLOCKS_PER_SEC_): Likewise.

2015-01-20  Stefan Wallentowitz  <stefan.wallentowitz@tum.de>

	* libc/sys/configure.in: Add OpenRISC.
	* libc/sys/configure: Regenerate.

2015-01-20  Wilco Dijkstra  <wdijkstr@arm.com>

	* libc/machine/aarch64/strlen.S (strlen): Improve performance.

2015-01-20  Stefan Wallentowitz  <stefan.wallentowitz@tum.de>

	* configure.host: Add extra system for OpenRISC baremetal.

2015-01-14  Joel Sherrill <joel.sherrill@oarcorp.com>

	* libc/include/sys/unistd.h [__BSD_VISIBLE]: Add issetugid() prototype.

2015-01-14  Joel Sherrill <joel.sherrill@oarcorp.com>

	* doc/makedoc.c: Use uintptr_t to avoid int/pointer size warnings

2015-01-14  Stefan Wallentowitz  <stefan.wallentowitz@tum.de>

	* configure.host: Add extra system for OpenRISC baremetal
	* libc/include/sys/config.h: Dynamic reentrancy for or1k sys targets
	* libc/sys/or1k/: New system for or1k baremetal
	* libc/sys/or1k/Makefile.am: New file
	* libc/sys/or1k/Makefile.in: New file
	* libc/sys/or1k/aclocal.m4: New file
	* libc/sys/or1k/configure.in: New file
	* libc/sys/or1k/configure: New file
	* libc/sys/or1k/getreent.S: New file
	* libc/sys/or1k/mlock.S: New file
	* libc/sys/or1k/or1k-asm.S: New file

2015-01-12  Renlin Li  <renlin.li@arm.com>

	* testsuite/newlib.wctype/tiswctype.c (main): Use wide character type
	function.

2015-01-08  Corinna Vinschen  <vinschen@redhat.com>

	* libc/time/strftime.c (__strftime): Utilize __TM_GMTOFF and __TM_ZONE
	on systems where available.  On Cygwin, call function to get values.
	Add comment to explain why.  Drop TZ_LOCK/TZ_UNLOCK in 'z' case since
	it's not necessary.  In 'Z' case, add a comment to document a potential
	codeset problem.

2015-01-08  Renlin Li  <renlin.li@arm.com>

	* testsuite/newlib.wctype/twctrans.c (main): Use towlower and towupper.

2015-01-06  Richard Earnshaw  <rearnsha@arm.com>

	* libc/machine/aarch64/strcpy.S (strcpy): Further performance
	improvements.  Adjust to allow building as stpcpy.
	* libc/machine/aarch64/stpcpy.S: New file.
	* libc/machine/aarch64/stpcpy-stub.c: New file.
	* libc/machine/aarch64/Makefile.am (lib_a_SOURCES): Build stpcpy.
	* libc/machine/aarch64/Makefile.in: Regenerated.

2014-12-26  Freddie Chopin  <freddie_chopin@op.pl>

	* libc/include/sys/features.h: update newlib version and copyright year

2014-12-18  Jeff Johnston  <jjohnstn@redhat.com>

        * NEWS: Update with 2.2.0 info.
        * README: Ditto.
        * acinclude.m4: Change version number to 2.2.0.
        * libc/libc.texinfo: Ditto.
        * libm/libm.texinfo: Ditto.
        * configure: Regenerated.
        * Makefile.in: Regenerated.
        * doc/configure: Ditto.
        * libc/*/configure: Ditto.
        * libm/*/configure: Ditto.
        * libc/sys/linux/shared.ld: Add VERS_2.2

2014-12-18  Yaakov Selkowitz  <yselkowi@redhat.com>

	Implement BSD/GNU unlocked stdio extensions.
	* libc/include/stdio.h (clearerr_unlocked, feof_unlocked,
	ferror_unlocked, fflush_unlocked, fgetc_unlocked, fgets_unlocked,
	fileno_unlocked, fputc_unlocked, fputs_unlocked, fread_unlocked,
	fwrite_unlocked): Declare.
	* libc/include/wchar.h (fgetwc_unlocked, fgetws_unlocked,
	fputwc_unlocked, fputws_unlocked, getwc_unlocked, getwchar_unlocked,
	putwc_unlocked, putwchar_unlocked): Declare.
	* libc/stdio/Makefile.am (ELIX_4_SOURCES): Add clearerr_u.c,
	feof_u.c, ferror_u.c, fflush_u.c, fgetc_u.c, fgets_u.c, fgetwc_u.c,
	fgetws_u.c, fileno_u.c, fputc_u.c, fputs_u.c, fputwc_u.c, fputws_u.c,
	fread_u.c, fwrite_u.c, getwc_u.c, getwchar_u.c, putwc_u.c, putwchar_u.c.
	Add necessary dependencies.
	* libc/stdio/Makefile.in: Regenerate.
	* libc/stdio/clearerr.c: Document unlocked variant.
	* libc/stdio/clearerr_u.c: New file.
	* libc/stdio/feof.c: Document unlocked variant.
	* libc/stdio/feof_u.c: New file.
	* libc/stdio/ferror.c: Document unlocked variant.
	* libc/stdio/ferror_u.c: New file.
	* libc/stdio/fflush.c: Add __IMPL_UNLOCKED__ overrides.
	Document unlocked variants.
	* libc/stdio/fflush_u.c: New file.
	* libc/stdio/fgetc.c: Document unlocked variants.
	* libc/stdio/fgetc_u.c: New file.
	* libc/stdio/fgets.c: Add __IMPL_UNLOCKED__ overrides.
	Document unlocked variants.
	* libc/stdio/fgets_u.c: New file.
	* libc/stdio/fgetwc.c: Document unlocked variants.
	(__fgetwc): Make non-static.
	* libc/stdio/fgetwc_u.c: New file.
	* libc/stdio/fgetws.c: Add __IMPL_UNLOCKED__ overrides.
	Document unlocked variants.
	* libc/stdio/fgetws_u.c: New file.
	* libc/stdio/fileno.c: Document unlocked variant.
	* libc/stdio/fileno_u.c: New file.
	* libc/stdio/fputc.c: Document unlocked variants.
	* libc/stdio/fputc_u.c: New file.
	* libc/stdio/fputs.c: Add __IMPL_UNLOCKED__ overrides.
	Document unlocked variants.
	* libc/stdio/fputs_u.c: New file.
	* libc/stdio/fputwc.c: Document unlocked variants.
	(__fputwc): Make non-static.
	* libc/stdio/fputwc_u.c: New file.
	* libc/stdio/fputws.c: Add __IMPL_UNLOCKED__ overrides.
	Document unlocked variants.
	* libc/stdio/fputws_u.c: New file.
	* libc/stdio/fread.c: Add __IMPL_UNLOCKED__ overrides.
	Document unlocked variants.
	* libc/stdio/fread_u.c: New file.
	* libc/stdio/fwrite.c: Add __IMPL_UNLOCKED__ overrides.
	Document unlocked variants.
	* libc/stdio/fwrite_u.c: New file.
	* libc/stdio/getwc_u.c: New file.
	* libc/stdio/getwchar.c: Document unlocked variants.
	* libc/stdio/getwchar_u.c: New file.
	* libc/stdio/local.h: Define locking macros as empty ifdef
	__IMPL_UNLOCKED__.
	(__fgetwc, __fputwc): Declare.
	* libc/stdio/putwc_u.c: New file.
	* libc/stdio/putwchar.c: Document unlocked variants.
	* libc/stdio/putwchar_u.c: New file.

2014-12-18  Corinna Vinschen  <vinschen@redhat.com>

	* stdio.tex: Add menu entries for __fsetlocking and stdio_ext.
	* stdio_ext.c: Add "stdio_ext" to synopsis.

2014-12-16  DJ Delorie  <dj@redhat.com>

	* libc/stdlib/nano-mallocr.c (ALIGN_TO): Do not assume that
	integers are as big as pointers.

2014-12-16  Richard Earnshaw  <rearnsha@arm.com>

	* libc/machine/aarch64/strcpy.S: Improve handling of short strings.

2014-12-16  Jon Beniston  <jon@beniston.com>

	* libc/include/stdlib.h (__itoa):  Declare prototype.
	(__utoa): Ditto.
	(itoa): Ditto, non-strict-ANSI only.
	(utoa): Ditto.
	* libc/stdlib/Makefile.am: Add itoa.c and utoa.c.
	* libc/stdlib/Makefile.in: Regenerate.
	* libc/stdlib/itoa.c: New file.
	* libc/stdlib/utoa.c: New file.

2014-12-15  Jonathan Roelofs  <jonathan@codesourcery.com>

	* libc/include/math.h: Add log2l,logbl,nexttowardf,
	* nexttoward,nexttowardl
	* libm/common/Makefile.am: Reference new files
	* libm/common/Makefile.in: Reference new files
	* libm/common/log2l.c: New File
	* libm/common/logbl.c: Likewise
	* libm/common/nexttowardf.c: Likewise
	* libm/common/nexttoward.c: Likewise
	* libm/common/nexttowardl.c: Likewise

2014-12-15  Yaakov Selkowitz  <yselkowi@redhat.com>

	* libc/include/stdio.h (__SNLK): Define.
	* libc/include/stdio_ext.h (FSETLOCKING_QUERY, FSETLOCKING_INTERNAL,
	FSETLOCKING_BYCALLER): Define.
	(__fsetlocking): Declare.
	* libc/stdio/Makefile.am: Build fsetlocking.c.
	* libc/stdio/Makefile.in: Regenerate.
	* libc/stdio/fsetlocking.c: New file.
	* libc/stdio/local.h (_newlib_flockfile_start): Make _flockfile
	call dependent on __SNLK flag.
	(_newlib_flockfile_exit, _newlib_flockfile_end): Ditto for
	_funlockfile calls.
	Define all locking macros as empty if __SINGLE_THREAD__.
	* libc/stdio/stdio.tex: Include fsetlocking.def.

2014-12-15  Nick Hung  <nick@andestech.com>

	* newlib/libc/include/machine/setjmp.h: Add FPU support.
	* newlib/libc/machine/nds32/setjmp.S: Add FPU support.

2014-12-15  Nick Hung  <nick@andestech.com>

	* configure.host: Add libm nds32 machine directory.
	* libm/machine/configure: Regenerated.
	* libm/machine/configure.in: Add nds32 AC_CONFIG.
	* libm/machine/nds32/Makefile.am: New file.
	* libm/machine/nds32/Makefile.in: Generated.
	* libm/machine/nds32/aclocal.m4: Generated.
	* libm/machine/nds32/configure: Generated.
	* libm/machine/nds32/configure.in: New file.
	* libm/machine/nds32/w_sqrt.S: New file.
	* libm/machine/nds32/wf_sqrt.S: New file.

2014-12-15  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/stdlib.h: Include sys/cdefs.h to avoid undefined
	__ASMNAME.

2014-12-12  Stefan Wallentowitz  <stefan.wallentowitz@tum.de>

	* configure.host: or1knd support, OpenRISC without delay slot
	* libc/include/machine/setjmp.h: Add or1knd
	* libc/machine/or1k/setjmp.S: Optional delay slot

2014-12-12  Stefan Wallentowitz  <stefan.wallentowitz@tum.de>

	* libc/machine/or1k/setjmp.S: Remove save/restore of r3-r8

2014-12-11  Jonathan Roelofs  <jonathan@codesourcery.com>
	    Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/stdio.h: Fix type signature of __sfeof and __sferror 
	for C++.

2014-12-11  Yaakov Selkowitz  <yselkowi@redhat.com>

	* libc/include/stdio_ext.h: Rename __fwriteable to __fwritable.
	[!__GNUC__]: Declare real functions for the macros, and make
	the macros conditional on !__cplusplus.
	* libc/stdio/Makefile.am (ELIX_4_SOURCES): Add stdio_ext.c.
	(CHEWOUT_FILES): Add stdio_ext.def.
	* libc/stdio/Makefile.in: Regenerate.
	* libc/stdio/stdio.tex: Include stdio_ext.def.
	* libc/stdio/stdio_ext.c: New file.

2014-12-04  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/stdio_ext.h: Remove excess "inline".

2014-12-10  Richard Earnshaw  <rearnsha@arm.com>

	* libc/machine/aarch64/strchrnul.S (vrepmask): Use a call-clobbered
	register.

2014-12-08  Richard Earnshaw  <rearnsha@arm.com>

	* libc/machine/aarch64/strrchr.S: New file.
	* libc/machine/aarch64/strrchr-stub.c: New file.
	* libc/machine/aarch64/Makefile.am: Add them to build list.
	* libc/machine/aarch64/Makefile.in: Regenerated.

2014-12-07  Freddie Chopin  <freddie_chopin@op.pl>

	* libc/time/gmtime_r.c (gmtime_r): Fixed bug in calculations for dates
	after year 2069 or before year 1901. Ideas for solution taken from
	musl's __secs_to_tm()

2014-12-05  Yaakov Selkowitz  <yselkowi@redhat.com>

	* libc/include/stdlib.h (__bsd_qsort_r): Declare.
	(qsort_r): Declare.
	* libc/search/Makefile.am (ELIX_2_SOURCES): Rename from ELIX_SOURCES.
	(ELIX_4_SOURCES): Define.  Add bsd_qsort_r.c and qsort_r.c.
	(libsearch_la_SOURCES): Adapt accordingly.
	(lib_a_SOURCES): Adapt accordingly.
	(CHEWOUT_FILES): Add qsort_r.def.
	* libc/search/Makefile.in: Regenerate.
	* libc/search/bsd_qsort_r.c: New file.
	* libc/search/qsort.c: Update from FreeBSD HEAD. Adapt for both BSD
	and GNU qsort_r flavors.
	* libc/search/qsort_r.c: New file.

2014-12-04  Ulrich Weigand  <uweigand@de.ibm.com>
	    Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/sys/signal.h [__SPU__] (kill): Declare.

2014-12-03  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/inttypes.h: Only enable the 8-bit scanning macros
	if _WANT_IO_C99_FORMATS is defined by configuration.  Add comment
	on why.

2014-11-28  Matthew Fortune  <matthew.fortune@imgtec.com>

	* libc/include/machine/setjmp.h [__mips__]: Remove __mips_fpr == 64
	from the 64-bit _JBTYPE definition.
	* libc/machine/mips/setjmp.S: Re-work the o32 FP64 support to match
	the now one-and-only supported o32 FP64 ABI extension.  Also
	support o32 FPXX.

2014-11-26  Hale Wang  <hale.wang@arm.com>

	* libc/machine/arm/strcmp-armv6m.S: New file.
	* libc/machine/arm/strcmp.S: Add new wrapper.
	* libc/machine/arm/Makefile.am: Add dependencies.
	* libc/machine/arm/Makefile.in: Regenerated.

2014-11-25  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/sys/_default_fcntl.h: Move all Cygwin-specific open
	flags from Cygwin's fcntl.h here.  Remove check for WIN32.  Remove
	Windows-specific macros.

2014-11-23  Joel Sherrill <joel.sherrill@oarcorp.com>

	* libc/include/sys/resource.h: Add prototype for getrusage()
	to <sys/resource.h>

2014-11-21  Nick Clifton  <nickc@redhat.com>

	PR target/63901
	* configure.host (msp430): Add -mhwmult=none to newlib_cflags.

2014-11-20  Peter A. Bigot  <pab@pabigot.com>

	* libc/stdio/nano-vfprintf_i.c (_printf_i): Use LONGINT when void* is
	larger than an int.

2014-11-20  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/sys/rtems/sys/syslimits.h (NGROUPS_MAX): Adjust value so
	that NGROUPS is even.

2014-11-12  Jon Beniston  <jon@beniston.com>

	* libc/stdlib/strtod.c (sulp): Cast to int32_t to avoid overflow.
	* libc/time/gmtime_r.c (DAYS_PER_*_YEARS): Convert to long constants
	to avoid overflow.

2014-11-10  Richard Earnshaw  <rearnsha@arm.com>

	* libc/machine/aarch64/strcpy.S: New file.
	* libc/machine/aarch64/strcpy-stub.S: New file.
	* libc/machine/aarch64/Makefile.am (lib_a_SOURCES): Add new files.
	* libc/machine/aarch64/Makefile.in: Regenerate.

2014-11-06  Joel Sherrill <joel.sherrill@oarcorp.com>

	* configure.in: Add autoconf test to determine size of uintptr_t.
	* newlib.hin: Add new autoconf feature variables.
	* libc/include/inttypes.h: Use new feature variables.
	* configure: Regenerate.

2014-11-06  Terry Guo  <terry.guo@arm.com>

	* libc/stdio/nano-vfprintf_i.c (_printf_i): Use Newlib approach to
	handle string that might be not nul-terminated.
	* testsuite/newlib.stdio/nulprintf.c: New test.

2014-10-29  Jon Turney  <jon.turney@dronecode.org.uk>

	* libc/include/string.h: Correct guard for strcasecmp().

2014-10-29  Terry Guo  <terry.guo@arm.com>

	* libc/stdio/vfprintf.c (_VFPRINTF_R): Remove unnecessary comparison.

2014-10-27  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/include/sys/unistd.h (sethostname): Declare if
	requested.

2014-10-20  Freddie Chopin  <freddie_chopin@op.pl>

	* libc/time/gmtime_r.c (gmtime_r): Remove dead code.

2014-10-16  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/unix/getcwd.c (getcwd): Close directory also in case of an error.

2014-10-10  Thomas Uhle <thomas.uhle@eas.iis.fraunhofer.de>

	* libc/include/_ansi.h: _LONG_LONG_TYPE definition removed.
	* libc/include/math.h: _LONG_LONG_TYPE replaced by "long long".
	Guards for C99 and C++11 functions fixed.
	* libc/include/stdlib.h: Guards for C99 and C++11 functions fixed.

2014-10-09  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/include/stdint.h: Include <sys/_intsup.h>.
	(__STDINT_EXP): Delete.
	(__have_long32): Likewise.
	(__have_long64): Likewise.
	(__have_longlong64): Likewise.
	* libc/include/sys/_intsup.h: New file.
	(__STDINT_EXP): Move from libc/include/stdint.h.
	(__have_long32): Likewise.
	(__have_long64): Likewise.
	(__have_longlong64): Likewise.
	* libc/include/inttypes.h: Include <sys/_intsup.h>.
	(__INTTYPES_EXP): Delete and use __STDINT_EXP() instead.

2014-10-09  Freddie Chopin  <freddie_chopin@op.pl>

	* libc/string/memccpy.c (memccpy): Fix warning about signed-unsigned
	comparison
	* libc/string/memchr.c (memchr): Ditto.
	* libc/string/memrchr.c (memrchr): Ditto.
	* libc/string/memset.c: (memset): Ditto.
	* libc/string/rawmemchr.c (rawmemchr): Ditto.
	* libc/string/local.h (__locale_cjk_lang): Fix "function declaration
	isn't a prototype" warning.
	* libc/string/strcasestr.c (strcasestr): Ditto.
	* libc/string/u_strerr.c (_user_strerror): Fix "unused parameter"
	warnings.
	* libc/string/rawmemchr.c (rawmemchr): Fix comment type
	"// ..." -> "/* ... */".

2014-10-08  Steve Ellcey  <sellcey@mips.com>

	* newlib/libc/machine/mips/strcmp.c: Remove.
	* newlib/libc/machine/mips/strcmp.S: New.
	* newlib/libc/machine/mips/Makefile.am (lib_a_SOURCES):
	Replace strcmp.c with strcmp.S
	* newlib/libc/machine/mips/Makefile.in: Regenerate.

2014-10-08 Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/string.h (ffsl): Declare as GNU function.
	(ffsll): Ditto.

2014-09-17  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/features.h: Add __NEWLIB__ and
	__NEWLIB_MINOR__ macros.

2014-09-17  Joel Sherrill <joel.sherrill@oarcorp.com>
	    Thomas Uhle <thomas.uhle@eas.iis.fraunhofer.de>

	* libc/include/string.h: Correct guard for strnlen().

2014-09-15  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/time/month_lengths.c: Fix to define __month_lengths.

2014-09-12  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/time/tzcalc_limits.c: Fix __month_lengths reference.

2014-09-12  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/time/month_lengths.c: Actually add file this time.
	* libc/time/tzcalc_limits.c: Ditto.

2014-09-11  Freddie Chopin  <freddie_chopin@op.pl>

	* libc/time/month_lengths.c: New file with __month_lengths array
	(previously mon_lengths array in mktm_r.c)
	* libc/time/tzcalc_limits.c: New file with __tzcalc_limits() from
	mktm_r.c
	* libc/time/lcltime_r.c (localtime_r): Simplify by changing call to
	_mktm_r() with call to gmtime_r() and code moved from _mktm_r() which
	was used to do time zone adjustments
	* libc/time/gmtime_r.c (gmtime_r): Simplify by moving all relevant
	code from _mktm_r(), breaking all dependencies on time zone related
	functions
	* libc/time/mktm_r.c: Delete file
	* libc/time/local.h: Update accordingly - remove declaration of
	_mktm_r(), add declaration of __month_lengths[]
	* libc/time/Makefile.am: Modify accordingly.
	* libc/time/Makefile.in: Regenerate.

2014-09-08  Freddie Chopin  <freddie_chopin@op.pl>

	* libc/machine/arm/Makefile.am: Fix typo.
	* libc/machine/arm/Makefile.in: Regenerated.

2014-09-05  Hale Wang  <hale.wang@arm.com>

	* libc/machine/arm/memchr.S: Clean up the wrapper.
	* libc/machine/arm/memcpy.S: Likewise.
	* libc/machine/arm/memchr-stub.c: Delete this redundant file.
	* libc/machine/arm/memcpy-stub.c: Likewise.
	* libc/machine/arm/strcmp.S: Add speed-preferred wrapper.
	* libc/machine/arm/strlen.S: Likewise.
	* libc/machine/arm/Makefile.am: Add dependencies.
	* libc/machine/arm/Makefile.in: Regenerated.
	* libc/machine/arm/configure.in: Add dependencies.
	* libc/machine/arm/configure: Regenerated.

2014-09-05  Bin Cheng  <bin.cheng@arm.com>

	* libc/stdio/findfp.c (_cleanup_r): Call _fflush_r when configuration
	option "--enable-lite-exit" is in effect.  Refactor the code.

2014-09-05  Bin Cheng  <bin.cheng@arm.com>

	* libc/stdio/fwalk.c (_fwalk_reent): Remove redundant test.

2014-09-04  Freddie Chopin  <freddie_chopin@op.pl>

	* libc/time/mktm_r.c (_mktm_r): Optimize speed.

2014-09-04  Freddie Chopin  <freddie_chopin@op.pl>

	* libc/time/clock.c (clock): Fix warnings about signed-unsigned
	comparisons.
	* libc/time/strftime.c (strftime): Likewise.
	* libc/time/strptime.c (match_string): Fix warning about discarding
	'restrict' qualifier from pointer target type.

2014-09-04  Hale Wang  <hale.wang@arm.com>

	* libc/machine/arm/aeabi_memcpy.c: New file.
	* libc/machine/arm/aeabi_memcpy-armv7a.S: New file.
	* libc/machine/arm/Makefile.am: Add dependencies.
	* libc/machine/arm/Makefile.in: Regenerated.

2014-08-27  DJ Delorie  <dj@redhat.com>

	* libc/include/math.h (frexpl): Remove parameter name.

2014-08-19  Richard Earnshaw  <rearnsha@arm.com>

	* libc/machine/aarch64/memchr.S: Add check for zero-sized buffer.

2014-08-18 Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/sys/signal.h: Declare sigaltstack for RTEMS only.

2014-08-18  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/config.h[__m68k__]: Set _READ_WRITE_RETURN_TYPE
	to _ssize_t to match underlying code in libgloss.

2014-08-18 Joel Sherrill <joel.sherrill@oarcorp.com>

	* libc/include/string.h: Improve language and OS standard guards.

2014-08-18 Joel Sherrill <joel.sherrill@oarcorp.com>

	* libc/include/sys/signal.h: Add sigaltstack() support.

2014-08-14  Bin Cheng  <bin.cheng@arm.com>

	* libc/stdio/findfp.c (std): Don't inline when optimizing for code size.

2014-08-04  Jon TURNEY  <jon.turney@dronecode.org.uk>

	* libc/include/math.h: Also define M_PI etc. if _XOPEN_SOURCE is
	defined appropriately.

2014-08-01  Eric Blake  <eblake@redhat.com>

	* libc/machine/spu/spu_timer_internal.h: Decorate attribute names
	with __, for namespace safety.
	* libc/machine/xscale/machine/profile.h: Likewise.
	* libc/include/stdlib.h: Likewise.
	* libc/include/_ansi.h: Likewise.
	* libc/include/sys/unistd.h: Likewise.
	* libc/sys/linux/linuxthreads/libc-symbols.h: Likewise.
	* libc/sys/linux/linuxthreads/internals.h: Likewise.
	* libc/sys/linux/machine/i386/weakalias.h: Likewise.
	* libc/sys/linux/machine/i386/dl-procinfo.h: Likewise.
	* libc/sys/linux/machine/i386/dl-machine.h: Likewise.
	* libc/sys/linux/libc-symbols.h: Likewise.
	* libc/sys/linux/iconv/gconv_charset.h: Likewise.
	* libc/sys/linux/include/resolv.h: Likewise.
	* libc/sys/linux/sys/unistd.h: Likewise.
	* libc/sys/linux/dl/atomicity.h: Likewise.
	* libc/sys/linux/dl/dynamic-link.h: Likewise.
	* libc/sys/linux/dl/ldsodefs.h: Likewise.

2014-07-30  Corinna Vinschen  <vinschen@redhat.com>

	* libc/string/strerror.c: Fix documentation so makedoc doesn't
	stumble over a sole EAGAIN.

2014-07-27  Anthony Green  <green@moxielogic.com>

	* configure.host: Add moxie-*-moxiebox target.

2014-07-22  Joel Sherrill <joel.sherrill@oarcorp.com>

	* libc/include/sys/time.h: Add prototype for adjtime() and
	wrap it and settimeofday() prototype with __BSD_VISIBLE.

2014-07-17  Hesham ALMatary <heshamelmatary@gmail.com>

	* configure.host: Remove or16 and or32 targets and add or1k.
	* libc/include/machine/ieeefp.h: Replace or32 with or1k.
	* libc/machine/configure.in: Add or1k subdirectory.
	* libc/machine/configure: Regenerate.
	* libc/machine/or1k/configure.in: New file.
	* libc/machine/or1k/configure: New file.
	* libc/machine/or1k/Makefile.am: New file.
	* libc/machine/or1k/Makefile.in: New file.
	* libc/machine/or1k/setjmp.S: New file.

2014-07-14  Nick Withers  <nick.withers@anu.edu.au>

	* libc/include/sys/errno.h: Fix comments.
	* libc/string/strerror.c: Fix documentation.
	(_strerror_r): Handle ENETRESET, EILSEQ, ENODATA, ECONNRESET,
	EADDRNOTAVAIL, EOVERFLOW.  Fix strings for EMFILE and EDOM.

2014-07-11  Kvin Petit  <kevin.petit@arm.com>

	* libc/machine/aarch64/memchr.S: New file.
	* libc/machine/aarch64/memchr-stub.c: New file.
	* libc/machine/aarch64/Makefile.am: Add the new files.
	* libc/machine/aarch64/Makefile.in: Regenerated.

2014-07-07  Pavel Pisa  <pisa@cmp.felk.cvut.cz>
	    Richard Earnshaw  <rearnsha@arm.com>

	* libc/machine/arm/memchr.S (.arch): Require revision ARMv6t2.

2014-07-07  Corinna Vinschen  <vinschen@redhat.com>

	* configure.in (--enable-newlib-nano-formatted-io): Set to "no"
	by default.
	* configure: Regenerated.

2014-07-04  Bin Cheng  <bin.cheng@arm.com>

	* README (--enable-newlib-nano-formatted-io): Describe.
	* acconfig.h (_NANO_FORMATTED_IO): Undef.
	* newlib.hin (_NANO_FORMATTED_IO): Undef.
	* configure.in (--enable-newlib-nano-formatted-io): New option.
	* configure: Regenerated.
	* libc/configure.in (--enable-newlib-nano-formatted-io): New option.
	* libc/configure: Regenerated.
	* libc/stdio/Makefile.am (NEWLIB_NANO_FORMATTED_IO): Support new
	configuration option.
	* libc/stdio/Makefile.in: Regenerated.
	* libc/stdio/asnprintf.c (_asniprintf_r, asniprintf): Use
	_NANO_FORMATTED_IO to declare alias prototypes.
	* libc/stdio/asprintf.c (_asiprintf_r, asiprintf): Ditto.
	* libc/stdio/dprintf.c (_diprintf_r, diprintf): Ditto.
	* libc/stdio/fprintf.c (_fiprintf_r, fiprintf): Ditto.
	* libc/stdio/fscanf.c (fiscanf, _fiscanf_r): Ditto.
	* libc/stdio/printf.c (_iprintf_r, iprintf): Ditto.
	* libc/stdio/scanf.c (iscanf, _iscanf_r): Ditto.
	* libc/stdio/snprintf.c (_sniprintf_r, sniprintf): Ditto.
	* libc/stdio/sprintf.c (_siprintf_r, siprintf): Ditto.
	* libc/stdio/sscanf.c (siscanf, _siscanf_r): Ditto.
	* libc/stdio/vasnprintf.c (_vasniprintf_r, vasniprintf): Ditto.
	* libc/stdio/vasprintf.c (vasiprintf, _vasiprintf_r): Ditto.
	* libc/stdio/vdprintf.c (_vdiprintf_r, vdiprintf): Ditto.
	* libc/stdio/vprintf.c (viprintf, _viprintf_r): Ditto.
	* libc/stdio/vscanf.c (viscanf, _viscanf_r): Ditto.
	* libc/stdio/vsnprintf.c (vsniprintf, _vsniprintf_r): Ditto.
	* libc/stdio/vsprintf.c (vsiprintf, _vsiprintf_r): Ditto.
	* libc/stdio/vsscanf.c (vsiscanf, _vsiscanf_r): Ditto.
	* libc/stdio/nano-vfprintf.c: New file.
	* libc/stdio/nano-vfprintf_float.c: New file.
	* libc/stdio/nano-vfprintf_i.c: New file.
	* libc/stdio/nano-vfprintf_local.h: New file.
	* libc/stdio/nano-vfscanf.c: New file.
	* libc/stdio/nano-vfscanf_float.c: New file.
	* libc/stdio/nano-vfscanf_i.c: New file.
	* libc/stdio/nano-vfscanf_local.h: New file.

2014-06-23  Corinna Vinschen  <vinschen@redhat.com>

	* libc/argz/envz_merge.c (envz_merge): Fix memory leak (Cygwin Coverity
	Scan CID 60023).
	* libc/ctype/iswalpha.c (iswalpha): Add bounds check to avoid
	out-of-bounds read from utf8 tables (CID 59949).
	* libc/locale/ldpart.c (__part_load_locale): Add 1 byte to size of lbuf.
	Write NUL into the last byte to accommodate split_lines (CID 60047).

2014-06-11  Richard Earnshaw  <rearnsha@arm.com>

	* libc/machine/aarch64/strchrnul.S: New file.
	* libc/machine/aarch64/strchrnul-stub.c: New file.
	* libc/machine/aarch64/Makefile.am: Add them to build list.
	* libc/machine/aarch64/Makefile.in: Regenerated.

2014-06-10  Richard Earnshaw  <rearnsha@arm.com>

	* libc/machine/aarch64/strchr.S: New file.
	* libc/machine/aarch64/strchr-stub.c: New file.
	* libc/machine/aarch64/Makefile.am: Add them to build list.
	* libc/machine/aarch64/Makefile.in: Regenerated.

2014-06-09  DJ Delorie  <dj@redhat.com>

	* configure.host (default_newlib_nano_malloc): New.
	(msp430): Set it.
	* configure.in (newlib_nano_malloc): Leave unset if not set by
	the user.
	* configure: Regenerate.
	* libc/configure.in (NEWLIB_NANO_MALLOC): Set after running
	configure.host.
	(newlib_nano_malloc): Leave unset if not set by	the user.
	* libc/configure: Regenerate.

2014-05-15  Daniel Cederman  <cederman@gaisler.com>

	* libc/machine/sparc/setjmp.S (longjmp): Use register g1 instead of g6.

2014-05-14  Kaushik Phatak  <Kaushik.Phatak@kpit.com>

	* libc/include/machine/ieeefp.h: Define _DOUBLE_IS_32BITS when double
	options is not __RL78_64BIT_DOUBLES__.

2014-05-12  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/stdint.h (WCHAR_MIN): Copy definition from wchar.h.
	(WCHAR_MAX): Ditto.
	* libc/include/wchar.h (WCHAR_MIN): Add comment.
	(WCHAR_MAX): Ditto.

2014-05-09  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/stdio.h (tempnam): Declare as __BSD_VISIBLE or
	__XSI_VISIBLE or if __POSIX_VISIBLE >= 200112.

2014-05-09  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/stdio.h (fcloseall): Declare as __GNU_VISIBLE only.
	(renameat): Drop explicit __CYGWIN__ dependency.

2014-05-05  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/stdio.h: Declare various C99 printf/scanf functions for
	C++11, too.

2014-04-22  Richard Earnshaw  <rearnsha@arm.com>

	* libc/machine/arm/strcmp-arm-tiny.S: New file.
	* libc/machine/arm/strcmp-armv4.S: New file.
	* libc/machine/arm/strcmp-armv4t.S: New file.
	* libc/machine/arm/strcmp-armv6.S: New file.
	* libc/machine/arm/strcmp-armv7.S: New file.
	* libc/machine/arm/strcmp-armv7m.S: New file.
	* libc/machine/arm/strcmp.S: Replace with wrapper for various
	implementations.
	* libc/machine/arm/Makefile.am (strcmp.o, strcmp.obj): Add
	dependencies.
	* libc/machine/arm/Makefile.in: Regenerated.

2014-04-14  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/sys/rtems/sys/cpuset.h (CPU_SET_S): Add const qualifier.
	(CPU_SET): Likewise.

2014-04-09  DJ Delorie  <dj@redhat.com>

	* libc/machine/rl78/setjmp.S: Add RL78/G10 support.

2014-04-04  Ashish Kapania  <akapania@ti.com>

	* configure.host (sys_dir, newlib_cflags): Set sys_dir to tirtos and use
	-D__DYNAMIC_REENT__ and -DMALLOC_PROVIDED compiler options for TIRTOS
	target.
	* libc/stdio/local.h (_STDIO_CLOSE_PER_REENT_STD_STREAMS): Change #ifdef
	to not define this macro when __tirtos__ is defined.
	* libc/sys/tirtos : Add support for TIRTOS.
	* libc/sys/tirtos/Makefile.am, libc/sys/tirtos/lock.c: New files.
	* libc/sys/tirtos/configure.in, libc/sys/tirtos/include/sys/lock.h: Ditto.

2014-03-27  Richard Earnshaw  <rearnsha@arm.com>

	* libc/machine/arm/acle-compat.h: New file.
	* libc/machine/arm/arm_asm.h: Use it.

2014-03-21  Maciej W. Rozycki  <macro@codesourcery.com>

	* libc/stdlib/gd_qnan.h (f_QNAN, d_QNAN0, d_QNAN1): Add MIPS
	versions.
	(ld_QNAN0, ld_QNAN1, ld_QNAN2, ld_QNAN3): Don't define for MIPS.
	(ldus_QNAN0, ldus_QNAN1, ldus_QNAN2, ldus_QNAN3, ldus_QNAN4):
	Likewise.
	* libc/stdlib/ldtoa.c (nan113, nan64, nan53, nan24): Add MIPS
	versions.
	(enan): Handle legacy MIPS payloads.
	* libm/common/s_nan.c (nan): Use __builtin_nan if supported by
	the compiler.
	* libm/common/sf_nan.c (nanf): Likewise.

2014-03-21  Sabrina Ni  <sabrinanitw@gmail.com>

	* libc/machine/nds32/configure: Regenerated.
	* libc/machine/nds32/configure.in: Add AC_NOEXECUTABLES.

2014-03-21  Sabrina Ni  <sabrinanitw@gmail.com>

	* libc/machine/nds32/Makefile.am: Use C code implemented memcpy,
	memset for 'ISA V3M'.
	* libc/machine/nds32/Makefile.in: Generated.
	* libc/machine/nds32/configure: Generated.
	* libc/machine/nds32/configure.in: Detect IS_NDS32_ISA_V3M.

2014-03-21  Sabrina Ni  <sabrinanitw@gmail.com>

	* libc/machine/nds32/setjmp.S: Keep jmp_buff sync with GDB.

2014-03-21  Sabrina Ni  <sabrinanitw@gmail.com>

	* libc/machine/nds32/setjmp.S: Optimize.

2014-03-07  Corinna Vinschen  <vinschen@redhat.com>
	    Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/stdlib.h (strtold): Define if _HAVE_LONG_DOUBLE is
	defined.
	* libc/stdlib/strtold.c (strtold): Ditto.  Call strtod on systems
	with long double == double, _strtold otherwise.

2014-03-05  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/time.h (__TM_GMTOFF): Remove Cygwin-specific definition.
	(__TM_ZONE): Ditto.

2014-03-05  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/time.h (__TM_GMTOFF): Define on Cygwin.
	(__TM_ZONE): Ditto.
	(struct tm): Add __TM_GMTOFF and __TM_ZONE members if they are defined.

2014-03-04  Ed Nelson  <ed@nelson305.com>

	* libc/include/machine/_default_types.h: Define unsigned type using
	signed type macros in case unsigned type macros are not available.

2014-02-20  Agustin Henze  <tin@sluc.org.ar>

	* libm/complex/complex.tex: Fix wrong syntax in documentation.
	* libm/math/math.tex: Ditto.

2014-02-20  Corinna Vinschen  <vinschen@redhat.com>

	* libc/stdio/open_memstream.c (internal_open_memstream_r): Initialize
	c->pos to 0.

2014-02-11  Joey Ye  <joey.ye@arm.com>

	* libc/sys/arm/syscalls.c (_sbrk): Define as weak symbols.
	(_read, _write): Ditto.

2014-02-09  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/pwd.h: Include <sys/cdefs.h>.
	* libc/include/grp.h: Ditto.

2014-02-04  Matthias Braun  <matze@braunis.de>

	* libm/mathfp/sf_numtest.c: Fix NaN/Inf detection logic.

2014-01-20  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/setjmp.h (longjmp): Fix copy/paste error.

2014-01-19  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/setjmp.h (longjmp): Mark "noreturn" when building with
	GCC.

2014-01-17  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/pwd.h: Use __foo_VISIBLE macros from sys/cdefs.h.
	(setpassent): Declare.

2014-01-17  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/include/sys/_default_fcntl.h (LOCK_SH): Define.
	(LOCK_EX): Likewise.
	(LOCK_NB): Likewise.
	(LOCK_UN): Likewise.
	(flock): Declare.

2014-01-17  Corinna Vinschen  <vinschen@redhat.com>

	Introduce _STDIO_BSD_SEMANTICS flag to switch fclose/exit file flushing
	semantics from POSIX to BSD.
	* libc/stdio/fclose.c (_fclose_r): Conditionalize file flushing on
	_STDIO_BSD_SEMANTICS.  Call __sflush_r rather than _fflush_r.  Add
	comment.
	* libc/stdio/fflush.c (__sflushw_r): New function, only available
	if _STDIO_BSD_SEMANTICS is defined.
	* libc/stdio/findfp.c (_cleanup_r): Call _fwalk_reent rather than
	_fwalk.  Conditionalize cleanup function call on _STDIO_BSD_SEMANTICS.
	Add comments.  Add FIXME.
	* libc/stdio/local.h (__sflushw_r): Declare if _STDIO_BSD_SEMANTICS is
	defined.

2014-01-06  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/include/sys/_default_fcntl.h (AT_FDCWD): Define according
	to POSIX.
	(AT_EACCESS): Likewise.
	(AT_SYMLINK_NOFOLLOW): Likewise.
	(AT_SYMLINK_FOLLOW): Likewise.
	(AT_REMOVEDIR): Likewise.
	(openat): Declare according to POSIX.
	* libc/include/stdio.h (renameat): Likewise.
	* libc/include/sys/stat.h (fchmodat): Likewise.
	(fstatat): Likewise.
	(mkdirat): Likewise.
	(mkfifoat): Likewise.
	(mknodat): Likewise.
	(utimensat): Likewise.
	(futimens): Likewise.
	* libc/include/sys/unistd.h (faccessat): Likewise.
	(fchownat): Likewise.
	(linkat): Likewise.
	(readlinkat): Likewise.
	(symlinkat): Likewise.
	(unlinkat): Likewise.

2014-01-06  Mike Frysinger  <vapier@gentoo.org>

	* libc/search/hash.c (hash_delete): Change __uint32_t to u_int.
	(hash_get): Likewise.
	(hash_put): Likewise.
	(hash_seq): Likewise.
	(hash_sync): Likewise.
					
2014-01-06  Mike Frysinger  <vapier@gentoo.org>

	* libc/ctype/jp2uc.c: Include string.h.
	
2013-12-23  Jeff Johnston  <jjohnstn@redhat.com>

	* NEWS: Update with 2.1.0 info.
	* README: Ditto.
	* acinclude.m4: Change version number to 2.1.0.
	* aclocal.m4: Regenerated.
	* configure: Ditto.
	* Makefile.in: Regenerated.
	* doc/aclocal.m4: Ditto.
	* doc/configure: Ditto.
	* libc/*/aclocal.m4: Ditto.
	* libc/*/configure: Ditto.
	* libc/libc.texinfo: Ditto.
	* libm/*/aclocal.m4: Ditto.
	* libm/*/configure: Ditto.
	* libm/libm.texinfo: Ditto.
	* libc/sys/linux/shared.ld: Add VERS_2.1

2013-12-22  JF Bastien  <jfb@chromium.org>

	* libc/include/limits.h: Define LLONG_MIN, LLONG_MAX and ULLONG_MAX 
	for C++11 too.
	* libc/include/stdlib.h: Define struct lldiv_t, _Exit, atoll, llabs 
	and lldiv for C99 and C++11.  Move wcstold to wchar.h.
	* libc/include/wchar.h: Define WCHAR_MIN and WCHAR_MAX according to
	__WCHAR_UNSIGNED__ if it is provided, and correct the limit when
	unsigned (to 32 all-1 bits, not 31).  Define FILE as in stdio.h.
	Move wcstold from stdlib.h here.

2013-12-20  Nick Clifton  <nickc@redhat.com>

	* configure.host (newlib_cflags): Use -Os, -ffunction-sections and
	-fdata-sections for RL78.

2013-12-19  Corinna Vinschen  <vinschen@redhat.com>

	* libc/stdio/vfwscanf.c (__SVFWSCANF_R): Fix fetching decimal_point in
	!_MB_CAPABLE as well as in !__HAVE_LOCALE_INFO_EXTENDED__ case.

2013-12-18  Corinna Vinschen  <vinschen@redhat.com>

	* libc/stdio/vfscanf.c (BUF): Change definition to take multibyte
	decimal point into account.
	(__SVFSCANF_R): Handle radix char language-dependent
	per POSIX.
	* libc/stdio/vfwscanf.c (__SVFWSCANF_R): Ditto.

2013-12-10  Jeff Johnston  <jjohnstn@redhat.com>

	* acconfig.h: Add _HAVE_CC_INHIBIT_LOOP_TO_LIBCALL.
	* newlib.hin: Ditto.
	* configure: Regenerate.
	* configure.in: Add setting of _HAVE_CC_INHIBIT_LOOP_TO_LIBCALL.
	* libc/string/local.h: Add check for _HAVE_CC_INHIBIT_LOOP_TO_LIBCALL
	and set __inhibit_loop_to_libcall macro appropriately.
	* libc/string/memmove.c: Use __inhibit_loop_to_libcall macro in
	function declaration.
	* libc/string/memset.c: Ditto.

2013-12-10  Chirayu Desai  <chirayudesai1@gmail.com>

	* libc/sys/rtems/include/limits.h: Update page size to match
	libc/sys/rtems/machine/param.h.

2013-12-03  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/sys/rtems/sys/cpuset.h: Use __inline instead of inline.

2013-12-03  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/include/machine/_default_types.h: Move extern "C" after
	header includes.  Include <sys/features.h> for
	__GNUC_PREREQ__().
	(__u?int.*_t): Define via GCC provided __U?INT.*_TYPE__ if
	available.
	(__intptr_t): Define.
	(__uintptr_t): Likewise.
	* libc/include/stdint.h: Include <machine/_default_types.h>
	instead of <_ansi.h>.
	(u?int.*_t): Define via __u?int.*_t provided by
	<machine/_default_types.h>.
	(u?int_fast.*_t): Define via GCC provided
	__U?INT_FAST.*_TYPE__ if available.
	(U?INT.*(MIN|MAX)): Define via GCC provided __U?INT.*(MIN|MAX)__
	if available.
	(U?INT.*_C): Define via GCC provided __U?INT.*_C if available.
	* libc/include/sys/cdefs.h: Use <machine/_default_types.h>
	instead of <stdint.h>.
	* libc/sys/rtems/sys/cpuset.h: Likewise.
	* libc/sys/rtems/machine/_types.h: Include <stdint.h> for
	FreeBSD compatibility.

2013-11-29  Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libc/include/pthread.h (pthread_cleanup_push): Delete prototype
	and add macro of the same name.
	(pthread_cleanup_pop): Likewise.
	(_pthread_cleanup_context): Define.
	(_pthread_cleanup_push): Likewise.
	(_pthread_cleanup_pop): Likewise.
	(pthread_cleanup_push_defer_np): Define if _GNU_SOURCE is defined.
	(pthread_cleanup_pop_restore_np): Likewise.
	(_pthread_cleanup_push_defer): Likewise.
	(_pthread_cleanup_pop_restore): Likewise.

2013-11-29  Jennifer Averett <jennifer.averett@oarcorp.com>

	* libc/include/pthread.h (pthread_attr_setaffinity_np):
	Add pthread SMP affinity attributes to methods to RTEMS for
	compatibility with GNU/Linux.
	(pthread_attr_getaffinity_np): Likewise.
	(pthread_setaffinity_np): Likewise.
	(pthread_getaffinity_np): Likewise.
	(pthread_getattr_np): Add for GNU/Linux compatibility.
	* libc/include/sys/types.h: Add cpuset to pthread_attr_t for RTEMS.
	* libc/include/sys/cdefs.h (_GNU_SOURCE): Defining _GNU_SOURCE
	turns on all _XXX_VISBLE feature flags.

2013-11-27  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/sys/rtems/cpusetalloc.c: New file.
	* libc/sys/rtems/cpusetfree.c: Likewise.
	* libc/sys/rtems/Makefile.am (lib_a_SOURCES): Add new files.
	* libc/sys/rtems/Makefile.in: Regenerate.
	* libc/sys/rtems/sys/cpuset.h: Delete #if 0 block.  Include
	<stddef.h> for size_t.
	(_NCPUBITS): Avoid NBBY and assume 8 bits per char.
	(__cpuset_mask): Use int instead of size_t parameter for Linux
	compatibility.
	(__cpuset_index): Likewise.
	(__cpuset_alloc): Declare.
	(__cpuset_free): Likewise.
	(CPU_ALLOC_SIZE): Likewise.
	(CPU_ALLOC): Define.
	(CPU_FREE): Likewise.
	(CPU_ZERO_S): Likewise.
	(CPU_FILL_S): Likewise.
	(CPU_SET_S): Likewise.
	(CPU_CLR_S): Likewise.
	(CPU_ISSET_S): Likewise.
	(CPU_COUNT_S): Likewise.
	(CPU_AND_S): Likewise.
	(CPU_OR_S): Likewise.
	(CPU_XOR_S): Likewise.
	(CPU_NAND_S): Likewise.
	(CPU_EQUAL_S): Likewise.
	(CPU_ZERO): Use CPU_ZERO_S().
	(CPU_FILL): Use CPU_FILL_S().
	(CPU_SET): Use CPU_SET_S().
	(CPU_CLR): Use CPU_CLR_S().
	(CPU_ISSET): Use CPU_ISSET_S().
	(CPU_COUNT): Use CPU_COUNT_S().
	(CPU_AND): Use CPU_AND_S().
	(CPU_OR): Use CPU_OR_S().
	(CPU_XOR): Use CPU_XOR_S().
	(CPU_NAND): Use CPU_NAND_S().
	(CPU_EQUAL): Use CPU_EQUAL_S().
	(CPU_CMP): Delete superfluous const qualifier.
	(CPU_EMPTY): Likewise.

2013-11-27  Matheus Almeida  <Matheus.Almeida@imgtec.com>

	* libc/machine/mips/setjmp.S: Fix definition of macro FPR_LAYOUT
	for ABI == N32.

2013-11-26  Matheus Almeida  <Matheus.Almeida@imgtec.com>

	* libc/include/machine/setjmp.h: Add support for __mips_fpr being
	64 and treat it the same as if __mips64 is set.
	* libc/machine/mips/setjmp.S: Ditto, plus add checks for _MIPS_SIM
	being _ABIN32 and _ABI64.

2013-11-26  Joel Sherrill <joel.sherrill@oarcorp.com>

	* libc/machine/powerpc/vfscanf.c, libc/stdio/fgetpos.c,
	libc/stdio/fgets.c, libc/stdio/fputs.c, libc/stdio/fread.c,
	libc/stdio/freopen.c, libc/stdio/fwrite.c, libc/stdio/sscanf.c,
	libc/stdlib/mbstowcs.c, libc/stdlib/mbtowc.c,
	libc/stdlib/strtod.c, libc/stdlib/strtol.c, libc/stdlib/strtoll.c,
	libc/stdlib/strtoul.c, libc/stdlib/strtoull.c,
	libc/stdlib/wcstombs.c: Fix documentation prototypes which were
	over eighty columns.

2013-11-26  Julio Gutierrez <jgutleyva@gmail.com>

	*libc/include/wchar.h: Add restrict keyword.
	*libc/stdio/fgetws.c (fgetws): ditto.
	*libc/stdio/fputws.c (fputws): ditto.
	*libc/stdio/fwprintf.c (fwprintf): ditto.
	*libc/stdio/fwscanf.c (fwscanf): ditto.
	*libc/stdio/swprintf.c (swprintf): ditto.
	*libc/stdio/swscanf.c (swscanf): ditto.
	*libc/stdio/vfwprintf.c (vfwprintf): ditto.
	*libc/stdio/vfwscanf.c (vfwscanf): ditto.
	*libc/stdio/vswprintf.c (vswprintf): ditto.
	*libc/stdio/vswscanf.c (vswscanf): ditto.
	*libc/stdio/vwprintf.c (vwprintf): ditto.
	*libc/stdio/vwscanf.c (vwscanf): ditto.
	*libc/stdio/wprintf.c (wprintf): ditto.
	*libc/stdio/wscanf.c (wscanf): ditto.
	*libc/stdlib/mbrlen.c (mbrlen): ditto.
	*libc/stdlib/mbrtowc.c (mbrtowc): ditto.
	*libc/stdlib/mbsnrtowcs.c (mbsnrtowcs): ditto.
	*libc/stdlib/mbsrtowcs.c (mbsrtowcs): ditto.
	*libc/stdlib/wcrtomb.c (wcrtomb): ditto.
	*libc/stdlib/wcsnrtombs.c (wcsnrtombs): ditto.
	*libc/stdlib/wcsrtombs.c (wcsrtombs): ditto.
	*libc/stdlib/wcstod.c (wcstod): ditto.
	*libc/stdlib/wcstol.c (wcstol): ditto.
	*libc/stdlib/wcstold.c (wcstold): ditto.
	*libc/stdlib/wcstoll.c (wcstoll): ditto.
	*libc/stdlib/wcstoul.c (wcstoul): ditto.
	*libc/stdlib/wcstoull.c (cstoull): ditto.
	*libc/string/wcpcpy.c (wcpcpy): ditto.
	*libc/string/wcpncpy.c (wcpncpy): ditto.
	*libc/string/wcscat.c (wcscat): ditto.
	*libc/string/wcscpy.c (wcscpy): ditto.
	*libc/string/wcsncat.c (wcsncat): ditto.
	*libc/string/wcsncpy.c (wcsncpy): ditto.
	*libc/string/wcsstr.c (wcsstr): ditto.
	*libc/string/wcstok.c (wcstok): ditto.
	*libc/string/wcsxfrm.c (wcsxfrm): ditto.
	*libc/string/wmemcpy.c (wmemcpy): ditto.

2013-11-26  Corinna Vinschen  <vinschen@redhat.com>

	* libc/posix/posix_spawn.c: Drop using namespace.h.

2013-11-26  Corinna Vinschen  <vinschen@redhat.com>

	* libc/posix/posix_spawn.c: Eliminate OS function calls not present
	in newlib or Cygwin.
	(process_spawnattr): Use sigprocmask rather than _sigprocmask.  Use
	sigaction rather than _sigaction.
	(process_file_actions_entry): Use dup2 rather than _dup2.
	(do_posix_spawn): Use execvpe rather than _execvpe.  Use waitpid
	rather than _waitpid.

2013-11-25  Joel Sherrill <joel.sherrill@oarcorp.com>

	* libc/iconv/lib/iconv.c, libc/time/strftime.c: Change "restrict<" to
	"restrict <" to fix formatting.

2013-11-25  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/spawn.h (posix_spawn_file_actions_destroy): Fix typo
	in function name.
	* libc/posix/posix_spawn.c (posix_spawn_file_actions_destroy): Ditto.

2013-11-25  Sahil Patnayakuni <sahil.patnayakuni@gmail.com>

	* libc/include/time.h (time): Add restrict keyword.
	* libc/include/wchar.h (wcsftime): Add restrict keyword.
	* libc/time/asctime_r.c (asctime_r): Same.
	* libc/time/gmtime_r.c (gmtime_r): Same.  
	* libc/time/lcltime_r.c (lcltime_r): Same.     
	* libc/time/strftime.c (strftime): Same.   
	* libc/time/strptime.c (strptime): Same.  
	* libc/sys/linux/linuxthreads/timer_create.c (timer_create): Same.   
	* libc/sys/linux/linuxthreads/timer_settime.c (timer_settime): Same.                            
2013-11-23 Bryan Dunsmore <dunsmoreb@gmail.com>

	* libc/include/wordexp.h (wordexp): Add restrict keyword.
	* libc/posix/wordexp.c (wordexp): Ditto.

2013-11-22  Bryan Dunsmore <dunsmoreb@gmail.com>

	* libc/include/sys/time.h (gettimeofday): Add restrict keyword.
	(setitimer): Likewise.
	* libc/sys/rdos/gettod.c (gettimeofday): Likewise.
	* libc/sys/rtems/crt0.c (gettimeofday): Likewise.

2013-11-22  Chirayu Desai  <chirayudesai1@gmail.com>

	* libc/include/sys/unistd.h (readlink): Add restrict keyword.
	(readlinkat): Ditto.
	(swab): Ditto.
	* libc/sys/rdos/readlink.c (readlink): Ditto.
	* libc/string/swab.c (swab): Ditto.

2013-11-21  Daniel Ramirez <javamonn@gmail.com>

	* libc/sys/linux/statvfs.c (statvfs): Added restrict keyword.

2013-11-21  Joel Sherrill <joel.sherrill@oarcorp.com>

	* libc/sys/rdos/chown.c, libc/sys/rdos/close.c, libc/sys/rdos/execve.c,
	libc/sys/rdos/fork.c, libc/sys/rdos/fstat.c, libc/sys/rdos/getpid.c,
	libc/sys/rdos/gettod.c, libc/sys/rdos/isatty.c, libc/sys/rdos/kill.c,
	libc/sys/rdos/link.c, libc/sys/rdos/lseek.c, libc/sys/rdos/open.c,
	libc/sys/rdos/rdos.h, libc/sys/rdos/read.c, libc/sys/rdos/readlink.c,
	libc/sys/rdos/sbrk.c, libc/sys/rdos/stat.c, libc/sys/rdos/symlink.c,
	libc/sys/rdos/times.c, libc/sys/rdos/unlink.c, libc/sys/rdos/wait.c,
	libc/sys/rdos/write.c: Convert from DOS to UNIX CRLF.

2013-11-21  Julio Gutierrez <jgutleyva@gmail.com>

	* libc/include/glob.h (glob): Add restrict keyword.
	* libc/posix/glob.c (glob): Ditto.

2013-11-21  Joel Sherrill <joel.sherrill@oarcorp.com>

	* libc/posix/readdir_r.c: Add restrict keyword.
	* libc/machine/spu/sys/dirent.h, libc/sys/decstation/sys/dirent.h,
	libc/sys/linux/sys/dirent.h, libc/sys/rtems/sys/dirent.h,
	libc/sys/sparc64/sys/dirent.h, libc/sys/sun4/sys/dirent.h,
	libc/sys/sysvi386/sys/dirent.h: Add readdir_r() prototype.

2013-11-21  Joel Sherrill <joel.sherrill@oarcorp.com>

	* libc/sys/rdos/stat.c: Remove stray +.

2013-11-21  Daniel Ramirez <javamonn@gmail.com>

	* libc/include/sys/stat.h, libc/sys/linux/sys/stat.h, 
	libc/sys/m88kbug/syscalls.c, libc/sys/rdos/stat.c, 
	libc/sys/sparc64/sys/stat.h: Add restrict keyword.

2013-11-20  Daniel Ramirez <javamonn@gmail.com>

	* libc/include/search.h, libc/search/tdelete.c: Add restrict keyword.

2013-11-20  Chirayu Desai  <chirayudesai1@gmail.com>

	* libc/include/regex.h, libc/posix/regcomp.c,
	libc/posix/regerror.c, libc/posix/regex.3
	libc/posix/regexec.c: Add restrict keyword.

2013-11-20  Daniel Ramirez <javamonn@gmail.com>

	* libc/iconv/lib/iconv.c, libc/include/iconv.h, 
	libc/sys/linux/iconv/iconv.c: Add restrict keyword.

2013-11-20  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/stdlib.h: Declare realpath only if !__STRICT_ANSI__.

2013-11-19  Jennifer Averett <jennifer.averett@oarcorp.com>

	* libc/sys/rtems/sys/cpuset.h: New file.

2013-11-19  Joel Sherrill <joel.sherrill@oarcorp.com>

	* libc/include/stdlib.h: Add prototype of realpath().
	* libc/sys/linux/realpath.c: Add restrict keyword.

2013-11-19  Joel Sherrill <joel.sherrill@oarcorp.com>

	* libm/common/modfl.c: Add cast to remove compiler warning.

2013-11-19  Terraneo Federico  <fede.tft@hotmail.it>

	* libc/posix/closedir.c: Fix use after free.
	Remove useless test dd_fd != -1
	* libc/posix/readdir.c: Remove useless test dd_fd == -1
	* libc/posix/readdir_r.c: Ditto.

2013-11-18  Sahil Patnayakuni  <sahilp@oarcorp.com>

	* libc/include/stdio.h, libc/machine/powerpc/vfscanf.c,
	libc/machine/spu/fgetpos.c, libc/machine/spu/fgets.c,
	libc/machine/spu/fopen.c, libc/machine/spu/fputs.c,
	libc/machine/spu/fread.c, libc/machine/spu/freopen.c,
	libc/machine/spu/fwrite.c, libc/machine/spu/setbuf.c,
	libc/machine/spu/vfprintf.c, libc/machine/spu/vfscanf.c,
	libc/machine/spu/vsnprintf.c, libc/machine/spu/vsprintf.c,
	libc/machine/spu/vsscanf.c, libc/stdio/asnprintf.c,
	libc/stdio/asprintf.c, libc/stdio/dprintf.c,
	libc/stdio/fgetpos.c, libc/stdio/fgets.c,
	libc/stdio/fmemopen.c, libc/stdio/fopen.c,
	libc/stdio/fprintf.c, libc/stdio/fputs.c,
	libc/stdio/fread.c, libc/stdio/freopen.c,
	libc/stdio/fscanf.c, libc/stdio/fwrite.c,
	libc/stdio/printf.c, libc/stdio/scanf.c,
	libc/stdio/setbuf.c, libc/stdio/snprintf.c,
	libc/stdio/sprintf.c, libc/stdio/sscanf.c,
	libc/stdio/vdprintf.c, libc/stdio/vprintf.c,
	libc/stdio/vscanf.c, libc/stdio/vsnprintf.c,
	libc/stdio/vsprintf.c, libc/stdio/vsscanf.c: Add restrict keyword.

2013-11-18  Sahil Patnayakuni  <sahilp@oarcorp.com>

	* libc/include/stdlib.h, libc/stdlib/mbstowcs.c,
	libc/stdlib/mbstowcs_r.c, libc/stdlib/mbtowc.c,
	libc/stdlib/mbtowc_r.c, libc/stdlib/strtod.c,
	libc/stdlib/strtol.c, libc/stdlib/strtold.c,
	libc/stdlib/strtoll.c, libc/stdlib/strtoll_r.c,
	libc/stdlib/strtoul.c, libc/stdlib/strtoull.c,
	libc/stdlib/strtoull_r.c, libc/stdlib/wcstombs.c,
	libc/stdlib/wcstombs_r.c: Add restrict keyword.

2013-11-18  Marcus Shawcroft  <marcus.shawcroft@arm.com>

	* libc/include/sys/unistd.h (ftruncate, truncate): Define
	for __arm__.

2013-11-13  Gregory Pietsch <gpietsch@comcast.net>

	* newlib/libc/stdlib/getopt.c (getopt_internal): Add missing braces.

2013-11-13  Freddie Chopin  <freddie_chopin@op.pl>

	* newlib/libc/include/getopt.h (struct option): name field should be
	"const char *".
	* newlib/libc/stdlib/getopt.c (getopt_internal): Use fputs()/fputc()
	instead of fprintf() to save code space.  Fix signed/unsigned
	comparison.

2013-11-12  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/libc/stdlib/getopt.c (getopt_internal): Fix NULL pointer access.

2013-11-08  Terry Guo  <terry.guo@arm.com>

	* libm/libm.texinfo: Rename node Index to Document Index.

2013-11-08  Corinna Vinschen  <vinschen@redhat.com>

	* libc/libc.texinfo: Rename node Library Index to Document Index.

2013-11-04  Terraneo Federico  <fede.tft@hotmail.it>

	* libc/stdio/fvwrite.c: Allow writing in larger chunks for fully
	buffered and unbuffered files, to improve write performance.

2013-10-31  Terraneo Federico  <fede.tft@hotmail.it>

	* libc/stdio/fvwrite.h: change type of uio_resid from int to size_t to
	fix fwrite() of > 2GByte buffers.

2013-10-30  Joey Ye  <joey.ye@arm.com>

	Implement malloc_stats for nano.
	* libc/stdlib/nano-mallocr.c (RONECALL): New parameter macro.
	(sbrk_start): New variable.
	(current_mallinfo, free_list): Forward declaration of data.
	(chunk): Define size as long type.
	(mallinfo): Synchronize with latest malloc.h.
	(nano_*): Forward declaration of functions.
	(get_chunk_from_ptr): Defined to static inline.
	(nano_mallinfo): Implement this function.
	(nano_malloc_stats): Implement this function.

2013-10-30  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/include/machine/_default_types.h: Revert change from 2013-10-10.

2013-10-24  Hans-Peter Nilsson  <hp@axis.com>

	* libc/include/stdio.h [!__LARGE64_FILES] (funopen): Fix typo
	in last change.

2013-10-23  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/stdio.h (funopen): Change prototype of
	__readfn and __writefn parameter to match new definition of
	FILE's _read and _write methods.
	(_funopen_r): Ditto.
	(funopen): Ditto.
	(_funopen_r): Ditto.
	* libc/include/sys/config.h (_READ_WRITE_BUFSIZE_TYPE) Define
	as type int if not already defined.  Add comment to explain.
	* libc/include/sys/reent.h: Include stddef.h.
	(struct __sFILE): Change type of last parameter in declaration
	of _read and _write methods to _READ_WRITE_BUFSIZE_TYPE.
	(struct __sFILE64): Ditto.
	* libc/stdio/local.h (__sread): Declare with last parameter set
	to _READ_WRITE_BUFSIZE_TYPE.
	(__seofread): Ditto.
	(__swrite): Ditto.
	(__swrite64): Ditto.
	* libc/stdio/fvwrite.c (__sfvwrite_r): Change type of local
	variables w and s to _READ_WRITE_RETURN_TYPE.
	* libc/stdio/fflush.c (__sflush_r): Change type of local variables
	n and t to _READ_WRITE_BUFSIZE_TYPE and _READ_WRITE_RETURN_TYPE.
	Add local variables flags to keep _flags value.
	* libc/stdio/fmemopen.c (fmemreader): Align to above change.
	(fmemwriter): Ditto.
	* libc/stdio/fopencookie.c (fcreader): Ditto.
	(fcwriter): Ditto.
	* libc/stdio/funopen.c (funread): Ditto.
	(funwrite): Ditto.
	(funreader): Ditto.
	(funwriter): Ditto.
	* libc/stdio/open_memstream.c (memwriter): Ditto.
	* libc/stdio/stdio.c (__sread): Ditto.
	(__seofread): Ditto.
	(__swrite): Ditto.
	* libc/stdio64/stdio64.c (__swrite64): Ditto.

2013-10-18  Joey Ye  <joey.ye@arm.com>

	* configure.in (enable-newlib-global-atexit): New option.
	* configure: Regenerated.
	* newlib.hin (_REENT_GLOBAL_ATEXIT): Place-holder.
	* README (enable-newlib-global-atexit): Description for
	new option.

2013-10-18  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/include/sys/unistd.h (MAXPATHLEN): Delete.
	* libc/include/sys/param.h (MAXPATHLEN): Define.
	* libc/sys/rtems/sys/param.h (MAXPATHLEN): Likewise.
	* libc/unix/getcwd.c: Include <sys/param.h> for MAXPATHLEN.

2013-10-10  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/libc/sys/rtems/sys/param.h: Update some parameters to
	the latest FreeBSD values.

2013-10-10  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/sys/rtems/machine/_types.h (_HAVE_SYSTYPES): Define.

2013-10-10  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/sys/rtems/include/limits.h (_POSIX_HOST_NAME_MAX):
	Define.

2013-10-10  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/sys/rtems/machine/_types.h (__dev_t): Define.
	(__dev_t_defined) Likewise.
	* libc/include/sys/_types.h (__dev_t): Delete RTEMS specific
	definition.

2013-10-10  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/sys/rtems/machine/_types.h (_ssize_t): Delete.
	(__ssize_t_defined) Likewise.

2013-10-30  Sebastian Huber <sebastian.huber@embedded-brains.de>

	* libc/include/machine/_default_types.h: Revert change from 2013-10-10.

2013-10-10  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/include/machine/_default_types.h (__int8_t): Define via
	<stdint.h> provided type.
	(__uint8_t): Likewise.
	(__int8_least_t): Likewise.
	(__uint8_least_t): Likewise.
	(__int16_t): Likewise.
	(__uint16_t): Likewise.
	(__int16_least_t): Likewise.
	(__uint16_least_t): Likewise.
	(__int32_t): Likewise.
	(__uint32_t): Likewise.
	(__int32_least_t): Likewise.
	(__uint32_least_t): Likewise.
	(__int64_t): Likewise.
	(__uint64_t): Likewise.

2013-10-10  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/include/paths.h (_PATH_DEVNULL): Define.
	(_PATH_DEVZERO): Likewise.

2013-10-09  Marcus Shawcroft  <marcus.shawcroft@arm.com>

	* testsuite/newlib.wctype/twctype.c (main): Update
	iswprint(0xce2) test case.

2013-10-03  Steve Ellcey  <sellcey@mips.com>

	* libc/machine/mips/memset.c: Remove.
	* libc/machine/mips/memset.S: New.
	* libc/machine/mips/Makefile.am: Change memset.c to memset.S
	* libc/machine/mips/Makefile.in: Regenerate.

2013-10-01  Petr Hosek  <phosek@chromium.org>

	* configure.host: Disable new posix_spawn function for all
	users of posix dir except Cygwin.
	* libc/posix/Makefile.am: Add support for new posix_spawn function.
	* libc/posix/Makefile.in: Regenerate.
	* libc/posix/posix_spawn.c: New file.
	* libc/include/spawn.h: Ditto.

2013-09-13  Joey Ye  <joey.ye@arm.com>

	* libc/stdlib/nano-mallocr.c (nano_allopt): Typo fixed to ...
	(nano_mallopt): ... this.

2013-09-12  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/include/sys/cdefs.h: Synchronize with latest FreeBSD
	version.
	* libc/include/stdatomic.h: Likewise.

2013-09-08  Yaakov Selkowitz  <yselkowitz@users.sourceforge.net>

	* libc/include/search.h (__compar_fn_t): Add typedef.
	(tdelete, tfind, tsearch): Use it.
	* libc/include/stdlib.h (__compar_fn_t): Add typedef.
	(bsearch, qsort): Use it.

2013-08-19  Meador Inge  <meadori@codesourcery.com>

	* libc/stdlib/__atexit.c (__register_exitproc): NULL-ify
	_on_exit_args_ptr when creating a new _atexit structure while
	_REENT_SMALL is defined.

2013-08-12  Bin Cheng  <bin.cheng@arm.com>

	* libc/configure.in (--enable-newlib-wchar-orient): Remove.
	* libc/configure: Regenerated.
	* libc/stdio/Makefile.am (NEWLIB_WIDE_ORIENT): Remove.
	* libc/stdio/Makefile.in: Regenerated.

2013-08-12  Yufeng Zhang  <Yufeng.Zhang@arm.com>

	* libc/sys/arm/crt0.S: Remove 'start'.

2013-08-08  Freddie Chopin  <freddie_chopin@op.pl>

	* libc/string/strncat.c: Fix typo in documentation.

2013-08-01  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/stdio_ext.h (__fbufsize): Define as inline function for
	gcc, as macro otherwise.
	(__freading): Ditto.
	(__fwriting): Ditto.
	(__freadable): Ditto.
	(__fwriteable): Ditto.
	(__flbf): Ditto.
	(__fpending): Ditto.

2013-07-23  Sahil Patnayakuni  <sahilp@rtems.org>

	* libc/sys/linux/include/netdb.h, libc/sys/linux/net/getaddrinfo.c,
	libc/sys/linux/net/getnameinfo.c: Add restrict keyword to getnameinfo()
	and getaddrinfo() to increase standards compliance and match glibc.

2013-07-23  Sahil Patnayakuni  <sahilp@rtems.org>

	* libc/include/string.h, libc/string/memccpy.c, libc/string/memcpy.c,
	libc/string/stpcpy.c, libc/string/stpncpy.c, libc/string/strcat.c,
	libc/string/strncat.c, libc/string/strncpy.c, libc/string/strtok.c,
	libc/string/strtok_r.c, libc/string/strxfrm.c
	libc/machine/microblaze/strcpy.c, libc/machine/xscale/memcpy.c,
	libc/machine/cris/memcpy.c: Add __restrict to prototype to
	increase standards compliance.

2013-07-18  Ramana Radhakrishnan  <ramana.radhakrishnan@arm.com>

	* libc/sys/arm/syscalls.c (do_AngelSWI): Delete.
	* libc/sys/arm/libcfuncs.c (do_AngelSWI): Delete.
	* libc/sys/arm/swi.h: Copy over from libgloss.

2013-07-17  Janis Johnson  <janisjo@codesourcery.com>

	* libc/machine/powerpc/configure.in: Remove extra_sources; fix
	extra_objs for powerpc*-*altivec.
	* libc/machine/powerpc/Makefile.am: Define EXTRA_lib_a_SOURCES.
	* libc/machine/powerpc/configure: Regenerated.
	* libc/machine/powerpc/Makefile.in: Regenerated.

2013-07-16  David Holsgrove <david.holsgrove@xilinx.com>

	* configure.host: Change to microblaze*.
	* libc/include/machine/ieeefp.h: Add __MICROBLAZEEL__.
	* libc/machine/microblaze/mb_endian.h: New file.
	* newlib/libc/machine/microblaze/strcmp.c: Add little endian support.
	* newlib/libc/machine/microblaze/strcpy.c: Likewise.
	* newlib/libc/machine/microblaze/strlen.c: Likewise.

2013-07-09  Sabrina Ni  <sabrina@andestech.com>

	* libc/machine/nds32/Makefile.am (lib_a_SOURCES): Add abort.c, memcpy.S,
	memset.S, strcmp.S, and strcpy.S.
	* libc/machine/nds32/Makefile.in: Regenerated.
	* libc/machine/nds32/{abort.c, memcpy.S, memset.S, strcmp.S, strcpy.S}:
	New.

2013-07-09  Sabrina Ni  <sabrina@andestech.com>

	* configure.host (machine_dir, syscall_dir, newlib_cflags):
	Add settings for nds32*.
	* libc/include/machine/ieeefp.h (IEEE_BIG_ENDIAN, IEEE_LITTLE_ENDIAN):
	Ditto.
	* libc/include/machine/setjmp.h (JBLEN): Ditto.
	* libc/machine/configure.in: Add nds32 subdir.
	* libc/machine/configure: Regenerated.
	* libc/machine/nds32/Makefile.am: New.
	* libc/machine/nds32/Makefile.in: New (autogenerated).
	* libc/machine/nds32/aclocal.m4: New (autogenerated).
	* libc/machine/nds32/configure.in: New.
	* libc/machine/nds32/configure: New (autogenerated).
	* libc/machine/nds32/setjmp.S: New.

2013-07-09  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/include/sys/config.h (__DYNAMIC_REENT__): Define for RTEMS.

2013-07-09  Bin Cheng  <bin.cheng@arm.com>

	* libc/stdio/fwalk.c (_fwalk): Remove redundant test.

2013-07-05  Yaakov Selkowitz  <yselkowitz@users.sourceforge.net>

	* libc/include/sys/types.h (u_char): Add redefinition guard.
	(u_short, u_int, u_long, caddr_t, daddr_t): Ditto.

2013-07-02  Joey Ye  <joey.ye@arm.com>

	Lite exit support.
	* README: Add information about lite-exit.
	* acconfig.h (_LITE_EXIT): New macro.
	* configure.in (enable-lite-exit): New option.
	(_LITE_EXIT): Define new macro.
	* configure: Regenerated.
	* newlib.hin (_LITE_EXIT): New macro.
	* libc/stdlib/__atexit.c [_LITE_EXIT]: Add dummy explicit 
	reference to __call_exitprocs.
	* libc/stdlib/cxa_atexit.c [_LITE_EXIT]: Make __register_exitproc a
	weak reference.
	* libc/stdlib/exit.c (exit)[_LITE_EXIT]: Remove TWS and weakly reference
	__call_exitprocs.

2013-07-02  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/reent.h: Fix typo in comment.

2013-07-01  Will Newton  <will.newton@linaro.org>

	* libc/machine/arm/memcpy-armv7a.S: Adjust entry to
	 aligned loop to improve misaligned copy performance.

2013-06-26  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/stdio.h: Specify std streams always in terms
	of _REENT.
	* libc/include/wchar.h: Ditto.
	* libc/include/sys/reent.h: Remove _RENT_ONLY check around
	setting of _REENT macro.

2013-06-24  Yaakov Selkowitz  <yselkowitz@users.sourceforge.net>

	* libc/include/string.h (rawmemchr): Declare.
	* libc/string/Makefile.am (ELIX_4_SOURCES): Add rawmemchr.c.
	(CHEWOUT_FILES): Add rawmemchr.def.
	* libc/string/Makefile.in: Regenerate.
	* libc/string/rawmemchr.c: New file.

2013-06-24  Terraneo Federico  <fede.tft@hotmail.it>

	* libc/reent/reent.c (_reclaim_reent): Free also _misc and
	_signal_buf.

2013-06-24  Terraneo Federico  <fede.tft@hotmail.it>

	* libc/include/sys/reent.h (_ATEXIT_INIT_PTR): Remove.
	(_REENT_INIT_ATEXIT_PTR): Remove.
	(_REENT_INIT_PTR): Reduce code size if _REENT_SMALL.

2013-06-21  Will Newton  <will.newton@linaro.org>

	* libc/machine/arm/strlen-armv7.S: Import latest strlen
	code from Linaro cortex-strings.

2013-06-21  Will Newton  <will.newton@linaro.org>

	* MAINTAINERS: Add Will Newton to Write After Approval.

2013-06-19  Bin Cheng  <bin.cheng@arm.com>

	* acconfig.h (_UNBUF_STREAM_OPT): Undefine.
	* newlib.hin (_UNBUF_STREAM_OPT): Undefine.
	* configure.in (--enable-newlib-unbuf-stream-opt): New option.
	* configure: Regenerate.
	* libc/stdio/vfprintf.c (_VFPRINTF_R): Don't do optimization on
	unbuffered stream files.
	* libc/stdio/vfwprintf.c (_VFWPRINTF_R): Likewise.
	* README: Add description about the option.

2013-06-19  Terraneo Federico  <fede.tft@hotmail.it>

	* libc/posix/readdir_r.c: Fix potential read past dirp->dd_buf.

2013-06-13  Bir Cheng  <bin.cheng@arm.com>

	* README: Add description for NEWLIB's feature customizing
	configuration options.

2013-06-10  Terraneo Federico  <fede.tft@hotmail.it>

	* libc/stdlib/gdtoa-gethex.c (__hexdig): Constify.
	(hexdig_init): Remove.
	(__hexdig_fun): New function.
	hexdig_init, added __hexdig_fun
	(gethex): Call __get_hexdig macro rather than hexdig.
	* libc/stdlib/gdtoa-hexnan.c (hexnan): Constify fpi argument.
	Call __get_hexdig macro rather than hexdig.
	* libc/stdlib/ldtoa.c: Throughout constify functions arguments where
	required by constifying the following arrays.
	(ezero): Constify.
	(eone): Constify.
	(ermsg): Constify.
	(etens): Constify.
	(emtens): Constify.
	(nan113): Constify.
	(nan64): Constify.
	(nan53): Constify.
	(nan24): Constify.
	* libc/stdlib/mprec.h (__get_hexdig): Define.
	(gethex): Constify args in declaration where appropriate.
	(hexnan): Ditto.
	(hexdig_init): Remove declaration.
	(__hexdig_fun): Declare.
	* libc/stdlib/strtod.c (fpi): Constify.
	(fpinan): Constify.

2013-06-07  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/include/sys/cdefs.h (__has_extension): New define.
	(__has_feature): Likewise.
	(__has_include): Likewise.
	(__has_builtin): Likewise.
	* libc/include/stdatomic.h: New.

2013-06-05  Joey Ye  <joey.ye@arm.com>

	* libc/machine/arm/strcmp.S: Use local labels.

2013-06-03  Joey Ye  <joey.ye@arm.com>

	* libc/machine/arm/Makefile.am (MEMCPY_DEP): New define.
	($(lpfx)memcpy.o, $(lpfx)memcpy.obj): Depend on MEMCPY_DEP.
	* libc/machine/arm/Makefile.in: Regenerated.
	* newlib/libc/machine/arm/memcpy-stub.c: Exclude armv7-m/armv7e-m.
	* newlib/libc/machine/arm/memcpy-armv7m.S: New.
	* newlib/libc/machine/arm/memcpy.S: Replace with wrapper code.  Old
	code moved to ...
	* newlib/libc/machine/arm/memcpy-armv7a.S: ... here.  Remove 
	redundant architecture check.

2013-05-30  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/machine/powerpc/times.c: Moved to libgloss/rs6000.
	* libc/machine/powerpc/Makefile.am: Remove times.c.
	* libc/machine/powerpc/Makefile.in: Regenerated.

2013-05-29  Joey Ye  <joey.ye@arm.com>
            Bin Cheng  <bin.cheng@arm.com>

	* configure.in (--enable-newlib-nano-malloc): New option.
	* configure: Regenerated.
	* libc/configure.in (--enable-newlib-nano-malloc): New option.
	* libc/configure: Regenerated.
	* libc/stdlib/Makefile.am (NEWLIB_NANO_MALLOC): Use.
	* libc/stdlib/Makefile.in: Regenerated.
	* libc/stdlib/nano-mallocr.c: New file, implementing nano
	version malloc family functions.

2013-05-28  Richard Earnshaw  <rearnsha@arm.com>

	* libc/machine/arm/strcpy.S: Explicitly set build attributes when
	building for thumb1 targets.

2013-05-22  Corinna Vinschen  <vinschen@redhat.com>

	* libc/ctype/isalnum.c: Correct domain of definition to SUSv4 wording.
	* libc/ctype/isalpha.c: Ditto.
	* libc/ctype/isblank.c: Ditto.
	* libc/ctype/iscntrl.c: Ditto.
	* libc/ctype/isdigit.c: Ditto.
	* libc/ctype/islower.c: Ditto.
	* libc/ctype/isprint.c: Ditto.
	* libc/ctype/ispunct.c: Ditto.
	* libc/ctype/isxdigit.c: Ditto.

2013-05-22  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/sys/cdefs.h (_Static_assert): Accommodate gcc >= 4.6.

2013-05-16  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/reent/reent.c (_wrapup_reent): Remove.

2013-05-13  DJ Delorie  <dj@delorie.com>
	    Nick Clifton  <nickc@redhat.com>

	* MAINTAINERS (msp430): Add.
	* configure.host (msp430): Add.
	* libc/include/machine/ieeefp.h: Add MSP430 support.
	* libc/include/machine/setjmp.h: Likewise.
	* libc/include/sys/config.h: Likewise.
	* libc/machine/configure.in (msp430): Add.
	* libc/machine/configure: Regenerate.
	* libc/machine/msp430: New directory.

2013-05-10  Freddie Chopin  <freddie_chopin@op.pl>

	* configure.in: Fix help text for disable-newlib-atexit-dynamic-alloc option.
	* configure: Regenerated.

2013-05-07  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/include/sys/config.h (_REENT_GLOBAL_ATEXIT): Define for
	RTEMS.
	* libc/include/sys/reent.h (_reent): Use _REENT_GLOBAL_ATEXIT.
	(_global_atexit): Declare if _REENT_GLOBAL_ATEXIT is defined.
	* libc/reent/reent.c (_reclaim_reent): Remove atexit cleanup if
	_REENT_GLOBAL_ATEXIT is defined.
	(_wrapup_reent): Remove atexit handling if _REENT_GLOBAL_ATEXIT
	is defined.
	* libc/stdlib/__atexit.c (_global_atexit0): Define if
	_REENT_GLOBAL_ATEXIT is defined.
	* libc/stdlib/__call_atexit.c (_global_atexit): Define if
	_REENT_GLOBAL_ATEXIT is defined.

2013-05-07  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/include/sys/reent.h (_ATEXIT_INIT): Define.
	(_ATEXIT_INIT_PTR): Likewise.
	(_REENT_INIT_ATEXIT): Likewise.
	(_REENT_INIT_ATEXIT_PTR): Likewise.
	(_GLOBAL_ATEXIT): Likewise.
	* libc/stdlib/__atexit.c (_GLOBAL_ATEXIT0): Define.
	(__register_exitproc): Use _GLOBAL_ATEXIT and _GLOBAL_ATEXIT0.
	* libc/stdlib/__call_atexit.c (__call_exitprocs): Likewise.

2013-05-07  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/stdlib/__atexit.c (__atexit_lock): Declare.
	* libc/stdlib/__call_atexit.c (__atexit_lock): Define.

2013-05-06  Sandra Loosemore  <sandra@codesourcery.com>

	* configure.host (machine_dir, sys_dir, syscall_dir, newlib_cflags):
	Add settings for nios2*.
	* libc/include/machine/ieeefp.h (IEEE_BIG_ENDIAN, IEEE_LITTLE_ENDIAN):
	Likewise.
	* libc/include/machine/setjmp.h (JBLEN, JBTYPE): Likewise.
	* libc/machine/configure.in: Add nios2 subdir.
	* libc/machine/configure: Regenerated.
	* libc/machine/nios2/Makefile.am: New.
	* libc/machine/nios2/Makefile.in: New (autogenerated).
	* libc/machine/nios2/aclocal.m4: New (copied from mips version).
	* libc/machine/nios2/configure.in: New.
	* libc/machine/nios2/configure: New (autogenerated).
	* libc/machine/nios2/setjmp.s: New.

2013-04-29  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/stdio/local.h (CHECK_INIT): Evaluate argument only once.
	(CHECK_STD_INIT): Likewise.
	* libc/stdio/fgetc.c (fgetc): Use local variable for _REENT.
	* libc/stdio/fgetwc.c (fwgetc): Likewise.
	* libc/stdio/fgetws.c (fgetws): Likewise.
	* libc/stdio/fputc.c (fputc): Likewise.
	* libc/stdio/fputwc.c (fputwc): Likewise.
	* libc/stdio/fputws.c (fputws): Likewise.
	* libc/stdio/getc.c (getc): Likewise.
	* libc/stdio/getchar.c (_getchar_r): Likewise.
	* libc/stdio/putc.c (putc): Likewise.
	* libc/stdio/putchar.c (putchar): Likewise.
	* libc/stdio/scanf.c (scanf): Likewise.
	* libc/stdio/setvbuf.c (setvbuf): Likewise.
	* libc/stdio/ungetwc.c (ungetwc): Likewise.
	* libc/stdio/vfscanf.c (VFSCANF): Likewise.
	* libc/stdio/vfwscanf.c (VFWSCANF): Likewise.
	* libc/stdio/viprintf.c (viprintf): Likewise.
	* libc/stdio/viscanf.c (viscanf): Likewise.
	* libc/stdio/vprintf.c (vprintf): Likewise.
	* libc/stdio/vscanf.c (vscanf): Likewise.
	* libc/stdio/vwprintf.c (vwprintf): Likewise.
	* libc/stdio/vwscanf.c (vwscanf): Likewise.
	* libc/stdio/wscanf.c (wscanf): Likewise.
	* libc/stdlib/ecvtbuf.c (fcvtbuf): Likewise.
	(fcvtbuf): Likewise.
	(ecvtbuf): Likewise.
	(ecvtbuf): Likewise.
	* libc/stdlib/mblen.c (mblen): Likewise.
	* libc/stdlib/mbrlen.c (mbrlen): Likewise.
	* libc/stdlib/mbrtowc.c (mbrtowc): Likewise.
	* libc/stdlib/mbtowc.c (mbtowc): Likewise.
	* libc/stdlib/rand.c (srand): Likewise.
	(rand): Likewise.
	* libc/stdlib/wcrtomb.c (wcrtomb): Likewise.
	* libc/stdlib/wctob.c (wctob): Likewise.
	* libc/stdlib/wctomb.c (wctomb): Likewise.
	* libc/string/strtok.c (strtok): Likewise.
	* libc/time/asctime.c (asctime): Likewise.
	* libc/time/gmtime.c (gmtime): Likewise.
	* libc/time/lcltime.c (lcltime): Likewise.

2013-04-29  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/include/sys/reent.h (_REENT_INIT_PTR): Reduce code size.

2013-04-29  Freddie Chopin  <freddie_chopin@op.pl>

	* libc/libc.texinfo: Fix @ references and change ifinfo to be
	ifnottexinfo.
	* libm/libm.texinfo: Ditto.

2013-04-25  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/stdio/local.h (_STDIO_CLOSE_PER_REENT_STD_STREAMS): New define.
	* libc/stdio/findfp.c (_STDIO_CLOSE_PER_REENT_STD_STREAMS): Use define.

2013-04-24  Corinna Vinschen  <vinschen@redhat.com>
	    Nick Clifton  <nickc@redhat.com>

	* libc/stdlib/strtod.c: Manual update to latest algorithm from NetBSD.

2013-04-23  Corinna Vinschen  <vinschen@redhat.com>

	Port newlib to x86_64-pc-cygwin.
	* libc/include/sys/features.h: Redefine compilation environment
	definitions for Cygwin to cover 64 bit Cygwin.
	* libc/ctype/ctype_.c (_ctype_): Fix definition for 64 bit Cygwin.
	* libc/include/machine/setjmp.h: Change definition of _JBLEN to allow
	different values for 32 bit and 64 bit Cygwin.
	* libc/include/reent.h (stat64): Define as stat under Cygwin, instead
	of as __stat64.  Undef stat64 if not building Newlib.
	* libc/include/sys/stat.h (stat64): Define as stat under Cygwin.

2013-04-22  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/include/sys/cdefs.h: Align with latest FreeBSD file header.
	* libc/include/sys/features.h (__GNUC_PREREQ__): Define.

2013-04-19  Corinna Vinschen  <vinschen@redhat.com>

	* newlib/libc/search/hash.c: Revert patch from 2012-08-08.

2013-04-16  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/sys/rtems/sys/queue.h: Delete file.
	* libc/include/sys/cdefs.h (__containerof): New define.
	(__DEQUALIFY): Likewise.
	* libc/include/sys/queue.h (TRACEBUF_INITIALIZER): Likewise.
	(TRACEBUF): Likewise.
	(LIST_FOREACH_SAFE): Likewise.
	(LIST_PREV): Likewise.
	(LIST_SWAP): Likewise.
	(QMD_LIST_CHECK_HEAD): Likewise.
	(QMD_LIST_CHECK_NEXT): Likewise.
	(QMD_LIST_CHECK_PREV): Likewise.
	(QMD_SAVELINK): Likewise.
	(QMD_TAILQ_CHECK_HEAD): Likewise.
	(QMD_TAILQ_CHECK_NEXT): Likewise.
	(QMD_TAILQ_CHECK_PREV): Likewise.
	(QMD_TAILQ_CHECK_TAIL): Likewise.
	(QMD_TRACE_ELEM): Likewise.
	(QMD_TRACE_HEAD): Likewise.
	(SLIST_FOREACH_PREVPTR): Likewise.
	(SLIST_FOREACH_SAFE): Likewise.
	(SLIST_REMOVE_AFTER): Likewise.
	(SLIST_SWAP): Likewise.
	(STAILQ_FOREACH_SAFE): Likewise.
	(STAILQ_REMOVE_AFTER): Likewise.
	(STAILQ_SWAP): Likewise.
	(TAILQ_FOREACH_REVERSE_SAFE): Likewise.
	(TAILQ_FOREACH_SAFE): Likewise.
	(TAILQ_SWAP): Likewise.
	(TRASHIT): Likewise.
	(SLIST_REMOVE): Use SLIST_REMOVE_AFTER().
	(STAILQ_LAST): Use __containerof().
	(STAILQ_REMOVE): Use STAILQ_REMOVE_AFTER().

2013-04-12  Will Newton  <will.newton@linaro.org>

	* libc/machine/arm/memcpy-stub.c: Use generic memcpy if unaligned
	access is not enabled.
	* libc/machine/arm/memcpy.S: Faster memcpy implementation for
	Cortex A15 cores using NEON and VFP if available.

2013-04-12  Bin Cheng  <bin.cheng@arm.com>

	* acconfig.h (_WCHAR_ORIENT): Undef
	* newlib.hin (_WCHAR_ORIENT): Undef
	* configure.in (--enable-newlib-wchar-orient): New option.
	* configure: Regenerated.
	* libc/configure.in (--enable-newlib-wchar-orient): New option.
	* libc/configure: Regenerated.
	* libc/stdio/Makefile.am (NEWLIB_WIDE_ORIENT): Use.
	* libc/stdio/Makefile.in: Regenerated.
	* libc/stdio/local.h (ORIENT): Use _WCHAR_ORIENT to control
	the definition. Add alternative definition.
	* libc/stdio/vfprintf.c (__sfputs_r, __sprint_r): Use _WCHAR_ORIENT
	to control the wide char output.

2012-04-11  Jon TURNEY  <jon.turney@dronecode.org.uk>

	* libc/include/stdlib.h (strtof, strtoll, strtoull, strtold): Also
	prototype if C++11 or later.

2013-04-10  Bin Cheng  <bin.cheng@arm.com>

	* acconfig.h (_FSEEK_OPTIMIZATION): Undef
	* newlib.hin (_FSEEK_OPTIMIZATION): Undef
	* configure.in (--disable-newlib-fseek-optimization): New option.
	* configure: Regenerated.
	* libc/stdio/fflush.c (__sflush_r): Use _FSEEK_OPTIMIZATION to
	control fseek optimization.
	* libc/stdio/fseeko.c (_fseeko_r): Ditto.
	* libc/stdio/makebuf.c (__smakebuf_r): Ditto.
	* libc/stdio64/fseeko64.c (_fseeko64_r): Ditto.

2013-04-08  Matthew Gretton-Dann  <matthew.gretton-dann@linaro.org>

	* libc/stdio/vfieeefp.h (ldieee): Fix typo.

2013-04-02  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/posix/scandir.c (DIRSIZ): Use offsetof instead of magic
	number.

2013-03-27  Bin Cheng  <bin.cheng@arm.com>

	* acconfig.h (_FVWRITE_IN_STREAMIO): Undefine.
	* newlib.hin (_FVWRITE_IN_STREAMIO): Undefine.
	* configure.in (--disable-newlib-fvwrite-in-streamio): New option.
	* configure: Regenerated.
	* libc/stdio/fputs.c (_fputs_r): Use _FVWRITE_IN_STREAMIO to
	control __sfvwrite_r.  Add alternative implementation.
	* libc/stdio/fputws.c (_fputws_r): Ditto.
	* libc/stdio/fwrite.c (_fwrite_r): Ditto.
	* libc/stdio/puts.c (_puts_r): Ditto.
	* libc/stdio/vfprintf.c (__ssputs_r, __sfputs_r): New function.
	(_VFPRINTF_R): Use _FVWRITE_IN_STREAMIO to control vector buffer.
	(__SPRINT): Use _FVWRITE_IN_STREAMIO to control macro definition.
	* libc/stdio/vfwprintf.c (_VFWPRINTF_R): Use _FVWRITE_IN_STREAMIO
	to control vector buffer.

2013-03-26  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/stdio/local.h (_STDIO_WITH_THREAD_CANCELLATION_SUPPORT):
	New define.
	* libc/stdio/fclose.c: Use
	_STDIO_WITH_THREAD_CANCELLATION_SUPPORT.
	* libc/stdio/freopen.c: Likewise.
	* libc/stdio64/freopen64.c: Likewise.

2013-03-15  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* newlib/libc/stdio/findfp.c (glue_with_file): New.
	(__sfmoreglue): Use glue_with_file to avoid alignment problems.

2013-02-28  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/machine/setjmp.h (sigjmp_buf): Fix definition of
	sigjmp_buf size if _JBTYPE is defined.

2013-02-26  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/malloc.h (struct mallinfo): Convert type of all members
	to size_t to match all targets.

2013-02-20  Yaakov Selkowitz  <yselkowitz@users.sourceforge.net>
	    Joseph S. Myers <joseph@codesourcery.com>

	* libc/include/sys/_types.h (_ssize_t): Define as signed equivalent of
	size_t with GCC.

2013-02-19  Steve Ellcey  <sellcey@mips.com>

	* libc/machine/mips/memcpy.S: Fix USE_PREFETCH check.

2013-02-01  Nick Clifton  <nickc@redhat.com>

	* libc/sys/sysnecv850/crt0.S: Add recognition of the e3v5
	architecture variant.

2013-01-22  Joel Sherrill <joel.sherrill@oarcorp.com>

	* libc/include/pthread.h: Add PTHREAD_RWLOCK_INITIALIZER.
	Fix typo on PTHREAD_COJND_INITIALIZER.

2013-01-17  Marcus Shawcroft  <marcus.shawcroft@linaro.org>

	* libc/machine/aarch64/strncmp.S: Correct arithmetic for
	argument N values close to the maximum representable
	value in an unsigned 64 bit value.

2013-01-17  Marcus Shawcroft  <marcus.shawcroft@linaro.org>

	* libc/machine/aarch64/strnlen.S: Correct arithmetic for
	argument N values close to the maximum representable
	value in an unsigned 64 bit value.

2013-01-15  Nick Clifton  <nickc@redhat.com>

	* libc/sys/sysnecv850/crt0.S (_start): Enable FPU for the
	V850e2v3.

2013-01-12  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/string.h: Fix preprocessor expressions using
	_XOPEN_SOURCE.

2013-01-11  Corinna Vinschen  <vinschen@redhat.com>

	* libc/stdio/vfwprintf.c (_VFWPRINTF_R): Add code to correctly handle
	's' format specifier on not _MB_CAPABLE targets.  Fix a formatting
	glitch in _MB_CAPABLE enabled code.  Add a missing 'L' specifier.

2013-01-10  Marcus Shawcroft  <marcus.shawcroft@linaro.org>

	* libc/machine/aarch64/Makefile.am (lib_a_SOURCES): Add
	memcmp-stub.c and memcmp.S
	* libc/machine/aarch64/Makefile.in: Regenerated.
	* libc/machine/aarch64/memcmp-stub.c: New file.
	* libc/machine/aarch64/memcmp.S: New file.

2013-01-10  Marcus Shawcroft  <marcus.shawcroft@linaro.org>

	* libc/machine/aarch64/Makefile.am (lib_a_SOURCES): Add
	strnlen-stub.c and strnlen.S
	* libc/machine/aarch64/Makefile.in: Regenerated.
	* libc/machine/aarch64/strnlen-stub.c: New file.
	* libc/machine/aarch64/strnlen.S: New file.

2013-01-10  Marcus Shawcroft  <marcus.shawcroft@linaro.org>

	* libc/machine/aarch64/Makefile.am (lib_a_SOURCES):
	Add strlen.S and strlen-stub.c.
	* libc/machine/aarch64/Makefile.in: Regenerated.
	* libc/machine/aarch64/strlen-stub.c: New file.
	* libc/machine/aarch64/strlen.S: New file.

2013-01-10  Marcus Shawcroft  <marcus.shawcroft@linaro.org>

	* libc/machine/aarch64/Makefile.am (lib_a_SOURCES):
	Add memmove.S and memmove-stub.c.
	* libc/machine/aarch64/Makefile.in: Regenerated.
	* libc/machine/aarch64/memmove-stub.c: New file.
	* libc/machine/aarch64/memmove.S: New file.

2013-01-10  Marcus Shawcroft  <marcus.shawcroft@linaro.org>

	* libc/machine/aarch64/Makefile.am (lib_a_SOURCES): Re-ordered.
	Add strncmp.S and strncmp-stub.c.
	* libc/machine/aarch64/Makefile.in: Regenerated.
	* libc/machine/aarch64/strncmp-stub.c: New file.
	* libc/machine/aarch64/strncmp.S: New file.

2013-01-10  Marcus Shawcroft  <marcus.shawcroft@linaro.org>

	* libc/machine/aarch64/Makefile.am (lib_a_SOURCES): Add
	memcpy.c memcpy-stub.c memset.S memset-stub.c strcmp.S
	strcmp-stub.c.
	* libc/machine/aarch64/Makefile.in: Regenerated.
	* libc/machine/aarch64/memcpy-stub.c: New file.
	* libc/machine/aarch64/memcpy.S: New file.
	* libc/machine/aarch64/memset-stub.c: New file.
	* libc/machine/aarch64/memset.S: New file.
	* libc/machine/aarch64/strcmp.S: New file.
	* libc/machine/aarch64/strcmp-stub.c: New file.

2013-01-08  Jeff Johnston  <jjohnstn@redhat.com>

	* MAINTAINERS: Add Richard Earnshaw as Arm co-maintainer
	and add Richard and Marcus Shawcroft as aarch64 maintainers.

2013-01-07  Steve Ellcey  <sellcey@mips.com>

	* libc/machine/mips/memcpy.S (memcpy): Check if _MIPS_SIM is set.

2012-12-20  Jeff Johnston  <jjohnstn@redhat.com>

        * NEWS: Update with 2.0.0 info.
        * README: Ditto.
        * acinclude.m4: Change version number to 2.0.0.
        * aclocal.m4: Regenerated.
        * configure: Ditto.
        * Makefile.in: Regenerated.
        * doc/aclocal.m4: Ditto.
        * doc/configure: Ditto.
        * libc/*/aclocal.m4: Ditto.
        * libc/*/configure: Ditto.
        * libc/libc.texinfo: Ditto.
        * libm/*/aclocal.m4: Ditto.
        * libm/*/configure: Ditto.
        * libm/libm.texinfo: Ditto.
        * libc/sys/linux/shared.ld: Add VERS_2.0

2012-12-19  Corinna Vinschen  <vinschen@redhat.com>

	* libc/stdlib/strtod.c (_strtod_r): Revert change from 2011-05-16.

2012-12-18  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/math.h: Remove the log2f macro.

2012-12-18  Craig Howland  <howland@LGSInnovations.com>

	* libc/include/math.h: Add recognition of values 1 and 2 for
	FLT_EVAL_METHOD.

2012-12-18  Corinna Vinschen  <vinschen@redhat.com>

	* libc/stdio/puts.c (_puts_r): Fix typo in previous patch.  Add local
	variable fp for better readability.

2012-12-17  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/puts.c: Add fp locking and use _stdout_r macro
	to refer to the stream rather than stdout.

2012-12-14  Yufeng Zhang  <yufeng.zhang@arm.com>

	* libc/machine/aarch64/machine/_types.h: New file; define _ssize_t
	as long.

2012-12-11  Steve Ellcey  <sellcey@mips.com>

	* libc/machine/mips/memcpy.c: Remove.
	* libc/machine/mips/memcpy.S: New.
	* libc/machine/mips/Makefile.am (lib_a_CCASFLAGS): Add
	-D_COMPILING_NEWLIB.
	(lib_a_CFLAGS): Ditto.

2012-12-04  Kyrylo Tkachov  <kyrylo.tkachov@arm.com>

	* configure.host: Define libm_machine_dir value for arm.
	* libm/machine/configure.in: Add arm to libm machines list.
	* libm/machine/configure: Regenerate.
	* libm/machine/arm/Makefile.am: New file.
	* libm/machine/arm/Makefile.in: Generated.
	* libm/machine/arm/aclocal.m4: Generated.
	* libm/machine/arm/configure: Generated.
	* libm/machine/arm/configure.in: New file.
	* libm/machine/arm/s_ceil.c: Likewise.
	* libm/machine/arm/s_floor.c: Likewise.
	* libm/machine/arm/s_nearbyint.c: Likewise.
	* libm/machine/arm/s_rint.c: Likewise.
	* libm/machine/arm/s_round.c: Likewise.
	* libm/machine/arm/s_trunc.c: Likewise.
	* libm/machine/arm/sf_ceil.c: Likewise.
	* libm/machine/arm/sf_floor.c: Likewise.
	* libm/machine/arm/sf_nearbyint.c: Likewise.
	* libm/machine/arm/sf_rint.c: Likewise.
	* libm/machine/arm/sf_round.c: Likewise.
	* libm/machine/arm/sf_trunc.c: Likewise.

2012-11-30  Greta Yorsh  <Greta.Yorsh@arm.com>

	* libc/machine/arm/strcmp.S (compute_return_value): Fix return value.
	* testsuite/newlib.string/strcmp-1.c (main): Add new test cases.

2012-11-29  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/include/sys/reent.h (__sFILE): Change type of _offset
	from int to _off_t.
	* libc/stdio/ftell.c: Use _ftello_r().
	* libc/stdio/ftello.c: Copy implementation from previous
	_ftell_r().
	* libc/stdio/fseek.c: Use _fseeko_r().
	* libc/stdio/fseeko.c: Copy implementation from previous
	_fseek_r().

2012-11-26  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/include/inttypes.h: Add and use __INTTYPES_EXP().

2012-11-23  Kyrylo Tkachov  <kyrylo.tkachov@arm.com>

	* libm/machine/aarch64/configure.in: Change comment to say libm
	instead of libc.

2012-11-12  Steve Ellcey  <sellcey@mips.com>

	* libc/machine/mips/machine/asm.h: New.
	* libc/machine/mips/machine/regdef.h: Update register definitions
	for different ABI's.

2012-11-11  Christopher Faylor  <me.cygwin2012@cgf.cx>

	* libc/include/sys/time.h: Avoid guarding other than timeval
	declaration with _TIMEVAL_DEFINED.  Move timeval related macros under
	_TIMEVAL_DEFINED control.

2012-11-01  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/locale.h (NULL): Fetch definition via stddef.h.
	* libc/include/stdio.h (NULL): Ditto.
	* libc/include/stdlib.h (NULL): Ditto.
	* libc/include/string.h (NULL): Ditto.
	* libc/include/wchar.h (NULL): Ditto.
	* libc/include/rpc/types.h (NULL): Ditto.
	* libc/include/time.h (NULL): Ditto.  Include stddef.h earlier.

2012-10-27  Anthony Green  <green@moxielogic.com>

	* libc/machine/moxie/setjmp.S (setjmp): Minor optimization.

2012-10-26  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/sys/signal.h (sigset_t): Don't define when building
	for Cygwin.

2012-10-24  Jeff Johnston  <jjohnstn@redhat.com>

	* configure.in: Comment out the --enable-newlib-fp-hw option
	as the mathfp library is inaccurate and should not be used.
	* Makefile.am: Add comment regarding the mathfp directory.
	* configure: Regenerated.
	* Makefile.in: Ditto.
	* libm/mathfp/README: New file that details why the mathfp
	directory is not used.

2012-10-22  Jon TURNEY  <jon.turney@dronecode.org.uk>

	* libc/include/string.h (strdup, strndup): Declare if not
	__STRICT_ANSI__ or _XOPEN_SOURCE is defined appropriately.

2012-10-22  Jon TURNEY  <jon.turney@dronecode.org.uk>

	* libc/include/stdlib.h (strtof, strtoll, strtoull, strtold):Prototype
	if not __STRICT_ANSI__ or stdc version C99 or greater.

2012-10-21  Hans-Peter Nilsson  <hp@bitrange.com>

	* libc/sys/mmixware/sbrk.c (_sbrk): Drop unused extern declaration
	of "end".  Mark allocated memory by applying PRELD.

2012-10-16  Gregory Pietsch  <gpietsch@comcast.net>

	* libc/stdlib/getopt.c (getopt_internal): Align handling of colon to
	SUSv4 requirements.
	(__getopt_long_r): Fix formatting.

2012-10-16  Corinna Vinschen  <vinschen@redhat.com>

	* libc/stdio/vfprintf.c (__sbprintf): Fix comment.

2012-10-16  Aurelien Jacobs  <aurel@gnuage.org>

	* libc/include/assert.h (static_assert): Define.

2012-10-16  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/sys/features.h (__GNUC_PREREQ): Define.  Use
	throughout in place of explicit GNUC version checks.
	* libc/include/_ansi.h (_NOINLINE): Define.
	(_NOINLINE_STATIC): Define.
	* libc/stdio/vfprintf.c (__sbprintf): Define _NOINLINE_STATIC.

2012-10-09  Peter Rosin  <peda@lysator.liu.se>

	* libc/posix/wordfree.c (wordfree): The wrong words are freed
	when WRDE_DOOFFS is in use. Restructure the code so that the memory
	needed to be freed is instead kept in an internal linked list...
	* libc/posix/wordexp2.h: ...as defined here...
	* libc/posix/wordexp.c (wordexp): ...and build this internal
	linked list here, avoiding wasteful strdup calls in the process.

2012-10-09  Peter Rosin  <peda@lysator.liu.se>

	* libc/posix/wordexp.c (wordexp): Return WRDE_NOSPACE on resource
	allocation failure. Cleanup leftover resources when failing.

2012-10-09  Peter Rosin  <peda@lysator.liu.se>

	* libc/posix/wordexp.c (wordexp): Handle expanded words longer
	than 500 bytes.

2012-10-09  Peter Rosin  <peda@lysator.liu.se>

	* libc/posix/wordexp.c (wordexp): Don't leak file streams.

2012-10-03  DJ Delorie  <dj@redhat.com>

	* libc/machine/rl78/setjmp.S: Convert from CPP macros to GAS
	macros, to avoid dependence on the line separation character.

2012-10-01  DJ Delorie  <dj@redhat.com>

	* libc/sys/sysnecv850/sbrk.c (_sbrk): Change heap_start to be an
	array of undefined size, to avoid problems when compiled with
	-msda=4.

2012-10-01  Jeff Johnston  <jjohnstn@redhat.com>

	* README: replace sources.redhat.com with sourceware.org.
	* HOWTO: Ditto.

2012-09-26  Ian Bolton  <ian.bolton@arm.com>
        Jim MacArthur  <jim.macarthur@arm.com>
        Marcus Shawcroft  <marcus.shawcroft@arm.com>
        Nigel Stephens  <nigel.stephens@arm.com>
        Ramana Radhakrishnan  <ramana.radhakrishnan@arm.com>
        Richard Earnshaw  <rearnsha@arm.com>
        Sofiane Naci  <sofiane.naci@arm.com>
        Tejas Belagod  <tejas.belagod@arm.com>
        Yufeng Zhang  <yufeng.zhang@arm.com>

	* configure.host: Add AArch64.
	* libc/include/machine/ieeefp.h: Add AArch64.
	* libc/include/machine/setjmp.h: Add AArch64.
	* libc/include/machine/time.h: Add AArch64.
	* libc/include/sys/config.h: Add AArch64.
	* libc/machine/aarch64/Makefile.am: New file.
	* libc/machine/aarch64/Makefile.in: Generated.
	* libc/machine/aarch64/aclocal.m4: Generated.
	* libc/machine/aarch64/configure: Generated.
	* libc/machine/aarch64/configure.in: New file.
	* libc/machine/aarch64/setjmp.S: New file.
	* libc/machine/configure.in: Add AArch64.
	* libc/machine/configure: Re-generated.
	* libm/machine/aarch64/Makefile.am: New file.
	* libm/machine/aarch64/Makefile.in: Generated.
	* libm/machine/aarch64/aclocal.m4: Generated.
	* libm/machine/aarch64/configure: Generated.
	* libm/machine/aarch64/configure.in: New file.
	* libm/machine/aarch64/s_ceil.c: New file.
	* libm/machine/aarch64/s_floor.c: New file.
	* libm/machine/aarch64/s_fma.c: New file.
	* libm/machine/aarch64/s_fmax.c: New file.
	* libm/machine/aarch64/s_fmin.c: New file.
	* libm/machine/aarch64/s_llrint.c: New file.
	* libm/machine/aarch64/s_llround.c: New file.
	* libm/machine/aarch64/s_lrint.c: New file.
	* libm/machine/aarch64/s_lround.c: New file.
	* libm/machine/aarch64/s_nearbyint.c: New file.
	* libm/machine/aarch64/s_rint.c: New file.
	* libm/machine/aarch64/s_round.c: New file.
	* libm/machine/aarch64/s_trunc.c: New file.
	* libm/machine/aarch64/sf_ceil.c: New file.
	* libm/machine/aarch64/sf_floor.c: New file.
	* libm/machine/aarch64/sf_fma.c: New file.
	* libm/machine/aarch64/sf_fmax.c: New file.
	* libm/machine/aarch64/sf_fmin.c: New file.
	* libm/machine/aarch64/sf_llrint.c: New file.
	* libm/machine/aarch64/sf_llround.c: New file.
	* libm/machine/aarch64/sf_lrint.c: New file.
	* libm/machine/aarch64/sf_lround.c: New file.
	* libm/machine/aarch64/sf_nearbyint.c: New file.
	* libm/machine/aarch64/sf_rint.c: New file.
	* libm/machine/aarch64/sf_round.c: New file.
	* libm/machine/aarch64/sf_trunc.c: New file.
	* libm/machine/configure.in: Add AArch64.
	* libm/machine/configure: Re-generated.

2012-09-26  Michael Hope  <michael.hope@linaro.org>

	* doc/makedoc.c (dup_): Rename to avoid colliding with dup(2). 

2012-09-13  Anthony Green  <green@moxielogic.com>

	* libc/include/machine/ieeefp.h (__IEEE_BIG_ENDIAN): Add bi-endian
	support for moxie.

2012-08-23  Christopher Faylor  <me.cygwin2012@cgf.cx>

	* libc/stdio/flags.c (__sflags): Guard against using O_BINARY on
	systems which do not provide it.

2012-08-21  Christopher Faylor  <me.cygwin2012@cgf.cx>

	* libc/stdio/flags.c (__sflags): Rewrite recognition of extended mode
	flags to just loop over more allowed flags.  Support glibc 'e' flag on
	systems defining _GLIBC_EXTENSION.  Support C11 'x' flag.

2012-08-10  Corinna Vinschen  <vinschen@redhat.com>

	* libc/stdlib/btowc.c (btowc): Cast to avoid compiler warning.
	* libc/search/hash_buf.c (__get_buf): Initialize local vars to avoid
	compiler warning.
	* libc/stdio/fgets.c (_fgets_r): Ditto.
	* libc/time/strftime.c (strftime): Ditto.

2012-08-10  Corinna Vinschen  <vinschen@redhat.com>

	* libc/stdio/vfwprintf.c (_VFWPRINTF_R): Fix guard around state to
	allow usage in !FLOATING_POINT && _WANT_IO_C99_FORMATS case.

2012-08-08  Eric Blake  <eblake@redhat.com>

	* libc/posix/engine.c(dissect): Guard diagnostic pragma for right
	versions of GCC only.
	* libc/string/strcasestr.c: Ditto.

2012-08-08  Corinna Vinschen  <vinschen@redhat.com>

	Throughout, run newlib with -Wall -Werror option and fix bugs and
	compiler warnings found this way.

	* libc/stdio/freopen.c (_freopen_r): Fix bug setting _flags.

	* libc/include/stdio.h (_rename): Define when building newlib.
	* libc/include/sys/signal.h (_kill): Ditto.
	* libc/include/sys/stat.h (_mkdir): Ditto.
	* libc/include/sys/time.h (_gettimeofday): Ditto.
	* libc/include/sys/times.h (_times): Ditto.
	* libc/include/sys/wait.h (_wait): Ditto.
	* libc/locale/lmessages.c (empty): Don't define for Cygwin.
	* libc/locale/lmonetary.c (cnv): Ditto.
	* libc/locale/nl_langinfo.c (nl_langinfo): Ditto for variable s.
	* libc/posix/collate.c: Throughout cast to avoid compiler warning.
	* libc/posix/engine.c (matcher): Initialize dp to avoid compiler
	warning.
	(dissect): Deliberately silence gcc compiler warning.  Add comment to
	explain why.
	* libc/posix/glob.c: Disable on Cygwin.  Explain why.
	* libc/posix/regcomp.c: Fix "uninitialized" compiler warnings.
	* libc/posix/wordexp.c (wordexp): Remove num_bytes variable since result
	is never used.
	* libc/posix/popen.c (popen): Ditto for variable last.
	* libc/reent/mkdirr.c: Include sys/stat.h.
	* libc/reent/renamer.c: Include stdio.h.
	* libc/search/hash.c:  Throughout use underscored variants of the stat
	function family.
	(init_hash): Add missing definition for the __USE_INTERNAL_STAT64 case.
	* libc/search/hash_bigkey.c (__big_insert): Add parenthesis to avoid
	compiler warning.
	* libc/search/hash_page.c (overflow_page): Initalize freep to NULL to
	avoid compiler warning.
	* libc/stdio/asiprintf.c (_asiprintf_r): Cast unsigned char * to char *
	to avoid compiler warning.
	(asiprintf): Ditto.
	* libc/stdio/asprintf.c (_asprintf_r): Ditto.
	(asprintf): Ditto.
	* libc/stdio/vasiprintf.c (_vasiprintf_r): Ditto.
	* libc/stdio/vasprintf.c (_vasprintf_r): Ditto.
	* libc/stdio/mktemp.c (_gettemp): Cast to unsigned char in call to
	isdigit to avoid compiler warning.
	* libc/stdio/vfprintf.c (_VFPRINTF_R): Initialize variables used for
	grouping to avoid compiler warning.  Only define and set nseps and
	nrepeats if they are really used.
	* libc/stdio/vfwprintf.c (_VFWPRINTF_R): Ditto.  Only define state if
	it is really used.
	* libc/stdio/vfscanf.c (u_char): Revert to be defined as unsigned char.
	(__SVFSCANF_R): Cast fmt in call to __mbtowc.
	* libc/stdlib/mbtowc_r.c (JIS_state_table): Disable when building
	Cygwin.
	(JIS_action_table): Ditto.
	* libc/stdlib/wctomb_r.c (__utf8_wctomb): Add parenthesis to avoid
	compiler warning.
	* libc/string/strcasestr.c: Deliberately silence gcc compiler warning.
	Add comment to explain why.
	* libc/time/strptime.c (strptime): Cast to unsigned char in calls to
	isspace to avoid compiler warning.
	* libm/math/e_atan2.c (__ieee754_atan2): Add parenthesis to avoid
	compiler warning.
	* libm/math/e_exp.c (__ieee754_exp): Initialize k to 0 to avoid
	compiler warning.  Drop setting it to 0 later.
	* libm/math/ef_exp.c (__ieee754_expf): Ditto.
	* libm/math/e_pow.c (__ieee754_pow): Add braces to avoid compiler
	warning.
	* libm/math/ef_pow.c (__ieee754_powf): Ditto.
	* libm/math/er_lgamma.c (__ieee754_lgamma_r): Initialize nadj to 0 to
	avoid compiler warning.
	* libm/math/erf_lgamma.c (__ieee754_lgammaf_r): Ditto.
	* libm/math/e_rem_pio2.c (__ieee754_rem_pio2): Ditto for variable z.
	* libm/common/sf_round.c (roundf): Remove signbit variable since result
	is never used.

2012-08-07  Corinna Vinschen  <vinschen@redhat.com>

	* libc/stdlib/mprec.h (Storeinc): Add parenthesis to avoid compiler
	warning.

2012-07-30  Kevin Buettner  <kevinb@redhat.com>

	* libc/sys/sysnecv850/crt0.S (_start): Use v850e-specific
	start up code for v850e2 and v850e2v3 too.

2012-07-20  Eric Blake  <eblake@redhat.com>

	* libc/posix/readdir.c (readdir): Drop bogus attempt to catch
	bogus pointers.

2012-07-18  Ralf Corspius  <ralf.corsepius@rtems.org>

	* libc/sys/rtems/machine/_types.h (_ssize_t): Use signed int for
	__v850__, __851__.

2012-07-17  Ralf Corspius  <ralf.corsepius@rtems.org>

	* libc/search/hcreate_r.c (hdestroy_r): #ifdef 0 unused vars ie, idx.

2012-07-16  Ralf Corspius  <ralf.corsepius@rtems.org>

	* libc/posix/telldir.c: Conditionally build dd_hash_lock.

2012-07-13  Ralf Corspius  <ralf.corsepius@rtems.org>

	* libc/sys/rtems/machine/_types.h (_ssize_t): Add __ARM_EABI__,
	__v850__, __851__.

2012-07-09  Corinna Vinschen  <vinschen@redhat.com>

	* libc/stdio/fileno.c (fileno): Check if f is a valid stream.  If not,
	return -1 and set errno to EBADF per POSIX.

2012-07-06  Corinna Vinschen  <vinschen@redhat.com>

	Allow building of Cygwin using Mingw64 SDK headers:
	* libc/include/sys/time.h: Drop _WINSOCK_H guard.  Just use
	_TIMEVAL_DEFINED instead.
	* libc/include/sys/types.h: Check for _WINSOCKAPI_ along with
	_WINSOCK_H.
	* libc/include/sys/unistd.h: Ditto.

2012-06-28  Matthew Gretton-Dann  <matthew.gretton-dann@arm.com>

	* doc/Makefile.am (makedoc): Use LDFLAGS_FOR_BUILD not LDFLAGS.
	* doc/Makefile.in: Regenerate.

2012-06-26  Christopher Faylor  <me.newlib2012@cgf.cx>

	* libc/include/sys/types.h: Don't use the same preprocessor guard for
	time_t, timespec, and itimerspec.  Add a separate guard specifically
	for timespec and always unconditionally define itimerspec.

2012-06-05  Corinna Vinschen  <vinschen@redhat.com>

	* libc/stdio/findfp.c (__sinit): Avoid infinite recursion on
	_REENT_SMALL targets.  Add comment to explain.

2012-05-31  Corinna Vinschen  <vinschen@redhat.com>

	* libc/stdio/local.h (_newlib_sfp_lock_exit): Fix typo in non-pthread
	version.

2012-05-30  Corinna Vinschen  <vinschen@redhat.com>

	* libc/stdio/fgetws.c (_fgetws_r): Call _mbsnrtowcs_r rather than
	_mbsrtowcs_r and restrict number of wide chars to n - 1.

2012-05-30  Corinna Vinschen  <vinschen@redhat.com>

	* libc/stdio/local.h (_newlib_flockfile_start): New macro to
	secure stream related critical section against thread cancellation.
	(_newlib_flockfile_exit): Ditto.
	(_newlib_sfp_lock_end): Ditto.
	(_newlib_sfp_lock_start): Ditto for the list of streams.
	(_newlib_sfp_lock_exit): Ditto.
	(_newlib_sfp_lock_end): Ditto.
	Use aforementioned macros in place of _flockfile/_funlockfile
	and __sfp_lock_acquire/__sfp_lock_release throughout the code.
	* libc/stdio/fclose.c: Explicitely disable and re-enable thread
	cancellation.  Explain why.
	* libc/stdio/freopen.c: Ditto.
	* libc/stdio64/freopen64.c: Ditto.

2012-05-21  Sandeep Kumar Singh  <Sandeep.Singh2@kpitcummins.com>

	* libc/machine/cr16/sys/asm.h: Added some missing instructions
	and removed few unsupported instructions of cr16 target.

2012-05-10  Yaakov Selkowitz  <yselkowitz@users.sourceforge.net>

	* libc/include/string.h (memrchr): Declare.
	* libc/string/Makefile.am (ELIX_4_SOURCES): Add memrchr.c.
	(CHEWOUT_FILES): Add memrchr.def.
	* libc/string/Makefile.in: Regenerate.
	* libc/string/memrchr.c: New file.

2012-05-10  Joel Sherrill <joel.sherrill@oarcorp.com>

	* libc/sys/rtems/machine/_types.h: Add Microblaze.

2012-05-09  Joel Sherrill <joel.sherrill@oarcorp.com>

	* libc/sys/rtems/crt0.c: Add stubs for access(), ftruncate(),
	_getpid_r(), geteuid(), getgid, _getgid_r, getpid(), getppid(),
	and _getpid_r().

2012-05-03  Greta Yorsh  <Greta.Yorsh@arm.com>

	* testsuite/newlib.string/strcmp-1.c (LONG_TEST): New macro.
	(MAX_BLOCK_SIZE): Use small value when LONG_TEST is not set.
	(MAX_DIFF, MAX_LEN, MAX_ZEROS) Likewise.

2012-03-29  Corinna Vinschen  <vinschen@redhat.com>

	* libc/locale/locale.c (__mb_cur_max): On Cygwin, align default value
	with default UTF-8 charset.

2012-03-26  Corinna Vinschen  <vinschen@redhat.com>

	* libc/stdio/findfp.c (__sinit): Set __sdidinit last.

2012-03-09  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/machine/setjmp-dj.h: Modify license to include
	modification in clause as permitted by DJ Delorie.
	* libc/machine/arm/access.c: Ditto.
	* libc/machine/i386/setjmp.S: Ditto.
	* libc/sys/h8300hms/sys/file.h: Ditto.
	* libc/sys/linux/machine/i386/setjmp.S: Ditto.
	* libc/sys/sysmec/access.c: Ditto.
	* libc/sys/sysnecv850/access.c: Ditto.

2012-03-02  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/posix/readdir_r.c: Fix return code when end of
	directory is reached.

2012-02-23  Dan Egnor  <egnor@ofb.net>

	* configure.host: Accept "arm*" host spec instead of just "arm".

2012-02-21  Jeremy Bennett  <jeremy.bennett@embecosm.com>
            Alan Lehotsky  <apl@alum.mit.edu>
            Joern Rennecke  <joern.rennecke@embecosm.com>

	* configure.host: Add Epiphany support.
	* libc/include/machine/ieeefp.h: Likewise.
	* libc/include/machine/setjmp.h: Likewise.
	* libc/machine/configure.in, libc/sys/configure.in: Likewise.
	* libc/machine/configure, libc/sys/configure: Regenerate.
	* libc/machine/epiphany, libc/sys/epiphany: New directories.
	* NEWS: Mention addition of Epiphany.

2012-02-15  Christopher Faylor  <me.newlib2012@cgf.cx>

	* configure.host: Fix typo: xdir_dir -> xdr_dir.

2012-02-09  Eric Blake  <eblake@redhat.com>

	* libc/include/_ansi.h (_ELIDABLE_INLINE): Fix C99 mode.

2012-02-09  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/sys/rtems/sys/utime.h: Include <sys/types.h> to provide a
	definition of time_t.

2012-02-08  Greta Yorsh  <Greta.Yorsh@arm.com>

	* libc/machine/arm/strcmp.S: New File.
	* libc/machine/arm/strcmp.c: Deleted.
	* libc/machine/arm/Makefile.am: Replaces strcmp.c with strcmp.S
	* libc/machine/arm/Makefile.in: Regenerated.
	* testsuite/newlib.string/strcmp-1.c: New file.

2012-02-07  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/inttypes.h: Redefine pointer type macros.

2012-01-13  Yaakov Selkowitz  <yselkowitz@users.sourceforge.net>

	* libc/stdio/sprintf.c: Document 'm' conversion specifier.
	* libc/stdio/swprintf.c: Ditto.
	* libc/stdio/vfprintf.c (_VFPRINTF_R) [_GLIBC_EXTENSION]: Handle 'm'
	conversion specifier.
	* libc/stdio/vfwprintf.c (_VFWPRINTF_R) [_GLIBC_EXTENSION]: Ditto.

2012-01-12  Yaakov Selkowitz  <yselkowitz@users.sourceforge.net>

	* libc/include/tgmath.h: New header.

2012-01-09  Yaakov Selkowitz  <yselkowitz@users.sourceforge.net>

	* libc/include/sys/unistd.h [__CYGWIN__] (get_current_dir_name):
	Declare.

2012-01-09  Yaakov Selkowitz  <yselkowitz@users.sourceforge.net>

	* libc/include/complex.h: Fix "/*" within comment warning.

2012-01-09  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/process.h: Remove Cygwin-only header.

2012-01-03  Viachaslau Kulakouski  <Viachaslau.Kulakouski@oracle.com>

	* libc/stdlib/__atexit.c: Refer to __atexit_lock instead of lock.

2011-12-20  Aleksandr Platonov  <pam@oktetlabs.ru>

	* libc/stdio/fvwrite.c (__sfvwrite_r): Set __SMBF flag to avoid double 
	free in fclose.  Enhance comment.

2011-12-19  Jeff Johnston  <jjohnstn@redhat.com>

	* NEWS: Update with 1.20.0 info.
	* README: Ditto.
	* acinclude.m4: Change version number to 1.20.0.
	* aclocal.m4: Regenerated.
	* configure: Ditto.
	* Makefile.in: Regenerated.
	* doc/aclocal.m4: Ditto.
	* doc/configure: Ditto.
	* libc/*/aclocal.m4: Ditto.
	* libc/*/configure: Ditto.
	* libc/libc.texinfo: Ditto.
	* libm/*/aclocal.m4: Ditto.
	* libm/*/configure: Ditto.
	* libm/libm.texinfo: Ditto.
	* libc/sys/linux/shared.ld: Add VERS_1.20

2011-12-13  Richard Earnshaw  <rearnsha@arm.com>
	    Thomas Klein  <th.r.klein@web.de>

	* libc/sys/arm/crt0.S: Manually set the target architecture
	when compiling for Thumb1 on EABI targets.
	Don't use SWI on M-profile cores.
	Avoid v6-only Thumb-1 MOV instruction.

2011-12-12  Akio Idehara  <zbe64533@gmail.com>

	* libc/time/strftime.c (get_era_info): Fix off-by-one error in month
	calculation.

2011-12-06  Chris Johns  <chrisj@rtems.org>

	* libc/iconv/Makefile.am (stmp-def): Use $(MAKE) rather than make.
	* libc/iconv/Makefile.in: Regenerate.

2011-11-28  DJ Delorie  <dj@redhat.com>

	* configure.host: Add rl78.
	* libc/include/machine/ieeefp.h: Add rl78 support.
	* libc/include/machine/setjmp.h: Add rl78 support.
	* libc/machine/configure.in: Add rl78.
	* libc/machine/rl78: New directory.
	* MAINTAINERS (rl78): Add myself as RL78 maintainer.

2011-11-08  Corinna Vinschen  <vinschen@redhat.com>

	* libc/iconv/ccs/Makefile.am: Add missing backslash.
	* libc/iconv/ccs/Makefile.in: Regenerate.

2011-10-18  Dr David Alan Gilbert  <david.gilbert@linaro.org>

	* libc/machine/arm/Makefile.am (lib_a_SOURCES): Add memchr-stub.c,
	memchr.S.
	* libc/machine/arm/arm_asm.h: Add ifdef to allow it to be included
	in .S files.
	* libc/machine/arm/memchr-stub.c: New file - just selects what to
	compile.
	* libc/machine/arm/memchr.S: New file - ARMv6t2/v7 version.

	* libc/machine/arm/Makefile.am (lib_a_SOURCES): Add strlen-armv7.S.
	* libc/machine/arm/strlen-armv7.S: New file.
	* libc/machine/arm/strlen.c: Add ifdef optimised code so it isn't
	for v7 or 6t2.

	* libc/machine/arm/Makefile.in: Regenerate.

2011-10-11  Steven Abner <pheonix@zoomtown.com>

	* libc/time/mktm_r.c: (__tzcalc_limits) Fix Julian day calculation.
	* libc/time/mktime.c: (mktime) Fix tm_yday, tm_mday updating when
	timezone causes roll over.

2011-10-10  Nick Clifton  <nickc@redhat.com>

	* libc/sys/arm/crt0.S: Synchronise with libgloss version.
	* libc/sys/arm/arm.h: Imported from libgloss.

2011-10-04  Greta Yorsh  <Greta.Yorsh@arm.com>

	* testsuite/newlib.string/memcpy-1.c: New test.

2011-10-04  Nick Clifton  <nickc@redhat.com>

	* libc/machine/arm/memcpy.S: Fix unaligned access copying.

2011-09-29  Greta Yorsh  <Greta.Yorsh@arm.com>

	* libc/machine/arm/memcpy.S: New file.  Contains a hand coded
	memcpy function optimized for the cortex-a15.
	* libc/machine/arm/memcpy-stub.c: New file.
	* libc/machine/arm/Makefile.am (lib_a_SOURCES): Add memcpy-stub.c,
	memcpy.S.
	* libc/machine/arm/Makefile.in: Regenerate.

2011-09-08  Jeff Johnston  <jjohnstn@redhat.com>

	* testsuite/lib/flags.exp: Add logic to add the
	srcdir include directory to compile flags.

2011-08-26  Steven Abner  <pheonix@zoomtown.com>

	* libc/time/mktm_r.c (_mktm_r): Fix previous fix.

2011-08-24  Corinna Vinschen  <vinschen@redhat.com>

	* libc/time/mktm_r.c (_mktm_r): Fix computing tm_year.

2011-08-23  Ralf Corspius  <ralf.corsepius@rtems.org>

	* libc/stdlib/putenv_r.c: Use "strchr" instead of obsolete "index".
	* libc/stdlib/setenv_r.c: Use "memcpy" instead of obsolete "bcopy".

2011-08-23  Ralf Corspius  <ralf.corsepius@rtems.org>

	* libc/misc/ffs.c, libc/string/bcmp.c, libc/string/bcopy.c,
	libc/string/bzero.c, libc/string/index.c, libc/string/rindex.c,
	libc/string/strcasecmp.c, libc/string/strncasecmp.c:
	Let synopsis reference "#include <strings.h>".

2011-08-23  Ralf Corspius  <ralf.corsepius@rtems.org>

	* libc/posix/regexec.c: Define "nope" only #ifndef NDEBUG.
	* libc/stdio/vfscanf.c: Define "state" only #ifdef _MB_CAPABLE.
	* libc/string/wcwidth.c: Include <wctypes.h> for "iswprint" and
	"iswcntrl".

2011-08-23  Ralf Corspius  <ralf.corsepius@rtems.org>

	* libc/sys/rtems/include/limits.h: Compute SSIZE_MAX based on
	__SIZE_MAX__, __SIZEOF_SIZE_T__ and __CHAR_BIT__.

2011-08-22  Ralf Corspius <ralf.corsepius@rtems.org>

	* libc/string/index.c: Include <strings.h> for "index".
	* libc/string/rindex.c: Include <strings.h> for "rindex".
	* libc/string/strcasecmp.c: Include <strings.h> for "strcasecmp".
	Don't include <string.h>.
	* libc/string/strncasecmp.c: Include <strings.h> for "strncasecmp".
	Don't include <string.h>.
	* libc/string/bzero.c: Include <strings.h> for "bzero".
	Don't include <string.h>
	* libc/misc/ffs.c: Include <strings.h> for "ffs".
	Don't include <_ansi.h>.

2011-08-19  Ralf Corspius <ralf.corsepius@rtems.org>

	* libc/sys/rtems/crt0.c: Rework RTEMS_STUB macro.
	Include <unistd.h>.
	Remove C++-style comments.
	Remove hppa, a29k.
	Add clock_gettime, gettimeofday, sched_yield.

2011-08-19  Ralf Corspius <ralf.corsepius@rtems.org>

	* libc/stdio/vasiprintf.c: Include "local.h" for "_svfiprintf_r".
	* libc/stdio/vasprintf.c Include "local.h" for "_svfprintf_r".
	* libc/stdio/vsiprintf.c: Include "local.h" for "_svfiprintf_r".
	* libc/stdio/vsniprintf.c: Include "local.h" for "_svfiprintf_r".
	* libc/stdio/vsnprintf.c: Include "local.h" for "_svfprintf_r"
	* libc/stdio/vsprintf.c: Include "local.h" for "_svfprintf_r"

2011-08-19  Ralf Corspius <ralf.corsepius@rtems.org>

	* libc/string/bcmp.c: Include <strings.h> for "bcmp".
	* libc/string/bcopy.c: Include <strings.h> for "bcopy".
	* libc/string/strcasestr.c: Include <strings.h> for "strncasecmp".
	* libc/time/strptime.c: Include <strings.h> for "strncasecmp".

2011-08-19  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/process.h: Remove exec family function declarations.
	Add comment.
	* libc/include/sys/unistd.h (execlpe): Declare for Cygwin.

2011-08-19  Craig Howland  <howland@LGSInnovations.com>

	* libc/time/mktime.c (validate_structure): Account for tm_mon possibly
	being given as negative.
	(mktime): Set tm_isdst=0 when !daylight.

2011-08-01  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/include/sys/types.h: XML and RTEMS define
	_UNIX98_THREAD_MUTEX_ATTRIBUTES and can use the standard
	definitions. This avoids redefinition warnings.

2011-07-26  Ralf Corspius <ralf.corsepius@rtems.org>

	* libc/sys/rtems/sys/dirent.h (scandir):
	Add const to "select" parameter.

2011-07-25  Ralf Corspius  <ralf.corsepius@rtems.org>

	* libc/iconv/iconv.tex: Rename node "Introduction" into
	"Introduction to iconv".

2011-07-20  Yaakov Selkowitz  <yselkowitz@...>

	* libc/include/time.h [_POSIX_CLOCK_SELECTION] (clock_nanosleep):
	Declare.
	* libc/include/sys/features.h [__CYGWIN__] (_POSIX_CLOCK_SELECTION):
	Define.

2011-07-19  Yaakov Selkowitz  <yselkowitz@users.sourceforge.net>

	* libc/include/sys/unistd.h (_CS_XBS5_WIDTH_RESTRICTED_ENVS): Define.
	(_CS_V6_ENV): Fix definition.

2011-07-19  Ralf Corspius <ralf.corsepius@rtems.org>

	* libc/locale/lmessages.c (_C_messages_locale):
	Move __HAVE_LOCALE_INFO_EXTENDED__ before codeset.

2011-07-19  Matt Johnson  <johnso87@crhc.illinois.edu>

	* libc/reent/sbrkr.c: Define _sbrk_r independently of the definition
	of MALLOC_PROVIDED.

2011-07-15  Yufeng Zhang  <yufeng.zhang@arm.com>

	* libc/stdio/vfwprintf.c (wcvt): Add a new parameter len of type
	int.  *length is set to the value of (rev - digits) regardless
	of whether _MB_CAPABLE is defined or not.  Replace BUF with len
	in calling _mbsnrtowcs_r and also in the loop where _MB_CAPABLE
	is not defined.
	(_VFWPRINTF_R): Call wcvt with an extra argument.  Call wcvt
	again with allocated new buffer if buf is not large enough for
	the conversion.
	* testsuite/newlib.stdio/stdio.exp: New.
	* testsuite/newlib.stdio/swprintf.c: Likewise.

2011-07-15  Matt Johnson  <johnso87@crhc.illinois.edu>

	* libc/stdio/fscanf.c (fscanf): Call _vfscanf_r instead of __svfscanf_r
	to make sure CHECK_INIT is called.
	(_fscanf_r): Ditto.
	* /libc/stdio/scanf.c (scanf): Ditto.
	(_scanf_r): Ditto.
	* libc/stdio/fwscanf.c (fwscanf): Call _vfwscanf_r instead of
	__svfwscanf_r to make sure CHECK_INIT is called.
	(_fwscanf_r): Ditto.
	* libc/stdio/wscanf.c (wscanf): Ditto.
	(_wscanf_r): Ditto.

2011-07-13  Hans-Peter Nilsson <hp@axis.com>

	* libm/complex/cacos.c: Use temporaries and correct sequencing
	error in previous reordering change.

2011-06-25  Andreas Becker  <becker@se-elektronic.de>

	* libc/time/mktime.c (mktime): Lock global timezone info while
	accessing it.

2011-06-14  Philip Munts  <phil@munts.net>

	* libc/time/asctime_r.c (asctime_r): Replace call to sprintf with call
	to siprintf.
	* libc/time/strftime.c: Define snprintf to sniprintf in multibyte case.
	* libc/time/tzset_r.c: Define sscanf to siscanf.

2011-06-14  Joseph Myers  <joseph@codesourcery.com>

	* configure.host: Don't handle ep9312, strongarm, xscale and thumb
	target names.
	* libc/machine/configure.in: Don't handle xscale target names.
	* libc/machine/configure: Regenerate.

2011-06-14  Craig Howland <howland@LGSInnovations.com>

	* libc/time/tzset_r.c (tzset_r):  Correct behavior for changing from
	non-GMT to GMT, when un-setting TZ.  Set _timezone and _daylight even
	if no DST is given in TZ.

2011-06-13  Eric Blake  <eblake@redhat.com>

	* libc/stdio/wsetup.c (__swsetup_r): Set errno on failure.
	* libc/stdio/fvwrite.c (__sfvwrite_r): Simplify.
	* libc/stdio/wbuf.c (__swbuf_r): Likewise.
	* libc/stdio/local.h (cantwrite): Adjust comment.

2011-06-09  Yaakov Selkowitz  <yselkowitz@...>

	* libc/include/string.h (strdupa): New macro function.
	(strndupa): New macro function.

2011-05-27  Nick Clifton  <nickc@redhat.com>

	* libc/sys/sysnecv850/sbrk.c (_sbrk): Tidy code.
	Base start of heap on the "heap_start" symbol.

2011-05-25  Eric Blake  <eblake@redhat.com>

	* libc/string/strerror.c (_strerror_r): Report "Success" for 0.

2011-05-25  Eric Blake  <eblake@redhat.com>

	* libc/string/strerror.c (strerror): Split body into...
	(_strerror_r): ...new reentrant function.
	* libc/string/u_strerr.c (_user_strerror): Update signature.
	* libc/include/string.h (_strerror_r): New prototype.
	* libc/posix/collate.c (__collate_err): Adjust callers.
	* libc/stdio/perror.c (_perror_r): Likewise.
	* libc/string/strerror_r.c (strerror_r): Likewise.
	* libc/string/xpg_strerror_r.c (__xpg_strerror_r): Likewise.

2011-05-19  Yaakov Selkowitz  <yselkowitz@users.sourceforge.net>

	* libc/include/stdio_ext.h: New header.
	* libc/stdio/fpurge.c [!__rtems__] (__fpurge): New function.

2011-05-19  Matthew Gretton-Dann  <matthew.gretton-dann@arm.com>

	* Makefile.am (install-data-local): Fix condition and rm call.
	* Makefile.in: Regenerate.

2011-05-16  Yaakov Selkowitz  <yselkowitz@users.sourceforge.net>

	* libc/include/time.h (CLOCK_PROCESS_CPUTIME_ID): Rename from
	CLOCK_PROCESS_CPUTIME.
	(CLOCK_THREAD_CPUTIME_ID): Rename from CLOCK_THREAD_CPUTIME.
	* libc/include/sys/features.h [__CYGWIN__] (_POSIX_CPUTIME): Define.
	(_POSIX_THREAD_CPUTIME): Define.

2011-05-16  Christian Bruel  <christian.bruel@st.com>

	* libc/stdlib/strtod.c (_strtod_r): Fix nf/nd counts to not exceed
	DBL_DIG.

2011-05-15  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/sys/features.h (_POSIX_THREAD_ATTR_STACKADDR): Define
	to 200112L for Cygwin.

2011-05-12  Peter Rosin  <peda@lysator.liu.se>

	* libc/time/strptime.c (strptime): Fill in tm_yday when all of tm_year,
	tm_mon and tm_mday are updated. Fill in tm_mon, tm_mday and tm_wday
	when both of tm_year and tm_yday are updated.

2011-05-12  Peter Rosin  <peda@lysator.liu.se>

	* libc/time/strptime.c (first_day): Actually return the wday
	of the first day of the year.

2011-05-10  Corinna Vinschen  <vinschen@redhat.com>

	* libc/locale/lmessages.c (_C_messages_locale): Add missing comma.

2011-05-04  Yaakov Selkowitz  <yselkowitz@users.sourceforge.net>

	* libc/include/signal.h (psignal): Declare.
	* libc/sys/linux/psignal.c: Move from here...
	* libc/signal/psignal.c: ... to here. Document.
	* libc/sys/linux/Makefile.am (GENERAL_SOURCES): Move psignal.c from here...
	* libc/signal/Makefile.am (LIB_SOURCES): ... to here.
	(CHEWOUT_FILES): Add psignal.def.
	* libc/sys/linux/Makefile.in: Regenerate.
	* libc/signal/Makefile.in: Ditto.
	* libc/signal/signal.tex: Add references to psignal.

2011-05-04  Corinna Vinschen  <vinschen@redhat.com>

	* libc/locale/lmessages.h (__messages_load_locale): Declare.  Remove
	accidental declaration of __numeric_load_locale.
	* libc/locale/locale.c: Include timelocal.h to get declaration of
	__time_load_locale.
	(__set_locale_from_locale_alias): Fix return type.
	(__locale_msgcharset): Avoid compiler warnings.
	(_localeconv_r): Ditto.

2011-05-04  Andy Koppe  <andy.koppe@gmail.com>

	* libc/locale/locale.c (current_categories): On Cygwin, set LC_CTYPE 
	to C.UTF-8 to match initial __wctomb and __mbtowc settings.
	(lc_ctype_charset): On Cygwin, initialize to "UTF-8".
	(loadlocale): Remove unused Cygwin-specifc code.

2011-05-02  Yaakov Selkowitz  <yselkowitz@users.sourceforge.net>

	* libc/include/sys/features.h [__CYGWIN__] (_POSIX_SPIN_LOCKS): Define.
	* libc/include/sys/types.h: Cygwin provides its own pthread_spinlock_t
	typedef.

2011-04-19  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/sys/signal.h (_sig_func_ptr): Define with int parameter
	per POSIX.  Explain in comment.

2011-04-15  Eric Blake  <eblake@redhat.com>

	* libc/string/strchrnul.c (strchrnul): Fix strchrnul.

2011-03-27  Yaakov Selkowitz  <yselkowitz@users.sourceforge.net>

	* libc/include/string.h (strchrnul): Declare.
	* libc/string/strchrnul.c: New file.
	* libc/string/Makefile.am (ELIX_2_SOURCES): Add strchrnul.c.
	* libc/string/Makefile.in: Regenerate.

2011-03-23  Nick Clifton  <nickc@redhat.com>

	* libc/machine/frv/setjmp.S: Fix typo in .size directive.

2011-03-21  Kevin Buettner  <kevinb@redhat.com>

	* libc/sys/sysnecv850/trap.S (___trap0): Fix errno handling.
	* libc/sys/sysnecv850/rename.c: New file.
	* libc/sys/sysnecv850/Makefile.am (lib_a_SOURCES): Add rename.c
	* libc/sys/sysnecv850/Makefile.in: Regenerate.
	* libc/sys/sysnecv850/fstat.c (_fstat): Invoke trap for SYS_fstat.
	* libc/sys/sysnecv850/unlink.c (_unlink): Invoke trap for SYS_unlink.

2011-03-03  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/string.h: Include sys/cdefs.h.

2011-03-03  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/sys/cdefs.h (__CONCAT1): Define.
	(__CONCAT): Define.
	(__STRING): Define.
	(__XSTRING): Define.
	(__ASMNAME): Define.
	* libc/include/string.h (strerror_r): Use __ASMNAME to take target
	specific label prefixes into account.

2011-03-01  Aaron Landwehr <snaphat@gmail.com>

	* libm/complex/cproj.c: Fix typo.
	* libm/complex/cprojf.c: Ditto.

2011-02-22  Corinna Vinschen  <vinschen@redhat.com>

	* libc/stdio/fmemopen.c (fmemopen): Fix EINVAL condition.  Avoid SEGV
	if incoming buffer is NULL.

2011-02-09  Eric Blake  <eblake@redhat.com>

	* libc/include/string.h (strerror_r): Update declaration.
	* libc/string/strerror.c (strerror): Update documentation.
	* libc/string/strerror_r.c (strerror_r): Always return
	NUL-terminated string; don't overwrite too-short buf.
	* libc/string/xpg_strerror_r.c (__xpg_strerror_r): Implement POSIX
	variant.
	* libc/string/Makefile.am (GENERAL_SOURCES): Build new file.
	* libc/string/Makefile.in: Regenerate.

2011-01-28  Corinna Vinschen  <vinschen@redhat.com>

	* libc/stdio/fclose.c: Only use sfp lock to guard non-atomic
	changes of flags and fp lock.
	* libc/stdio/freopen.c: Ditto.
	* libc/stdio64/freopen64.c: Ditto.
	* libc/stdio/fgetc.c: Revert change from 2009-04-24, remove sfp locks
	which guard entire function to avoid potential deadlocks when using
	stdio functions in multiple thraeds.
	* libc/stdio/fgets.c: Ditto.
	* libc/stdio/fgetwc.c: Ditto.
	* libc/stdio/fgetws.c: Ditto.
	* libc/stdio/fread.c: Ditto.
	* libc/stdio/fseek.c: Ditto.
	* libc/stdio/getc.c: Ditto.
	* libc/stdio/getdelim.c: Ditto.
	* libc/stdio/gets.c: Ditto.
	* libc/stdio/vfscanf.c: Ditto.
	* libc/stdio/vfwscanf.c: Ditto.

	* libc/stdio/fflush.c (_fflush_r): Split out core functionality into
	new function __sflush_r.  Just lock file and call __sflush_r from here.
	* libc/stdio/fwalk.c (_fwalk): Remove static helper function and move
	functionality back into main function. Don't walk a file with flags
	value of 1.  Add comment.
	(_fwalk_reent): Ditto.
	* libc/stdio/local.h (__sflush_r): Declare.
	* libc/stdio/refill.c (__srefill): Before calling fwalk, set flags
	value to 1 so this file pointer isn't walked.  Revert flags afterwards
	and call __sflush_r for this fp if necessary.  Add comments.

2011-01-27  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/sys/features.h: Define __STDC_ISO_10646__ for Cygwin.
	* libc/include/wchar.h: Include features.h.

2011-01-15  Yaakov Selkowitz  <yselkowitz@users.sourceforge.net>

	* libc/include/sys/types.h (ulong): Add typedef.

2011-01-12  Ralf Corspius  <ralf.corsepius@rtems.org>

	* libm/math/w_tgamma.c: Only build ifndef _DOUBLE_IS_32BITS.
	* libm/math/wf_tgamma.c: Map tgamma to tgammaf, ifdef _DOUBLE_IS_32BITS.

2011-01-12  Jeff Johnston  <jjohnstn@redhat.com>

	* configure.host: Add noinclude variable to allow specification
	of header files to remove from installation.
	* acinclude.m4: Provide NO_INCLUDE_LIST variable based on
	noinclude variable in configure.host.
	* configure: Regenerated.
	* Makefile.am: Remove all header files in NO_INCLUDE_LIST.
	* Makefile.in: Regenerated.

2011-01-12  Yaakov Selkowitz  <yselkowitz@users.sourceforge.net>

	* libc/sys/linux/sys/signal.h (sig_t): Move from here...
	* libc/include/signal.h (sig_t): ...to here.

2011-01-10  Corinna Vinschen  <vinschen@redhat.com>

	* libc/machine/mips/strlen.c (strlen): Add delay slot for R3000.

2011-01-10  Joel Sherrill <joel.sherrill@oarcorp.com>

	* libc/include/string.h: Make strsignal() available unconditionally.

2011-01-07  Ralf Corsepius  <ralf.corsepius@rtems.org>

	* libc/sys/rtems/crt0.c: Adjust free() and calloc() to match their
	public decls.

2011-01-05  Ralf Corsepius  <ralf.corsepius@rtems.org>

	* Makefile.am: Move cleaning targ-include to clean-local.
	* Makefile.in: Regenerate.

2011-01-05  Ralf Corsepius  <ralf.corsepius@rtems.org>

	* libc/stdio/open_memstream.c (internal_open_memstream_r):
	Don't limit c->max to 64*1024 on targets with SIZE_MAX < 64*1024.

2011-01-05  Ralf Corsepius  <ralf.corsepius@rtems.org>

	* libc/xdr/xdr.c: Fix typos in #errors.

2011-01-05  Ralf Corsepius  <ralf.corsepius@rtems.org>

	* libc/xdr/xdr_private.h: Include <stdint.h>
	* libc/xdr/xdr_rec.c: Include limits.h

2011-01-05  Ralf Corsepius  <ralf.corsepius@rtems.org>

	* libc/Makefile.am (SUBDEFS): Remove redundant posix/stmp-def.
	* libc/Makefile.in: Regenerate.

2011-01-05  Ralf Corsepius  <ralf.corsepius@rtems.org>

	* libc/configure.in: Remove redundant posix_dir processing.
	* libc/configure: Regenerate.

2010-12-31  Ralf Corsepius  <ralf.corsepius@rtems.org>

	* MAINTAINERS: Change corinna@vinchen.de to corinna@vinschen.de.

2010-12-26  Christopher Faylor  <me+cygwin@cgf.cx>

	* libc/include/sys/errno.h (program_invocation_name): Declare.
	(program_invocation_short_name): Ditto.

2010-12-16  Jeff Johnston  <jjohnstn@redhat.com>

	* NEWS: Update with 1.19.0 info.
	* README: Ditto.
	* MAINTAINERS: Update.
	* acinclude.m4: Change version number to 1.19.0.
	* aclocal.m4: Regenerated.
	* configure: Ditto.
	* Makefile.am: Fix stmp-targ-include target.
	* Makefile.in: Regenerated.
	* doc/aclocal.m4: Ditto.
	* doc/configure: Ditto.
	* libc/*/aclocal.m4: Ditto.
	* libc/*/configure: Ditto.
	* libc/libc.texinfo: Ditto.
	* libm/*/aclocal.m4: Ditto.
	* libm/*/configure: Ditto.
	* libm/libm.texinfo: Ditto.
	* libc/sys/linux/shared.ld: Add VERS_1.19

2010-12-14  Jeff Johnston  <jjohnstn@redhat.com>

	* Makefile.am: Add support to copy all sub-directories of the
	sys/SYS_DIR/include directory, if they contain header files.
	* Makefile.in: Regenerated.

2010-12-08  Jeff Johnston  <jjohnstn@redhat.com>

	* libm/mathfp/sf_logarithm.c: Change isfinitef reference to isfinite.

2010-12-08  Ralf Corsepius <ralf.corsepius@rtems.org>

	* include/sys/types.h: Add #if defined(__rtems__) around
	pthread_attr_t.guardsize.

2010-12-08  Joel Sherrill <joel@OARcorp.com>

	* include/pthread.h: Add pthread_attr_setstack, pthread_attr_getstack,
	pthread_attr_getguardsize, pthread_attr_setguardsize.
	* include/sys/types.h (pthread_attr_t): Add guardsize.

2010-12-08  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/strings.h: Don't include locale.h.

2010-12-07  Eric Blake  <eblake@redhat.com>

	* libc/include/strings.h: Don't declare removed functions when
	requesting POSIX 2008 compliance.

2010-12-07  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdlib/strtod.c (_strtod_r): Fix code to handle case whereby
	_DOUBLE_IS_32BITS is set and DBL_DIGS is 6 instead of 15.

2010-12-07  Ralf Corspius  <ralf.corsepius@rtems.org>

	* libc/include/strings.h: New (split-out from string.h).

2010-12-03  Craig Howland <howland@LGSInnovations.com>

	* libc/include/math.h: Missing from previous checkin.

2010-12-02  Craig Howland <howland@LGSInnovations.com>

	* libm/common/s_log2.c:  Change from using M_LOG2_E to M_LN2 define
	(from math.h--the latter is POSIX, the former non-standard).
	* libm/common/sf_log2.c:  Ditto.  Change cast for M_LN2 from float to
	float_t (in case all math not done in float).
	* libc/include/math.h:  Ditto (same 2 things as sf_log2.c).

2010-12-02  Jayant Sonar  jayant.sonar@kpitcummins.com
	    Kaushik Phatak  kaushik.phatak@kpitcummins.com

	* configure.host: Add CR16 support.
	* libc/include/machine/ieeefp.h: Ditto.
	* libc/include/machine/setjmp.h: Ditto.
	* libc/include/sys/config.h: Ditto.
	* libc/machine/configure.in: Ditto
	* libc/machine/configure: Regenerated
	* libc/machine/cr16/aclocal.m4: New.
	* libc/machine/cr16/configure.in: New
	* libc/machine/cr16/configure: New
	* libc/machine/cr16/getenv.c: New
	* libc/machine/cr16/Makefile.am: New
	* libc/machine/cr16/Makefile.in: New
	* libc/machine/cr16/setjmp.S: New
	* libc/machine/cr16/sys/asm.h: New
	* libc/machine/cr16/sys/libh.h: New
	* libc/machine/cr16/sys/syscall.h: New

2010-11-29  Ralf Corspius  <ralf.corsepius@rtems.org>

	* libm/complex/catan.c, libm/complex/catanf.c,
	libm/complex/ctan.c, libm/complex/ctanf.c:
	Use HUGE_VAL instead of MAXNUM.

2010-11-25  Ralf Corspius  <ralf.corsepius@rtems.org>

	* libm/complex/cargf.c: Use crealf instead of creal.

2010-11-19  Andy Koppe <andy.koppe@gmail.com>

	* libc/locale/locale.c (loadlocale): Recognise the "cjknarrow"
	modifier on "C.<charset>" locales too.

2010-11-18  Andy Koppe <andy.koppe@gmail.com>

	* libc/locale/locale.c (loadlocale): Fix width of CJK ambigous
	characters to 1 for singlebyte charsets and 2 for non-Unicode
	multibyte charsets. Change documentation accordingly.

2010-11-17  Bernd Schmidt  <bernds@codesourcery.com>

	* configure.host (newlib_cflags): For tic6x, add -DCLOCK_PROVIDED.

2010-11-16  Andrew Makhorin <mao@gnu.org>

	* libc/machine/i386/setjmp.S (longjmp): Per POSIX, return 1 if second
	argument is 0.

2010-11-16  Ralf Corspius  <ralf.corsepius@rtems.org>

	* libc/include/sys/types.h: Add _mode_t for __rtems__.
	* libc/sys/rtems/machine/_types.h: Provide _mode_t, _fpos_t, _off_t.
	Add _ssize_t for 64bit sparc.
	Let arm, i386, m68k, mips, PPC, sparc use 64bit _off_t, _fpos_t.

2010-11-16  Ralf Corspius  <ralf.corsepius@rtems.org>

	* configure.host: Add -D_COMPILING_NEWLIB to newlib_cflags.

2010-11-04  Ralf Corspius  <ralf.corsepius@rtems.org>

	* libm/complex/cacos.c: Reorder function calls to work around ICE
	in arm/thumb-gcc.

2010-10-27  Maurice Baijens  <maurice.baijens@ellips.nl>

	* libc/stdlib/strtol.c: Make sure signed characters are not
	sign-extended when converted to int and passed to ctype macros.
	* libc/stdlib/strtoul.c: Ditto.
	* libc/stdlib/strtoll_r.c: Ditto.
	* libc/stdlib/strtoull_r.c: Ditto.

2010-10-18  Marco Atzeri  <marco_atzeri@yahoo.it>

	* libm/Makefile.am: added complex functions documentation
	* libm/libm.texinfo: ditto
	* libm/complex/Makefile.am: Ditto
	* libm/complex/complex.tex: Ditto
	* libm/complex/(cabs.c, cacos.c, cacosh.c, carg.c,
     	casin.c, casinh.c, catan.c, catanh.c, ccos.c, ccosh.c,
     	cexp.c, cimag.c, clog.c, conj.c, cpow.c, cproj.c, creal.c,
     	csin.c, csinh.c, csqrt.c, ctan.c, ctanh.c): Ditto
	* libm/Makefile.in: Regenerate
	* libm/complex/Makefile.in: Ditto 

2010-10-14  Craig Howland <howland@LGSInnovations.com>

	* libc/include/math.h:  Delete cabs() and cabs() prototypes
	(c.f. 2010-10-08 change by Corinna).

2010-10-08  Bernd Schmidt  <bernds@codesourcery.com>
	Joseph Myers  <joseph@codesourcery.com>

	* configure.host: Handle tic6x targets.
	* libc/include/machine/ieeefp.h: Define endianness for C6X.
	* libc/include/machine/setjmp.h: Add __TMS320C6X__ case.
	* libc/machine/configure.in: Handle tic6x targets.
	* libc/machine/configure: Regenerate.
	* libc/machine/tic6x/Makefile.am, libc/machine/tic6x/configure.in,
	libc/machine/tic6x/setjmp.S: New.
	* libc/machine/tic6x/Makefile.in, libc/machine/tic6x/aclocal.m4,
	libc/machine/tic6x/configure: New (generated).

2010-10-08  Ralf Corspius  <ralf.corsepius@rtems.org>

	* libc/include/sys/unistd.h: Declare getsid, setegid, seteuid for RTEMS.

2010-10-08  Ralf Corspius  <ralf.corsepius@rtems.org>

	* libm/common/sf_llrint.c, libm/common/sf_round.c: Add explicit casts
	to __uint32_t to avoid overflows on implicit casts.

2010-10-08  Ralf Corspius  <ralf.corsepius@rtems.org>

	* libm/complex/complex.tex: Add empty stub.

2010-10-08  Corinna Vinschen  <corinna@vinschen.de>

	* libm/math/w_cabs.c: Delete.
	* libm/math/wf_cabs.c: Delete.
	* libm/math/Makefile.am (src): Remove w_cabs.c.
	(fsrc): Remove wf_cabs.c.
	* libm/math/Makefile.in: Regenerate.

2010-10-08  Marco Atzeri  <marco_atzeri@yahoo.it>

	* libc/include/complex.h: New complex header.
	* libm/common/fdlibm.h: Added ifdef _COMPLEX_H.
	* libm/complex/*: New complex functions imported from NetBSD.
	* libm/Makefile.am: Added complex subdir.
	* libm/Makefile.in: Regenerate.
	* libm/configure.in: Added complex subdir.
	* libm/configure: Regenerate.

2010-10-06  Eric Blake  <eblake@redhat.com>

	* lib/str-two-way.h (two_way_long_needle): Avoid bug with long
	periodic needle having false positive.  Affects memmem, strstr,
	strcasestr.

2010-09-21  Craig Howland <howland@LGSInnovations.com>

	* libc/string/memcpy.c: Do not assign size_t parameter to int.
	Use parameter directly, instead.
	* libc/string/memccpy.c:  Likewise.
	* libc/string/mempcpy.c:  Likewise.
	* libc/string/memmove.c:  Likewise.

2010-09-09  Kevin Buettner  <kevinb@redhat.com>

	* libc/sys/sysnecv850/Makefile.am (lib_a_SOURCES): Provide an
	empty definition.
	* libc/sys/sysnecv850/Makefile.in: Regenerate.

2010-08-25  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/posix/opendir.c (opendir): Fix potential memory leak.

2010-08-10  Yaakov Selkowitz  <yselkowitz@users.sourceforge.net>

	* libc/include/sys/dir.h: New BSD-compatibility header.

2010-08-02  Yaakov Selkowitz  <yselkowitz@users.sourceforge.net>

	* libc/include/sys/features.h: Define _POSIX_MONOTONIC_CLOCK for Cygwin.

2010-08-06  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/stat.h: Move all POSIX-defined symbolic constants
	out of `#ifndef _POSIX_SOURCE' guard.

2010-08-03  Craig Howland <howland@LGSInnovations.com>

	* libm/common/s_lrint.c (lrint):  Annotate shift operations with
	possible shift amount ranges, and use SAFE_RIGHT_SHIFT to avoid
	undefined behaviour.
	* libm/common/s_llrint.c (llrint):  Likewise.
	* libm/common/s_lround.c (lround):  Correct some comments on ranges.
	* libm/common/s_llround.c (llround):  Likewise.

2010-07-30  Anthony Green  <green@moxielogic.com>

	* libc/sys/rtems/machine/_types.h: Add moxie support.

2010-07-23  Naveen.H.S  <naveenh1@kpitcummins.com>
            Gina Verlekar <gina.verlekar@kpitcummins.com>

        * configure.host: Compact v850* support and add
	check for newlib_may_supply_syscalls.
        * libc/sys/sysnecv850/Makefile.am: Add support for
        '--disable-newlib-supplied-syscalls' option.
        * libc/sys/sysnecv850/Makefile.in: Regenerated.

2010-07-20  Dave Korn  <dave.korn.cygwin@gmail.com>

	* libm/common/fdlibm.h (SAFE_LEFT_SHIFT): New macro definition.
	(SAFE_RIGHT_SHIFT): Likewise.
	* libm/common/s_llround.c (llround): Annotate shift operations with
	possible shift amount ranges, and use SAFE_RIGHT_SHIFT to avoid
	undefined behaviour.
	* libm/common/s_lround.c (lround): Likewise.

2010-07-19  Eric Blake  <eblake@redhat.com>

	* libc/stdio/mktemp.c (_gettemp): Add parameter, all callers
	changed.
	(mkostemp, _mkostemp_r, mkostemps, _mkostemps_r): New interfaces,
	for ELIX level 4.
	* libc/include/stdlib.h (mktemp): Avoid namespace issues.
	(mkostemp, mkostemps): Declare.

2010-07-13  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/signal.h (sighandler_t): Only define if _POSIX_SOURCE
	is undefined.

2010-07-06  Corinna Vinschen  <corinna@vinschen.de>

	* libc/posix/rewinddir.c (rewinddir): Remove incorrect cast to off_t.
	* libc/sys/rtems/sys/dirent.h (_seekdir): Add prototype.
	* libc/sys/linux/sys/dirent.h (_seekdir): Fix prototype to use long
	rather than off_t.

2010-07-01  Yaakov Selkowitz  <yselkowitz@users.sourceforge.net>

	* libc/include/signal.h (sighandler_t): Add typedef.

2010-06-29  Antony King  <antony.king@st.com>

	* libc/ctype/ctype_.c (__ctype_ptr): Reinstate definition (guarded by
	_NEED_OLD_CTYPE_PTR_DEFINITION) for backwards compatibility with newlib
	1.16.0 and earlier.

2010-06-28  Yaakov Selkowitz  <yselkowitz@users.sourceforge.net>

	* libc/include/sys/stat.h: Add ACCESSPERMS, ALLPERMS, and DEFFILEMODE.

2010-06-18  Pavel Pisa <ppisa4lists@pikron.com>

	* libc/include/machine/ieeefp.h[__arm__][!__VFP_FP__]: Set to
	__IEEE_BIG_ENDIAN and set __IEEE_BYTES_LITTLE_ENDIAN appropriately
	based on __ARMEL flag.
	* libc/include/machine/endian.h: To set byte order to LITTLE_ENDIAN,
	check for __IEEE_LITTLE_ENDIAN or __IEEE_BYTES_LITTLE_ENDIAN.

2010-06-09  Paul Brook  <paul@codesourcery.com>

	* libc/include/sys/reent.h (_reent): Adjust _REENT_SMALL to be
	binary compatible with normal layout.
	(_REENT_INIT): Adjust to match struct layout.

2010-06-08  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/wordexp.h: Add __cplusplus wrapper.

2010-06-08  Jeff Johnston  <jjohnstn@redhat.com>

	* configure.in: Add test for enable-newlib-register-fini
	to set the _WANT_REGISTER_FINI flag.
	* configure: Regenerated.
	* Makefile.in: Ditto.
	* newlib.hin: Add _WANT_REGISTER_FINI flag.
	* libc/stdlib/__call_atexit.c: Add test for
	_WANT_REGISTER_FINI to enable the register_fini function.

2010-06-04  Mark Mitchell  <mark@codesourcery.com>

	* libc/stdlib/__call_atexit.c (__libc_fini): Declare.
	(register_fini): New function.
	* libc/misc/init.c (_fini): Remove.
	(__libc_fini_array): Likewise.
	* libc/misc/fini.c: New file.
	* libc/misc/Makefile.am (LIB_SOURCES): Add fini.c.
	* libc/misc/Makefile.in: Regenerate.

2010-05-31  Kazu Hirata  <kazu@codesourcery.com>

	* libc/stdlib/mallocr.c (malloc_extend_top): Backport the
	difference between versions 2.6.4 and 2.6.5.

2010-05-18  Christopher Faylor  <me+cygwin@cgf.cx>

	* libc/string/strsignal.c (strsignal): Avoid duplicate case statement
	where SIGPWR == SIGLOST.

2010-05-11  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdlib/__call_atexit.c: Fix lock to be of type
	_LOCK_RECURSIVE_T as recursive usage is needed.

2010-05-11  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/locale/locale.c (loadlocale): Fix dangling
	switch statement caused by __HAVE_LOCALE_INFO__ not being
	defined.

2010-05-11  Joel Sherrill <joel.sherrill@oarcorp.com>

	* libc/string/strsignal.c: New file.
	* libc/string/Makefile.am: Add support for strsignal.
	* libc/string/strings.tex: Ditto.
	* libc/string/Makefile.in: Regenerated.

2010-05-05  DJ Delorie  <dj@redhat.com>

	* libc/Makefile.am (stmp-sigset, stmp-iconvset, stmp-extra,
	stmp-stdio64, stmp-posix,stmp-targetdep): Use unique temporary
	file names to allow for parallel installs.
	(CLEANFILES): Add new temporary file names.
	* libc/Makefile.in: Regenerate.

2010-05-03  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/lctype.c: Include <string.h> and "setlocale.h".
	(_C_ctype_locale): Add braces to initializer.
	(__ctype_load_locale): Fix compiler warnings in non-Cygwin case.
	* libc/locale/nl_langinfo.c (nl_langinfo): Expose _NL_CTYPE_MB_CUR_MAX
	case only if __HAVE_LOCALE_INFO__ is defined.

2010-05-02  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdlib/wctob.c (wctob): Reorganize and fix WEOF check.  Rename
	pwc to pmb and convert to array to avoid buffer overflow.  Rename c to
	wc.  Check wc for WEOF instead of for EOF.  Return first byte of pmb if
	__wctomb conversion returned exactly one byte, EOF otherwise.

2010-04-30  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/langinfo.h: Fix #endif positioning.

2010-04-28  Corinna Vinschen  <corinna@vinschen.de>

	Extend locale support to maintain wide char values of native strings
	if __HAVE_LOCALE_INFO_EXTENDED__ is defined.
	* libc/include/langinfo.h (enum __nl_item): New type.  Define all
	native values accessible through nl_langinfo.  Define previously
	existing POSIX-compatible values as macros as well.
	* libc/include/stdlib.h (__mb_cur_max): Drop declaration.
	(__locale_mb_cur_max): Declare.
	(MB_CUR_MAX): Re-define calling __locale_mb_cur_max.
	* libc/locale/Makefile.am (ELIX_SOURCES): Add lctype.c.
	* libc/locale/Makefile.in: Regenerate.
	* libc/locale/lctype.c: New file to define and load LC_CTYPE category.
	* libc/locale/lctype.h: New file, matching header.
	* libc/locale/lmessages.c (_C_messages_locale): Add default values for
	wide char members.
	(__messages_load_locale): Add _C_messages_locale in call to 
	__set_lc_messages_from_win.
	* libc/locale/lmessages.h (struct lc_messages_T): Add wide char members.
	* libc/locale/lmonetary.c (_C_monetary_locale):  Add default values for
	wide char members.
	(__monetary_load_locale): Add _C_monetary_locale in call to
	__set_lc_monetary_from_win.
	* libc/locale/lmonetary.h (struct lc_monetary_T): Add wide char members.
	Add numerical values for international currency formatting per
	POSIX-1.2008, if __HAVE_LOCALE_INFO_EXTENDED__ is defined.
	* libc/locale/lnumeric.c (_C_numeric_locale): Add default values for
	wide char members.
	(__numeric_load_locale): Add _C_numeric_locale in call to
	__set_lc_numeric_from_win.
	* libc/locale/lnumeric.h (struct lc_numeric_T): Add wide char members.
	* libc/locale/locale.c (loadlocale): Return doing nothing if category
	locale didn't change.  Convert category if chain to switch statement.
	Call __ctype_load_locale in LC_CTYPE case.
	(__locale_charset): Add (but disable for now) returning codeset from
	__get_current_ctype_locale.
	(__locale_mb_cur_max): Add (but disable for now) returning mb_cur_max
	from __get_current_ctype_locale.
	(__locale_msgcharset): Add returning codeset from
	__get_current_messages_locale.
	(_localeconv_r): Accommodate int_XXX values.
	* libc/locale/nl_langinfo.c (nl_ext): New array to define what is to
	be returned for non-POSIX values.
	(nl_Langinfo): Return correct codeset for each locale category.  Return
	extended values if __HAVE_LOCALE_INFO_EXTENDED__ is defined.
	* libc/locale/timelocal.c (_C_time_locale): Add default values for
	wide char members.
	(__time_load_locale): Add _C_time_locale in call to
	__set_lc_time_from_win.
	* libc/locale/timelocal.h (struct lc_time_T): Add wide char members.
	* libc/stdio/vfwprintf.c (_VFWPRINTF_R): Use wide char decimal point
	and thousands_sep if __HAVE_LOCALE_INFO_EXTENDED__ is defined.
	* libc/time/strftime.c: Rework to accommodate availability of wide char
	strings in LC_TIME category if __HAVE_LOCALE_INFO_EXTENDED__ is defined.

2010-04-22  DJ Delorie  <dj@redhat.com>

	* libc/Makefile.am (SUBDEFS): Add LIBC_POSIX_DEF.
	(libc.info): Add posix.texi.
	(libc.dvi): Likewise.
	(stmp-posix): New.
	(posix.texi): New.
	(libc_TEXINFOS): Add posix.texi.
	* libc/configure.in (LIBC_POSIX_LIB, LIBC_POSIX_DEF): Add
	tests.
	* libc/libc.texinfo: Include posix.texi
	* libc/locale/locale.c: Fix texinfo typo.
	* libc/time/strftime.c: Fix texinfo typo.

	* libc/configure: Regenerate.
	* libc/Makefile.in: Regenerate.
	* libc/argz/Makefile.in: Regenerate.
	* libc/ctype/Makefile.in: Regenerate.
	* libc/errno/Makefile.in: Regenerate.
	* libc/iconv/Makefile.in: Regenerate.
	* libc/iconv/ccs/Makefile.in: Regenerate.
	* libc/iconv/ccs/binary/Makefile.in: Regenerate.
	* libc/iconv/ces/Makefile.in: Regenerate.
	* libc/iconv/lib/Makefile.in: Regenerate.
	* libc/locale/Makefile.in: Regenerate.
	* libc/misc/Makefile.in: Regenerate.
	* libc/posix/Makefile.in: Regenerate.
	* libc/reent/Makefile.in: Regenerate.
	* libc/search/Makefile.in: Regenerate.
	* libc/signal/Makefile.in: Regenerate.
	* libc/stdio/Makefile.in: Regenerate.
	* libc/stdio64/Makefile.in: Regenerate.
	* libc/stdlib/Makefile.in: Regenerate.
	* libc/string/Makefile.in: Regenerate.
	* libc/syscalls/Makefile.in: Regenerate.
	* libc/time/Makefile.in: Regenerate.
	* libc/unix/Makefile.in: Regenerate.
	* libc/xdr/Makefile.in: Regenerate.

2010-04-06  Dave Korn  <dave.korn.cygwin@googlemail.com>

	* libc/stdlib/__atexit.c (__atexit_lock): Initialise as recursive
	rather than non-recursive lock type.
	(__register_exitproc): Use recursive locking APIs on it.
	* libc/stdlib/__call_atexit.c (__call_exitprocs): Likewise.

2010-04-06  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdlib/btowc.c (btowc): Reorganize EOF check.  Fix incorrect
	return value if input byte is ASCII NUL.

2010-04-01  Joel Sherrill <joel.sherrill@oarcorp.com>

	* libc/include/sched.h: Include prototypes for
	sched_* methods.
	* libc/include/sys/sched.h: Update to POSIX
	1003.1b-2008.  Rework constants to allow sharing
	between RTEMS and Cygwin.

2010-03-27  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/locale.c (loadlocale): Optimize "EUC" charset check.
	Cygwin only: Allow GB2312 and EUC-CN as alternative codeset names
	for GBK.  Add to documentation.
	* libc/locale/nl_langinfo.c (nl_langinfo): On Cygwin, translate EUCCN
	to GB2312.

2010-03-17  Craig Howland <howland@LGSInnovations.com>

	* libc/include/sys/features.h:  Allow for _XOPEN_SOURCE to have an
	empty definition.  Also add support for values of 500 or less.

2010-03-09  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/posix/telldir.c (dd_loccnt): Change start index to be 1 
	instead of 0.
	(_seekdir): A loc of 0 now means rewind dir.

2010-03-08  Craig Howland <howland@LGSInnovations.com>

	* libm/common/s_rint.c:  Fix error when integral part had 18 bits and
	fraction had bits set beyond first radix bit.  Also, make 2-part
	adjustment consistent with 1-part adjustment when adjusting fractional
	bits.
	* libm/common/sf_rint.c:  Make fractional-bit adjustment consistent
	with s_rint.c by setting 0b.01 instead of 0b.001.

2010-03-05  Craig Howland <howland@LGSInnovations.com>

	* libm/math/ef_sqrt.c: Delete unused variable sign.
	* libc/stdlib/getenv.c: Delete "char *_findenv_r ();", as is not a
	proper prototype, and is properly prototyped in stdlib.h, anyway.
	* libc/stdlib/getenv_r.c: Ditto.
	* libc/search/hash.c: Add _DEFUN to __hash_open() declaration; add
	#define __DBINTERFACE_PRIVATE to activate prototypes from db_local.h.
	* libc/search/db_local.h: Correct __hash_open() prototype.
	* libc/sys/linux/cmath/math_private.h:  Eliminate compiler warnings:
	Remove #define INFINITY (redefines from math.h); remove #define __isnanf
	and #define __isinff isinff.

2010-03-02  Craig Howland <howland@LGSInnovations.com>

	* libc/include/sys/features.h:  Add POSIX.1-permitted definition of
	_POSIX_C_SOURCE if not already defined and _XOPEN_SOURCE has an
	appropriate value.  Specifically, check for POSIX.1-2008 & 2001 values.
	* libc/include/sys/config.h:  Add #include <sys/features.h> so that all
	includes get the new check added to it.

2010-03-02  Charles Wilson  <cygwin@cwilson.fastmail.fm>

	* libc/xdr/README: Correct grammatical errors.
	* libc/include/rpc/types.h: Add public types used
	by RPC implementations.
	* libc/include/rpc/xdr.h: Add defines used by RPC
	implementations.
	* libc/xdr/Makefile.am: Eliminate automake warning.
	* libc/xdr/Makefile.in: Regenerate.

2010-03-02  Corinna Vinschen  <corinna@vinschen.de>

	* libc/xdr/Makefile.in: Regenerate.

2010-03-02  Charles Wilson  <cygwin@cwilson.fastmail.fm>

	Add eXtensible Data Record (XDR) support
	* configure.host: Build libc/xdr only on cygwin.
	* Makefile.am: Install xdr headers.
	* libc/configure.in: Support new libc/xdr subdirectory.
	* libc/Makefile.am: Support new libc/xdr subdirectory.
	* libc/include/rpc/types.h: New.
	* libc/include/rpc/xdr.h: New.
	* libc/xdr/README: New.
	* libc/xdr/Makefile.am: New.
	* libc/xdr/dummy.c: New.
	* libc/xdr/xdr.c: New.
	* libc/xdr/xdr_array.c: New.
	* libc/xdr/xdr_float.c: New.
	* libc/xdr/xdr_float_vax.c: New.
	* libc/xdr/xdr_mem.c: New.
	* libc/xdr/xdr_private.c: New.
	* libc/xdr/xdr_private.h: New.
	* libc/xdr/xdr_rec.c: New.
	* libc/xdr/xdr_reference.c: New.
	* libc/xdr/xdr_sizeof.c: New.
	* libc/xdr/xdr_stdio.c: New.

	Regenerate using ac-2.63 and am-1.11.1
	* libc/xdr/Makefile.in: New.
	* Makefile.in: Regenerate.
	* libc/configure: Regenerate.
	* libc/Makefile.in: Regenerate.
	* libc/argz/Makefile.in: Regenerate.
	* libc/ctype/Makefile.in: Regenerate.
	* libc/errno/Makefile.in: Regenerate.
	* libc/iconv/ccs/binary/Makefile.in: Regenerate.
	* libc/iconv/ccs/Makefile.in: Regenerate.
	* libc/iconv/ces/Makefile.in: Regenerate.
	* libc/iconv/lib/Makefile.in: Regenerate.
	* libc/iconv/Makefile.in: Regenerate.
	* libc/locale/Makefile.in: Regenerate.
	* libc/misc/Makefile.in: Regenerate.
	* libc/posix/Makefile.in: Regenerate.
	* libc/reent/Makefile.in: Regenerate.
	* libc/search/Makefile.in: Regenerate.
	* libc/signal/Makefile.in: Regenerate.
	* libc/stdio/Makefile.in: Regenerate.
	* libc/stdio64/Makefile.in: Regenerate.
	* libc/stdlib/Makefile.in: Regenerate.
	* libc/string/Makefile.in: Regenerate.
	* libc/syscalls/Makefile.in: Regenerate.
	* libc/time/Makefile.in: Regenerate.
	* libc/unix/Makefile.in: Regenerate.

2010-02-26  Craig Howland <howland@LGSInnovations.com>

	* libm/common/s_ilogb.c:  Fix typo in comments that causes doc
	generation to fail.

2010-02-26  Corinna Vinschen  <corinna@vinschen.de>

	* libc/time/strftime.c: Add support for era and alt_digits data from
	LC_TIME locale category.  Conditionalize using _WANT_C99_TIME_FORMATS
	flag.
	(STRTOUL): Define differently for building strftime or wcsftime.
	(STRCPY): Ditto.
	(STRCHR): Ditto.
	(STRLEN): Ditto.
	(CHECK_LENGTH): Define to simplify code.
	(era_info_t): New type to store era info.
	(get_era_info): New function to fetch era info matching incoming
	struct tm.
	(free_era_info): New function to free era info.
	(alt_digits_t): New type to store alternative digits.
	(get_alt_digits): New function to convert alt_digits string into
	alt_digits_t structure.
	(free_alt_digits): New function to free alt_digits info.
	(conv_to_alt_digits): New function to convert unsigned value into
	alternative digits.
	(strftime): Conditionalize on _WANT_C99_TIME_FORMATS.  If
	_WANT_C99_TIME_FORMATS is defined, define as just a wrapper function
	providing era_info and alt_digits pointers and call ...
	(__strftime): Rename from strftime and make static if
	_WANT_C99_TIME_FORMATS is defined.  Add parameters for era_info and
	alt_digits pointers.  Handle conversion modifiers according to
	POSIX-1.2008.  Redefine %F and %Y according to POSIX.  Add default case
	to allow to bail out on invalid conversion specifiers.
	* libc/include/sys/config.h: Move Cygwin build flags to Cygwin's
	config.h.

	* libc/include/stdio.h: Remove __CYGWIN_USE_BIG_TYPES__ condition.

2010-02-25  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/locale.c (loadlocale): Fix typo in comment.

2010-02-25  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/locale.c: Throughout, extensively comment on the
	reason for using __CYGWIN__.
	(lconv): Remove _CONST entirely.
	(loadlocale): Guard calls to function loading locale-specific
	category data with __HAVE_LOCALE_INFO__ rather than __CYGWIN__.
	* libc/sys/config.h (__HAVE_LOCALE_INFO__): Define for Cygwin.

2010-02-24  Charles Wilson  <...>

        Work around issues with new libtool files in ..
	* configure.in: Unconditionally call _LT_PROG_ECHO_BACKSLASH.
	* iconvdata/configure.in: Ditto.
	* libc/configure.in: Ditto.
	* libc/machine/configure.in: Ditto.
	* libc/machine/i386/configure.in: Ditto.
	* libc/sys/configure.in: Ditto.
	* libc/sys/linux/configure.in: Ditto.
	* libc/sys/linux/linuxthreads/configure.in: Ditto.
	* libc/sys/linux/linuxthreads/machine/configure.in: Ditto.
	* libc/sys/linux/linuxthreads/machine/i386/configure.in: Ditto.
	* libc/sys/linux/machine/configure.in: Ditto.
	* libc/sys/linux/machine/i386/configure.in: Ditto.
	* libm/configure.in: Ditto.
	* libm/machine/configure.in: Ditto.
	* libm/machine/i386/configure.in: Ditto.
	* libc/machine/sh/configure.in: Ditto.  Also, call
	AC_NO_EXECUTABLES before NEWLIB_CONFIGURE.
        * aclocal.m4: Regenerated.
        * configure: Ditto.
	* Makefile.in: Ditto.
        * doc/aclocal.m4: Ditto.
	* doc/Makefile.in: Ditto.
        * libc/*/aclocal.m4: Ditto.
        * libc/*/Makefile.in: Ditto.
        * libc/*/configure: Ditto.
        * libm/*/aclocal.m4: Ditto.
	* libm/*/Makefile.in: Ditto.
        * libm/*/configure: Ditto.

2010-02-24  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdlib/__call_exit.c: Add include of sys/lock.h.

2010-02-23  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/types.h: Fix __XMK__ sectioning and remove
	redundant code section for __XMK__.

2010-02-22  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/langinfo.h (_NL_TIME_DATE_FMT): Define new nl_item
	value for LC_TIME entry date_fmt.
	(_DATE_FMT): Define "official" GNU name same as _NL_TIME_DATE_FMT.
	* libc/locale/nl_langinfo.c (nl_langinfo): Add case for _DATE_FMT.

2010-02-18  Corinna Vinschen  <corinna@vinschen.de>

	* libc/ctype/iswalpha.c (iswalpha): Update to Unicode 5.2.
	* libc/ctype/iswprint.c (iswprint): Ditto.
	* libc/ctype/iswpunct.c (iswpunct): Drop standalone implementation.
	Define in terms of other wctype functions instead.
	* libc/ctype/towlower.c (towlower): Update to Unicode 5.2.  Add comment
	to explain how to fetch the data from the Unicode database.
	* libc/ctype/towupper.c (towupper): Ditto.
	* libc/ctype/utf8alpha.h: Ditto.
	* libc/ctype/utf8print.h: Ditto.
	* libc/ctype/utf8punct.h: Remove.
	* libc/ctype/iswcntrl.c (iswcntrl): Add comment to explain how to
	fetch the data from the Unicode database.

2010-02-18  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/timelocal.h (struct lc_time_T): Add missing ERA-related
	members.
	* libc/locale/timelocal.c (_C_time_local): Set new members to empty
	strings.
	* libc/locale/nl_langinfo.c (nl_langinfo): Return values from
	__get_current_time_locale() for ERA related requests.

2010-02-16  Corinna Vinschen  <corinna@vinschen.de>

	* libc/ctype/iswblank.c (iswblank): Remove Unicode characters
	U+00A0 and U+200B.  Add Unicode character U+180E.  Add comment
	to explain how to generate from Unicode data file.
	* libc/ctype/iswspace.c (iswspace): Ditto.

2010-02-15  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdio/vfwprintf.c (_VFWPRINTF_R): Apply previous patch here
	as well.

2010-02-15  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdio/vfprintf.c (_VFPRINTF_R): Drop printing a redundant
	decimal point in case the float argument is an integral value.

2010-02-11  Craig Howland <howland@LGSInnovations.com>
       
	* libc/include/machine/ieeefp.h:  isfinite macro modified to run faster
	by only calling fpclassify once instead of possibly twice.

2010-02-11  Craig Howland <howland@LGSInnovations.com>

	* libm/common/s_ilogb.c:  Adjust documentation to reflect new returns
	(see next items) and that ilogb() and ilogbf() are C99/POSIX.
	* libm/common/s_ilogb.c (ilogb):  Use C99/POSIX FP_ILOGB0 and
	FP_ILOGBNAN returns for 0 and NAN arguments, respectively, instead of
	the prior -INT_MAX and INT_MAX.  The FP_ILOGBx defines in math.h
	presently match the prior hard-codes, so no functional change is
	actually introduced.  (Not at this time, nor planned, but the values
	are permitted to be different, so subsequent edits of math.h could
	possibly cause a functional change.)
	* libm/common/sf_ilogb.c (ilogbf):  Ditto.

2010-02-09  Daniel Gutson  <dgutson@codesourcery.com>

	* libc/machine/arm/arm_asm.h (_ISA_THUMB_2): __ARM_ARCH_7EM__
	added to the preprocessor condition.

2010-02-09  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/lmessages.c (__messages_load_locale): Take additional
	parameters for wide char to multibyte conversion.  Call
	__set_lc_messages_from_win on Cygwin.
	* libc/locale/lmessages.h: Make C++-safe.
	(__messages_load_locale): Change declaration.
	* libc/locale/lmonetary.c (__monetary_load_locale): Use
	_monetary_locale_buf as buffer pointer.
	* libc/locale/lnumeric.c (__numeric_load_locale): Use
	_numeric_locale_buf as buffer pointer.
	* libc/locale/timelocal.c (__time_load_locale): Use time_locale_buf
	as buffer pointer.
	* libc/locale/locale.c (loadlocale): Enable loading LC_MESSAGES data
	on Cygwin.

2010-02-08  Josef Wolf  <jw@raven.inka.de>

	* libc/machine/m68k/memcpy.S: MISALIGEND_OK should not be set for
	__mcpu32__.

2010-02-07  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/locale.c: Add Cygwin's /usr/share/locale/locale.alias
	support to documentation.
	(__set_locale_from_locale_alias): Declare when build for Cygwin.
	(loadlocale): On Cygwin, if locale can't be recognized, call
	__set_locale_from_locale_alias to check for locale alias.
	Define FAIL macro to replace `return NULL' statements.  Replace
	throughout.

2010-02-07  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/locale.c: Fix typo in documentation.  Remove useless
	_MB_CAPABLE guards within other _MB_CAPABLE guards.  Add comment
	to remaining #endif's.

2010-02-06  Corinna Vinschen  <corinna@vinschen.de>

	* libc/ctype/ctype_cp.h (_CTYPE_GEORGIAN_PS_128_254): Define.
	(_CTYPE_GEORGIAN_PS_255): Define.
	(_CTYPE_PT154_128_254): Define.
	(_CTYPE_PT154_255): Define.
	(__ctype_cp): Add array members for above ctype definitions.
	* libc/locale/locale.c (loadlocale): Make TIS-620 charset name
	available for all targets.  Add guards for setting the conversion
	function pointers.  Add support for GEORGIAN-PS and PT154 charsets.
	Change documentation to reflect current behaviour more closely.
	* libc/locale/nl_langinfo.c (nl_langinfo): On Cygwin, translate
	"CP101" to "GEORGIAN-PS" and "CP102" to "PT154".
	* libc/stdlib/sb_charsets.c (__cp_conv): Add conversion arrays
	for GEORGIAN-PS and PT154.
	(__cp_index): Map invalid Windows codepage number 101 to
	GEORGIAN-PS conversion array, 102 to PT154 conversion array.

2010-02-06  Ralf Corsepius  <ralf.corsepius@rtems.org>

	* libc/posix/telldir.c: Remove bogus nested prototype of lseek().

2010-02-05  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/locale.c (loadlocale): Handle ISO-8859 and KOI8 charsets
	so that the dashes are optional.  Align documentation.

2010-02-05  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdio/vfprintf.c: Include locale.h also if _WANT_IO_C99_FORMATS
	is defined.  Raise conversion buffer size to make sure it has enough
	room for numbers plus grouping character.  Define GROUPING flag.
	(_VFPRINTF_R): Add PRINTANDPAD macro.  Handle grouping flag character.
	Handle grouping for decimal integer and float values.
	* libc/stdio/vfwprintf.c: Ditto.

2010-02-01  Christopher Faylor  <me+cygwin@cgf.cx>

	* libc/stdlib/__atexit.c (__atexit_lock): Define a global lock for
	atexit functions.
	(__register_exitproc): Use __atexit_lock rather than a local static
	lock.
	* libc/stdlib/__call_atexit.c: Ditto.

2010-01-29  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/search/Makefile.am: Create .def files for bsearch and qsort.
	* libc/search/Makefile.in: Regenerated.
	* libc/stdlib/stdlib.tex: Add bsearch and qsort.

2010-01-24  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/nl_langinfo.c (nl_langinfo): Return "CP932" when using
	SJIS on Cygwin.  Explain why.

2010-01-23  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/locale.c (loadlocale): Allow CP932 as alias for SJIS.
	Add to documentation.  Add a few comments to #endif's for Cygwin.  

2010-01-23  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/locale.c (loadlocale): Disable JIS entirely on Cygwin.
	Allow TIS620 and TIS-620 as aliases for CP874 on Cygwin.

2010-01-22  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/lmonetary.c (__monetary_load_locale): Take additional
	parameters for wide char to multibyte conversion.  Call
	__set_lc_monetary_from_win on Cygwin.
	* libc/locale/lmonetary.h: Make C++-safe.
	(__monetary_load_locale): Change declaration.
	* libc/locale/lnumeric.c (__numeric_load_locale): Take additional
	parameters for wide char to multibyte conversion.  Call
	__set_lc_numeric_from_win on Cygwin.
	* libc/locale/lnumeric.h: Make C++-safe.
	(__numeric_load_locale): Change declaration.
	* libc/locale/locale.c (lconv): De-constify for Cygwin.
	(__set_charset_from_locale): Rename from
	__set_charset_from_codepage.  Take locale as parameter instead of
	a codepage.
	(loadlocale): Allow "EUC-JP" for "EUCJP" and "EUC-KR" for "EUCKR".
	Change documnetation accordingly.  Enable LC_COLLATE, LC_MONETARY,
	LC_NUMERIC, and LC_TIME handling on Cygwin.
	(_localeconv_r): On Cygwin, copy values from monetary and numeric
	domain if change has been noted.
	* libc/locale/nl_langinfo.c (nl_langinfo): Accommodate change of
	am/pm layout in struct lc_time_T.
	* libc/locale/timelocal.c (_C_time_locale): Accommodate
	redefinition of am/pm members.
	(__time_load_locale): Take additional parameters for wide char
	to multibyte conversion.  Call __set_lc_time_from_win on Cygwin.
	* libc/locale/timelocal.h: Make C++-safe.
	(struct lc_time_T): Convert am and pm to a am_pm array for easier
	consumption by strftime and strptime.
	(__time_load_locale): Change declaration.
	* libc/time/strftime.c: Change documentation to reflect changes to
	strftime.  Remove locale constant strings in favor of access to
	locale-specifc data.
	(_ctloc): Define access method for locale-specifc data.
	(TOLOWER): Define for tolower conversion.
	(strftime): Throughout, convert locale-specific formats to use
	locale-specific data.  Add GNU-specific "%P" format.
	* libc/time/strptime.c: Remove locale constant strings in favor of
	access to locale-specifc data.
	(_ctloc): Define access method for locale-specifc data.
	(strptime): Throughout, convert locale-specific formats to use
	locale-specific data.

2010-01-20  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/nl_langinfo.c (nl_langinfo): On Cygwin, translate
	often-used charsets into Linux compatible codesets.

2010-01-19  Andy Koppe  <andy.koppe@gmail.com>

	* libc/stdio/vfscanf.c (__SVFSCANF_R): Fix handling of non-ASCII
	characters and allow invalid bytes in format string.

2010-01-19  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdlib/wcstombs_r.c (_wcstombs_r): Handle invalid characters
	correctly also in the s==NULL case.

2010-01-17  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/locale.c (loadlocale): Change comments to refer to
	ISO 639-3 rather than 639-2.

2010-01-17  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/locale.c (loadlocale): Allow three character
	language codes to accommodate ISO 639-2 codes.

2010-01-17  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/locale.c (lc_ctype_charset): Disable defaulting to
	"UTF-8" on Cygwin.
	(lc_message_charset): Ditto.
	(loadlocale): Disable setting charset of the "C" locale to "UTF-8" on
	Cygwin.
	* libc/stdlib/mbtowc_r.c (__mbtowc): Add Cygwin-specific comment.
	* libc/stdlib/wctomb_r.c (__wctomb): Ditto.

2010-01-14  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/_default_fcntl.h (O_CLOEXEC): Define as _FNOINHERIT.
	(F_DUPFD_CLOEXEC): Define for Cygwin.
	* libc/include/sys/unistd.h (dup3): Define for Cygwin.
	(pipe2): Ditto.

2010-01-14  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdio/vfprintf.c (_VFPRINTF_R): Just wave bytes invalid in
	the current charset through.

2010-01-11  Sebastian Huber  <sebastian.huber@embedded-brains.de>

	* libc/posix/telldir.c (_cleanupdir): Fixed usage of freed memory.

2010-01-11  Yaakov Selkowitz  <yselkowitz@users.sourceforge.net>

	* libc/include/math.h (log2, log2f): Disable macro versions for C++,
	as they are incompatible with OpenMP/C++ headers.

2010-01-10  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdlib/mbtowc_r.c (__ascii_mbtowc): Disallow conversion of
	non-ASCII chars on Cygwin.
	* libc/stdlib/wctomb_r.c (__ascii_wctomb): Ditto.

2009-12-22  Eric Blake  <ebb9@byu.net>

	* libc/include/sys/unistd.h (suboptarg, getsubopt): Move...
	* libc/include/stdlib.h: ...here, to match POSIX for getsubopt.

2009-12-17  Jeff Johnston  <jjohnstn@redhat.com>

	* NEWS: Update with 1.18.0 info.
	* README: Ditto.
	* acinclude.m4: Change version number to 1.18.0.
	* aclocal.m4: Regenerated.
	* configure: Ditto.
	* doc/aclocal.m4: Ditto.
	* doc/configure: Ditto.
	* libc/*/aclocal.m4: Ditto.
	* libc/*/configure: Ditto.
	* libc/libc.texinfo: Ditto.
	* libm/*/aclocal.m4: Ditto.
	* libm/*/configure: Ditto.
	* libm/libm.texinfo: Ditto.
	* libc/sys/linux/shared.ld: Add VERS_1.18

2009-12-17  Jeff Johnston <jjohnstn@redhat.com>

	* libc/include/_syslist.h: Add _mkdir transform.

2009-12-17  Jerker Back  <jerker.back@gmail.com>

	* libc/iconv/lib/local.h[!__GNUC__]: Add alternative version of
	ICONV_ZERO_MB_STATE_T macro.
	* libc/iconv/lib/ucsconv.c (ucs_based_conversion_get_state): Use
	temporary local variable nullstate to hold empty mbstate_t.

2009-12-17  Jerker Back  <jerker.back@gmail.com>

	* libc/include/_ansi.h: Add new _EXFNPTR macro for using with
	function pointer arguments.
	* libc/iconv/lib/conv.h: Use _EXFNPTR rather than _EXPARM macro.
	* libc/iconv/lib/ucsconv.h: Ditto.
	* libc/include/stdlib.h: Use new _EXFNPTR macro for function pointers.
	* libc/include/sys/reent.h: Ditto.
	* libc/include/sys/unistd.h: Ditto.
	* libc/search/bsearch.c: Ditto.
	* libc/stdio/fseek.c: Ditto.
	* libc/stdio64/fseeko64.c: Ditto.
	* libc/stdlib/atexit.c: Ditto.
	* libc/stdlib/on_exit.c: Ditto.

2009-12-17  Ralf Corspius <ralf.corsepius@rtems.org>

	* libc/include/machine/ieeefp.h: Rework __IEEE_*_ENDIAN handling.
	* libc/machine/arm/machine/endian.h: Remove (Conflicts with
	libc/include/machine/endian.h)

2009-12-17  Ralf Corspius <ralf.corsepius@rtems.org>

	* libc/include/machine/setjmp.h: Set up _JBLEN #ifdef __m68k__.

2009-12-17  Ralf Corsepius <ralf.corsepius@rtems.org>

	* libc/include/pthread.h: Add pthread_atfork, pthread_rwlock_unlock
	* libc/include/sys/stat.h: Use struct timespec st_*tim,
	blksize_t st_blksize, blkcnt_t st_blocks.
	Add st_*time compatibility macros.

2009-12-16  Joel Sherrill <joel.sherrill@oarcorp.com>

	* libc/sys/rtems/machine/param.h: Only use sizeof(double) -1
	for ALIGNBYTES on SPARC.

2009-12-16  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/errno.h: Move EHOSTDOWN, EPFNOSUPPORT,
	and ETOOMANYREFS into general list as they are referenced
	by OpenGroup and needed by RTEMS.

2009-12-16  Ralf Corspius <ralf.corsepius@rtems.org>

	* libc/search/hcreate.c: Don't include <sys/queue.h> (Unused).

2009-12-16  Ralf Corspius <ralf.corsepius@rtems.org>

	* libc/sys/rtems/machine/_types.h: New (Derived from
	machine/_default_types.h).
	* libc/sys/rtems/crt0.c: Rework. Introduce macro RTEMS_STUB.
	* libc/sys/rtems/sys/param.h:
	Update copyright notice from FreeBSD.
	Remove HZ.
	Add #include <sys/priority.h>
	Remove priority handling (moved to sys/priority.h).
	Remove CLBYTES (Unused, abandoned in BSD).
	* libc/sys/rtems/sys/queue.h: Update copyright (from FreeBSD).
	Remove CIRCLEQ_*.

2009-12-15  Conny Marco Menebrocker  <c-m-m@gmx.de>

	* libc/machine/xc16x/Makefile.am: Fix typo and refer
	to puts.c instead of putc.c.
	* libc/machine/xc16x/Makefile.in: Regenerated.

2009-12-14  Maxim Kuvyrkov <maxim@codesourcery.com>

	* libc/machine/m68k/memcpy.S: Patch to support
	boards which do not support unaligned read/write.

2009-12-10  Conny Marco Menebrocker  <c-m-m@gmx.de>

	* configure.host: Add xc16x support.
	* libc/include/machine/ieeefp.h: Ditto.
	* libc/include/sys/config.h: Ditto.
	* libc/machine/configure.in: Ditto.
	* libc/machine/Makefile.in: Regenerated.
	* libc/machine/aclocal.m4: Ditto.
	* libc/machine/configure: Ditto.
	* libc/machine/xc16x/Makefile.am: New file.
	* libc/machine/xc16x/Makefile.in: Ditto.
	* libc/machine/xc16x/aclocal.m4: Ditto.
	* libc/machine/xc16x/configure: Ditto.
	* libc/machine/xc16x/configure.in: Ditto.
	* libc/machine/xc16x/putchar.c: Ditto.
	* libc/machine/xc16x/puts.c: Ditto.
	* libc/machine/xc16x/setjmp.S: Ditto.

2009-12-08  Eric Blake  <ebb9@byu.net>

	Fix some *at declarations.
	* libc/include/stdio.h (symlinkat): Move this...
	* libc/include/sys/_default_fcntl.h (unlinkat): ...and this...
	* libc/include/sys/unistd.h (symlinkat, unlinkat): ...here, to
	match POSIX.

2009-12-03  Craig Howland <howland@LGSInnovations.com>

	* libc/stdlib/strtod.c:  Correct "NO_REENT" to "_REENT_ONLY".
	* libc/stdlib/wcstod.c:  Ditto.
	* libc/stdlib/dtoastub.c:  Ditto.

2009-11-23  Corinna Vinschen  <corinna@vinschen.de>

	Use NetBSD fix for CVE-2009-0689 security vulnerability.
	* libc/include/sys/reent.h (_Kmax): Define here based on the sizeof
	size_t, as in latest NetBSD.
	* libc/reent/reent.c (_reclaim_reent): Use _Kmax rather than constant
	value 15.
	* libc/stdlib/mprec.c (_Kmax): Don't define here.  Explain why.

2009-11-20  Nick Clifton  <nickc@redhat.com>

	* libc/machine/rx/strncat.S (_strncat): Replace use of r6
	(call-saved) with r14 (call-used).

2009-11-18  Dave Korn  <dave.korn.cygwin@googlemail.com>

	* libm/machine/i386/f_tan.S (_f_tan): Free fp stack register
	containing useless constant before advancing fp sp over it.
	(_f_tanf): Likewise.

2009-11-18  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdio/vfprintf.c: Include ../stdlib/local.h.  Replace call to
	_mbtowc_r with direct call to __mbtowc.
	* libc/stdio/vfscanf.c: Ditto.
	* libc/stdlib/btowc.c: Include local.h.  Replace call to _mbtowc_r
	with direct call to __mbtowc.
	* libc/stdlib/mblen.c: Ditto.
	* libc/stdlib/mblen_r.c: Ditto.
	* libc/stdlib/mbrtowc.c: Ditto.
	* libc/stdlib/mbstowcs_r.c: Ditto.
	* libc/stdlib/mbtowc.c: Ditto.
	* libc/stdlib/wcrtomb.c: Include local.h.  Replace call to _wctomb_r
	with direct call to __wctomb.
	* libc/stdlib/wcsnrtombs.c: Ditto.
	(_wcsnrtombs_r): Ditto.
	* libc/stdlib/wcstombs_r.c: Ditto.
	* libc/stdlib/wctob.c: Ditto.
	* libc/stdlib/wctomb.c: Ditto.

	* libc/stdlib/mbrtowc.c (mbrtowc): Implement independently from
	_mbrtowc_r, unless PREFER_SIZE_OVER_SPEED or __OPTIMIZE_SIZE__ are
	defined.
	* libc/stdlib/wcrtomb.c (wcrtomb): Implement independently from
	_wcrtomb_r, unless PREFER_SIZE_OVER_SPEED or __OPTIMIZE_SIZE__ are
	defined.

	* libc/stdlib/mbtowc_r.c (__utf8_mbtowc): Drop unnecessary test for
	ch >= 0.

2009-11-17  Yaakov Selkowitz  <yselkowitz@users.sourceforge.net>

	* libm/common/fdlibm.h (logb, logbf): Move decls from here...
	* libc/include/math.h (logb, logbf): ...to here.

2009-11-06  Jon Turney  <jon.turney@dronecode.org.uk>

	* libc/include/ctype.h (__ctype_lookup): Fix precedence.

2009-10-30  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdio/fflush.c (_fflush_r): Store old errno to check for
	low-level seek error condition.  Restore old errno in case of
	success.  Don't use new position after seek as error condition,
	rather check for return value of -1 and errno.  Handle EINVAL
	just like ESPIPE.  Only set fp->_offset if errno is 0.

2009-10-27  Nick Clifton  <nickc@redhat.com>

	* MAINTAINERS (ARM): Add myself as an ARM maintainer.

2009-10-26  DJ Delorie  <dj@redhat.com>

	* configure.host: Add support for RX architecture.
	* libc/include/machine/ieeefp.h: Likewise.
	* libc/include/machine/setjmp.h: Likewise.
	* libc/include/machine/configure.in: Likewise.
	* libc/include/machine/configure: Regenerate.
	* libc/machine/rx: New directory.
	* libc/machine/rx/*: New files to support RX architecture.

2009-10-24  Eric Blake  <ebb9@byu.net>

	* libc/include/ctype.h (__ctype_lookup): New macro.
	(isalpha, isupper, islower, isdigit, isxdigit, isspace, ispunct)
	(isalnum, isprint, isgraph, iscntrl, isblank): Use it to fix bug
	on 64-bit machines.

2009-10-20  Jeff Johnston  <jjohnstn@redhat.com>

	* configure.host: Don't set -O2 flag in newlib_cflags.  Leave
	that to CFLAGS.
	* acinclude.m4: Don't reset CFLAGS before calling _AC_PROG_CC_G
	as it sets the same flags as we are using.
	* aclocal.m4: Regenerated.
	* configure: Ditto.
	* Makefile.in: Ditto.
	* iconvdata/aclocal.m4: Ditto.
	* iconvdata/configure: Ditto.
	* iconvdata/Makefile.in: Ditto.
	* doc/aclocal.m4: Ditto.
	* doc/configure: Ditto.
	* doc/Makefile.in: Ditto.
	* libc/aclocal.m4: Ditto.
	* libc/configure: Ditto.
	* libc/Makefile.in: Ditto.
	* libc/*Makefile.in: Ditto.
	* libc/*aclocal.m4: Ditto.
	* libc/*configure: Ditto.
	* libm/*Makefile.in: Ditto.
	* libm/*aclocal.m4: Ditto.
	* libm/*configure: Ditto.

2009-10-16  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/config.h[__CYGWIN__]: Set __USE_XOPEN2K flag
	if not __STRICT_ANSI__ or stdc version C99 or greater.
	* libc/include/stdio.h[__STRICT_ANSI__]: Add __USE_XOPEN2K check
	for fseeko and ftello prototypes.

2009-10-15  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/wchar.h (struct tm0: Declare as incomplete type.

2009-10-15  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/nl_langinfo.c (nl_langinfo): Add Cygwin-specific temporary
	exception for KOI8 charsets.

2009-10-13  Eric Blake  <ebb9@byu.net>

	* libc/include/sys/unistd.h: Add _PC*, _CS*, and _SC* constants
	new to POSIX 2008.

2009-10-13  Yaakov Selkowitz  <yselkowitz@users.sourceforge.net>

	* libc/include/sys/signal.h: Include <sys/types.h> always.
	[__CYGWIN__, __rtems__]: Define kill first argument as pid_t per
	standards.

2009-10-09  Dave Korn  <dave.korn@artimi.com>

	* libc/include/sys/time.h (_TIMEVAL_DEFINED): Define when
	defining struct timeval.

2009-10-09  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/locale.c (DEFAULT_LOCALE): New define.
	(__default_locale): New global variable set to the default locale.
	(__get_locale_env): Return __default_locale rather than fixed "C".

2009-10-08  Jeff Johnston  <jjohnstn@redhat.com>

	* configure.host: For RTEMS, define HAVE_ASSERT_FUNC.
	* libc/stdlib/assert.c (_assert_func): Do not specify
	__assert_func if HAVE_ASSERT_FUNC flag is set.

2009-10-08  Eric Blake  <ebb9@byu.net>

	* libc/include/getopt.h (__getopt_r, __getopt_long_r)
	(__getopt_long_only_r): Protect declarations, to avoid compiler
	warning.

2009-10-07  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/nl_langinfo.c (nl_langinfo): Just return current locale
	charset on Cygwin.

2009-10-03  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdlib/mbtowc_r.c (__utf8_mbtowc): Allow CESU-8 surrogate
	value encoding.
	* libc/stdlib/wctomb_r.c (__utf8_mbtowc): Allow CESU-8 surrogate
	value decoding.

2009-09-29  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/locale.c (loadlocale): Allow "C." same as "C-" as locale
	prefix.  Add some words to documentation.

2009-09-29  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdlib/sb_charsets.c: Throughout, translate undefined
	characters to their corresponding Windows Unicode value.

2009-09-28  Michael Eager <eager@eagercon.com>

	* configure.host: Add microblaze.
	* libc/include/machine/ieeefp.h [MICROBLAZE]: Define __IEEE_BIG_ENDIAN.
	* libc/include/machine/setjmp.h [MICROBLAZE]: Define _JBLEN, _JBTYPE.
	* libc/include/sys/config.h [MICROBLAZE]: Define _REENT_SMALL,
	_UNIX98_THREAD_MUTEX_ATTRIBUTES.
	* libc/include/sys/types.h: Treat XMK like rtems, define
	PTHREAD_MUTEX_NORMAL, PTHREAD_MUTEX_ERRORCHECK, PTHREAD_MUTEX_RECURSIVE,
	PTHREAD_MUTEX_DEFAULT, PTHREAD_STACK_MIN, define stuct pthread_attr_s.
	* libc/machine/configure.in: Add microblaze.
	* libc/machine/configure: Add microblaze (not regenerated).
	* libc/machine/microblaze/configure.in: NEW.
	* libc/machine/microblaze/configure: Generate.
	* libc/machine/microblaze/Makefile.am: NEW.
	* libc/machine/microblaze/Makefile.in: Generate.
	* libc/machine/microblaze/{abort.c, strcmp.c, strcpy.c, strlen.c,
	mallocr.c, longjmp.S, setjmp.S}: NEW.
	* libc/stdlib/mallocr.c [MICROBLAZE]: Don't declare sbrk prototype,
	mALLOc(): return malloc value.

2009-09-27  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/locale.c (lc_ctype_charset): Set to "UTF-8" on Cygwin.
	(lc_message_charset): Ditto.
	(loadlocale): Set charset of the "C" locale to "UTF-8" on Cygwin.
	* libc/stdlib/mbtowc_r.c (__mbtowc): Default to __utf8_mbtowc on
	Cygwin.
	* libc/stdlib/wctomb_r.c (__wctomb): Default to __utf8_wctomb on
	Cygwin.

2009-09-26  Eric Blake  <ebb9@byu.net>

	* libc/include/sys/unistd.h (execvpe, fexecve) [__CYGWIN__]:
	Add declarations.

2009-09-24  Eric Blake  <ebb9@byu.net>

	* libc/include/sys/unistd.h (eaccess, euidaccess) [__CYGWIN__]:
	Add declarations.

2009-09-23  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/locale.c: Drop Cygwin-specific windows.h include.
	(loadlocale): Call __set_charset_from_codepage with 0 codepage.

2009-09-22  Ralf Corspius <ralf.corsepius@rtems.org>

	* libc/include/stdlib.h: Add posix_memalign.

2009-09-22  Ralf Corspius <ralf.corsepius@rtems.org>

	* configure.host (*-rtems*): Remove -DMISSING_SYSCALL_NAMES.
	Add -DHAVE_BLKSIZE, -D_NO_WORDEXP -D_NO_POPEN.

2009-09-22  Ralf Corspius <ralf.corsepius@rtems.org>

	* configure.host (m32c): Move setting -DABORT_PROVIDED to second
	"case $host".

2009-09-18  Christopher Faylor  <me+cygwin@cgf.cx>

	* libc/include/sys/unistd.h: Declare getpagesize as returning
	POSIX-mandated int.
	* libc/sys/linux/sys/unistd.h: Ditto.

2009-08-31  Takaki Makino  <t@snowelm.com>

	* libm/machine/i386/f_pow.c(_f_pow): Alter ASM so it works with
	newer gcc versions.
	* libm/maachine/i386/f_powf.c(_f_powf): Ditto.

2009-08-25  Andy Koppe  <andy.koppe@gmail.com>

	* libc/stdlib/sb_charsets.c (__micro_atoi): Allow five-digit codepage
	numbers.
	* libc/locale/locale.c (loadlocale): Set MB_CUR_MAX to 1 for KOI8
	charsets.
	* libc/stdlib/local.h (__cp_conv): Remove incorrect number of codepages.

2009-08-24  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/locale.c: Update documentation.
	(loadlocale): Map "KOI8-R" and "KOI8-U" to CP20866 and CP21866.

2009-08-24  Andy Koppe  <andy.koppe@gmail.com>

	* libc/stdlib/sb_charsets.c (__cp_conv): Add KOI8-R (Russian, CP20866)
	and KOI8-U (Ukrainian, CP21866) to Windows codepage conversion tables.
	* libc/ctype/ctype_cp.h (__ctype_cp): Likewise for ctype tables.

2009-08-24  Andy Koppe  <andy.koppe@gmail.com>

	* libc/ctype/iswspace.c (iswspace): Include "non-breaking
	space" (U+00A0).
	* libc/ctype/iswblank.c (iswblank): Likewise.

2009-08-21  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/locale.c (loadlocale): Throughout check charset string
	case insensitive and store internal charset string uppercased.  Allow
	"UTF8" additionally to "UTF-8".  Add this change to documentation.

2009-08-21  Eric Blake  <ebb9@byu.net>

	* libc/include/iconv.h (iconv): Match POSIX prototype.
	* libc/iconv/lib/iconv.c (iconv): Likewise.

2009-08-21  Craig Howland <howland@LGSInnovations.com>

	* libm/common/s_remquo.c (remquo):  Fix sign of quotient when |x|==|y|.
	* libc/stdio/mktemp.c:  Add #include <stdlib.h> for function prototypes.

2009-08-19  Ralf Wildenhues  <Ralf.Wildenhues@gmx.de>

	* iconvdata/Makefile.am (all): Remove.
	* libc/sys/a29khif/Makefile.am (all-am): Rename from ...
	(all): ... this.
	* libc/sys/arc/Makefile.am: Likewise.
	* libc/sys/arm/Makefile.am: Likewise.
	* libc/sys/d10v/Makefile.am: Likewise.
	* libc/sys/decstation/Makefile.am: Likewise.
	* libc/sys/h8300hms/Makefile.am: Likewise.
	* libc/sys/h8500hms/Makefile.am: Likewise.
	* libc/sys/linux/Makefile.am: Likewise.
	* libc/sys/linux/machine/i386/Makefile.am: Likewise.
	* libc/sys/m88kbug/Makefile.am: Likewise.
	* libc/sys/mmixware/Makefile.am: Likewise.
	* libc/sys/netware/Makefile.am: Likewise.
	* libc/sys/rdos/Makefile.am: Likewise.
	* libc/sys/rtems/Makefile.am: Likewise.
	* libc/sys/sh/Makefile.am: Likewise.
	* libc/sys/sparc64/Makefile.am: Likewise.
	* libc/sys/sun4/Makefile.am: Likewise.
	* libc/sys/sysmec/Makefile.am: Likewise.
	* libc/sys/sysnec810/Makefile.am: Likewise.
	* libc/sys/sysnecv850/Makefile.am: Likewise.
	* libc/sys/sysvi386/Makefile.am: Likewise.
	* libc/sys/sysvnecv70/Makefile.am: Likewise.
	* libc/sys/tic80/Makefile.am: Likewise.
	* libc/sys/w65/Makefile.am: Likewise.
	* libc/sys/z8ksim/Makefile.am: Likewise.
	* iconvdata/Makefile.in: Regenerate.
	* libc/sys/a29khif/Makefile.in: Likewise.
	* libc/sys/arc/Makefile.in: Likewise.
	* libc/sys/arm/Makefile.in: Likewise.
	* libc/sys/d10v/Makefile.in: Likewise.
	* libc/sys/decstation/Makefile.in: Likewise.
	* libc/sys/h8300hms/Makefile.in: Likewise.
	* libc/sys/h8500hms/Makefile.in: Likewise.
	* libc/sys/linux/Makefile.in: Likewise.
	* libc/sys/linux/machine/i386/Makefile.in: Likewise.
	* libc/sys/m88kbug/Makefile.in: Likewise.
	* libc/sys/mmixware/Makefile.in: Likewise.
	* libc/sys/netware/Makefile.in: Likewise.
	* libc/sys/rdos/Makefile.in: Likewise.
	* libc/sys/rtems/Makefile.in: Likewise.
	* libc/sys/sh/Makefile.in: Likewise.
	* libc/sys/sparc64/Makefile.in: Likewise.
	* libc/sys/sun4/Makefile.in: Likewise.
	* libc/sys/sysmec/Makefile.in: Likewise.
	* libc/sys/sysnec810/Makefile.in: Likewise.
	* libc/sys/sysnecv850/Makefile.in: Likewise.
	* libc/sys/sysvi386/Makefile.in: Likewise.
	* libc/sys/sysvnecv70/Makefile.in: Likewise.
	* libc/sys/tic80/Makefile.in: Likewise.
	* libc/sys/w65/Makefile.in: Likewise.
	* libc/sys/z8ksim/Makefile.in: Likewise.

	* configure.in (newlib_cv_ldbl_eq_dbl): Rename cache variable
	from newlib_ldbl_eq_dbl.
	* configure: Regenerate.

2009-08-19  Eric Blake  <ebb9@byu.net>

	* libc/Makefile.am (SUBDEFS): Correctly build popen docs.
	* libc/libc.texinfo (Top): Add posix node to menu.

2009-08-18  Jeff Johnston  <jjohnstn@redhat.com>

	* newlib.hin: Add comment regarding file being manually edited.
	* Makefile.am: Add no-op rule for newlib.hin.
	* Makefile.in: Regenerated.

2009-08-18  Jeff Johnston  <jjohnstn@redhat.com>

	* acconfig.h: Add templates for _HAVE_LONG_DOUBLE and _LDBL_EQ_DBL.

2009-08-18  Eric Blake  <ebb9@byu.net>

	* libc/posix/popen.c (popen): Fix documented prototype.

	Improve popen compatibility with glibc.
	* libc/posix/popen.c (popen): The 2006-08-22 change to use
	FD_CLOEXEC disagrees with other implementations; instead, use
	pidlist to work even when fcntl is not available.  Meanwhile,
	support the 'e' modifier to set CLOEXEC, as in glibc.  Drop
	cygwin-specific code, now that cygwin has its own version.
	* libc/posix/Makefile.am (CHEWOUT_FILES): Document popen.
	* libc/posix/posix.tex: New file.

2009-08-17  Craig Howland <howland@LGSInnovations.com>

	* libc/string/wcsncpy.c (wcsncpy):  Re-write function based on small
	version of strncpy() (fixing two bugs).

2009-08-13  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdio/mktemp.c (mkdtemp): Fix typo in function name.

2009-08-12  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/mktemp.c (_gettemp): Do not call _mkdir_r unless
	HAVE_MKDIR is defined.

2009-08-12  Hans-Peter Nilsson  <hp@axis.com>

	* libc/include/reent.h: Add prototype and definition of _mkdir_r.
	* libc/reent/Makefile.am (GENERAL_SOURCES): Add mkdirr.c.
	(CHEWOUT_FILES): Add mkdirr.def.
	* libc/reent/Makefile.in: Regenerate.
	* libc/reent/mkdirr.c: New file.

2009-08-10  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdlib/wcstombs.c: Change documentation to specify size_t
	return type instead of int.

2009-07-29  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdlib/a64l.c: Fix to use 'a' instead of 'A' in calculation
	when a lower-case character is detected.

2009-07-29  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdlib/mbtowc_r.c (__utf8_mbtowc): Rework UTF-16 surrogate
	pair handling to be more bullet-proof even with incomplete UTF-8
	sequences.  Add check for 4 byte sequences resulting in values
	outside the valid Unicode range.  Add a comment to clarify checking
	for invalid CESU-8 sequences.

2009-07-28  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdlib/mbtowc_r.c (__utf8_mbtowc): Fix incrementing n in case
	of handling incomplete sequences.

2009-07-22  Eric Blake  <ebb9@byu.net>

	Avoid a fault from locking a closed standard file.
	* libc/stdio/fflush.c (_fflush_r): Give up early if stream has
	been previously closed.

2009-07-09  Craig Howland <howland@LGSInnovations.com>

	* libm/math/ef_scalb.c:  Replace isnanf() (pre-C99 function call) with
	isnan() (C99 macro).
	* libm/math/wf_log.c:  Ditto.
	* libm/math/wf_j0.c:  Ditto.
	* libm/math/wf_sqrt.c:  Ditto.
	* libm/math/wf_pow.c:  Ditto.
	* libm/math/wf_fmod.c:  Ditto.
	* libm/math/wf_remainder.c:  Ditto.
	* libm/math/wf_scalb.c:  Ditto.
	* libm/math/wf_atanh.c:  Ditto.
	* libm/math/wf_cosh.c:  Ditto.
	* libm/math/wf_acos.c:  Ditto.
	* libm/math/wf_acosh.c:  Ditto.
	* libm/math/wf_jn.c:  Ditto.
	* libm/math/wf_log10.c:  Ditto.
	* libm/math/wf_asin.c:  Ditto.
	* libm/math/wf_j1.c:  Ditto.
	* libm/common/sf_isnan.c:  Add #include <ieeefp.h>, fix comment.
	* libm/common/sf_isinf.c:  Add #include <ieeefp.h>, adjust comment to
	match that from s_isinf.c.
	* libc/include/machine/ieeefp.h:  Simplify isinf and isnan macros to
	remove un-necessary extension use (in a similar manner to as was
	recently done in math.h).
	* libc/include/math.h:  Remove isnanf and isinff prototypes (are in
	ieeefp.h).
	* libm/machine/spu/sf_isinf.c:  Fix comment (remove <math.h>).

2009-07-06  Joel Sherrill <joel.sherrill@oarcorp.com>

	* libc/include/sys/features.h: Enable UNIX98 mutex attributes
	for RTEMS.

2009-07-03  Eric Blake  <ebb9@byu.net>

	Add mkdtemp, mkstemps.
	* libc/stdio/mktemp.c: Fix documentation.
	(_gettemp): Add domkdir and length parameters.  Check for
	insufficient 'X' suffix.  Drop cygwin-specific code.
	(_mkstemp_r, _mktemp_r, mkstemp, mktemp): Adjust clients.
	(_mkdtemp_r, _mkstemps_r, mkdtemp, mkstemps): New functions.
	* libc/include/stdlib.h (_mkdtemp_r, _mkstemps_r, mkdtemp)
	(mkstemps): Declare them.

	Add fpurge.
	* libc/stdio/fpurge.c (fpurge, _fpurge_r): New file.
	* libc/stdio/Makefile.am (ELIX_4_SOURCES, CHEWOUT_FILES, fpurge):
	Build it.
	* libc/stdio/Makefile.in: Regenerated.
	* libc/include/stdio.h (fpurge, _fpurge_r): New declarations.
	* libc/stdio/stdio.tex: Build documentation.

2009-06-23  Jeff Johnston  <jjohnstn@redhat.com>

	* Makefile.am (MATHOBJS_IN_LIBC): Add s_fpclassify and
	sf_fpclassify as these are now used for infinity testing.
	* Makefile.in: Regenerated.

2009-06-19  Joel Sherrill <joel.sherrill@oarcorp.com>

	* libc/sys/rtems/machine/param.h: Change ALIGNBYTES
	so it can point to an aligned structure or double.

2009-06-18  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/locale.c (loadlocale): Add handling of "@cjknarrow"
	modifier on _MB_CAPABLE targets.  Add comment to explain.  Improve
	documentation.

2009-06-17  Michael Eager <eager@eagercon.com>

	* libc/include/pthread.h: Support XMK (Xilinx) BSP, add RTEMS to
	PTHREAD_MUTEX_NORMAL.
	* libc/include/sys/features.h: Same.
	* libc/include/sys/types.h: Same.

2009-06-16  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/locale.h (struct lconv): Add missing members required
	by POSIX.1-2008.
	* libc/locale/locale.c (lconv): Initialize new members to default
	values in "C" locale.

2009-06-16  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdio/vfprintf.c (_VFPRINTF_R): Use actual length of
	radix char instead of assuming length 1.
	* libc/stdlib/gdtoa-gethex.c: Remove use of USE_LOCALE.
	(gethex): Allow multibyte decimal point.
	Fix compiler warnings due to different signedness of pointer types.
	* libc/stdlib/strtod.c: Remove use of USE_LOCALE.
	(_strtod_r): Allow multibyte decimal point.
	* libc/stdlib/wcstod.c (_wcstod_r): Evaluate correct wide char
	endptr position if the decimal point is a multibyte char.

2009-06-16  Craig Howland <howland@LGSInnovations.com>

	* libc/ctype/local.h (__locale_charset): Add arguments to
	prototype
	* libc/stdlib/local.h (__locale_charset): Ditto.

2009-06-16  Craig Howland <howland@LGSInnovations.com>

	* libc/include/math.h:  Simplify fpclassify, isinf, isnan, and signbit
	macros to remove un-necessary extension use.  isinf and isnan also
	changed to use fpclassify.  isfinite macro modified to run faster by
	only calling fpclassify once instead of possibly twice.

2009-06-09  Corinna Vinschen  <corinna@vinschen.de>

	* libc/ctype/tolower.c (tolower): Cast conversion result from
	mbtowc/wctomb to unsigned char to avoid negative return values.
	* libc/ctype/toupper.c (toupper): Ditto.

2009-06-03  IWAMURO Motonori  <deenheart@gmail.com>

	* libc/string/wcwidth.c: Optimize for speed.

2009-06-03  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/locale.c (lc_ctype_cjk_lang): New static int.
	(loadlocale): In case of setting LC_CTYPE, set lc_ctype_cjk_lang
	to 1 if the language is "jp", "ko", or "zh", to 0 otherwise.
	(__locale_cjk_lang): New function.
	* libc/string/local.h (__locale_cjk_lang): Declare.
	* libc/string/wcwidth.c: Fix comments.
	(__wcwidth): Handle CJK Ambiguous Width characters according
	to setting returned by __locale_cjk_lang.

2009-06-02  Richard Earnshaw  <rearnsha@arm.com>

	* libc/include/sys/config.h: Remove specification of _REENT_SMALL for
	thumb2.

2009-06-02  IWAMURO Motonori  <deenheart@gmail.com>

	* libc/ctype/jp2uc.c: Skip all definition if defined __CYGWIN__.
	(__jp2uc): Change the scope to static function.
	* libc/ctype/local.h (_jp2uc): Define as macro if defined __CYGWIN__.
	* libc/string/local.h (_jp2uc): Include ../ctype/local.h.

2009-05-27  Neal H. Walfield  <neal@gnu.org>

	* libc/include/machine/setjmp.h (sigjmp_buf): Size according to
	_JBTYPE and the size of sigset_t.

2009-05-15  Craig Howland <howland@LGSInnovations.com>

	* configure.in:  Add configuration test for long double type existing
	and set flag _HAVE_LONG_DOUBLE if true.  Fix INIT_ARRAY (.init_array)
	and _LDBL_EQ_DBL tests to not link so that will work with
	cross-compilers.
	* configure: Regenerated.
	* Makefile.in: Ditto.
	* newlib.hin: Add _HAVE_LONG_DOUBLE flag.
	* libc/include/math.h:  Change non-builtin defines for HUGE_VAL,
	HUGE_VALF, and HUGE_VALL to be constant expressions.  Add definitions
	for the non-builtin case for INFINITY and NAN.  Gate HUGE_VALL and
	union __ldmath definitions with (new) _HAVE_LONG_DOUBLE.
	*libm/common/s_infconst.c:  Change definitions to use values from
	float.h instead of non-so-portable integer forms.  Mark as being
	deprecated (because now removed from math.h, are not used anywhere
	in Newlib, itself).

2009-05-15  Corinna Vinschen  <corinna@vinschen.de>

	* libc/string/local.h: New file.
	* libc/string/wcswidth.c (wcswidth):  Convert japanese wide
	characters to Unicode here.  Handle surrogate pairs for UTF-16
	systems.  Call __wcwidth rather than wcwidth.
	* libc/string/wcwidth.c: New implementation using Markus Kuhn's
	wcwidth implementation for Unicode.
	(bisearch): New static function.
	(__wcwidth): New function.  Take wint_t rather than wchar_t as
	parameter to allow full Unicode handling on UTF-16 systems.
	Move old wcwidth implementation here for non-multibyte aware
	systems.
	(wcwidth): Convert japanese wide characters to Unicode here.
	Call __wcwidth rather than using iswprint/iswcntrl.

2009-05-14  Corinna Vinschen  <corinna@vinschen.de>

	* libc/ctype/local.h (JP_JIS, JP_SJIS, JP_EUCJP): Move definition
	to jp2uc.c.
	(__jp2uc): Remove declaration.
	(_jp2uc): Declare.
	* libc/ctype/jp2uc.c (JP_JIS, JP_SJIS, JP_EUCJP): Define.
	(__jp2uc): Remove Cygwin special case.
	(_jp2uc): New function.  On Cygwin, just return c.
	* libc/ctype/iswalpha.c (iswalpha): Just call _jp2uc.
	* libc/ctype/iswblank.c (iswblank): Ditto.
	* libc/ctype/iswcntrl.c (iswcntrl): Ditto.
	* libc/ctype/iswprint.c (iswprint): Ditto.
	* libc/ctype/iswpunct.c (iswpunt): Ditto.
	* libc/ctype/iswspace.c (iswspace): Ditto.
	* libc/ctype/towlower.c (towlower): Ditto.
	* libc/ctype/towupper.c (towupper): Ditto.

2009-05-13  Paul Brook  <paul@codesourcery.com>

	* libc/machine/arm/setjmp.S: Don't bother saving IP.  Copy SP to
	IP before saving.  Likewise when restoring.

2009-05-13  Paul Brook  <paul@codesourcery.com>

	* libc/machine/arm/setjmp.S: Add ARMv6-M implementation.

2009-05-13  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/locale.c (setlocale): Don't build on Cygwin.

2009-05-11  Craig Howland <howland@LGSInnovations.com>

	* libm/machine/i386/f_llrint.c: Remove llrint() definition.
	* libm/machine/i386/f_llrintf.c: Remove llrintf() definition.

2009-05-08  Nick Clifton  <nickc@redhat.com>

	* MAINTAINERS: Add myself as a maintainer for the MN10300 and to
	the write-after-approval list.

2009-04-30  Anthony Green  <green@moxielogic.com>

	* MAINTAINERS: Add myself as moxie maintainer and to the
	write-after-approval list.

2009-04-30  Eric Blake  <ebb9@byu.net>

	Allow gcc warning for toupper even with extended charsets.
	* libc/include/ctype.h (toupper, tolower)
	[_MB_EXTENDED_CHARSETS_ISO]: Allow gcc warning when called with
	'char' even when we must call the function for correct behavior.
	[!_MB_EXTENDED_CHARSETS_ISO]: Fix regression in result type.

2009-04-24  Jeff johnston  <jjohnstn@redhat.com>

	* libc/stdio/fgetc.c: Make sure sfp lock is acquired before the
	file lock and released before the file lock to avoid a deadlock
	scenario.
	* libc/stdio/fgets.c: Ditto.
	* libc/stdio/fgetwc.c: Ditto.
	* libc/stdio/fgetws.c: Ditto.
	* libc/stdio/fread.c: Ditto.
	* libc/stdio/fseek.c: Ditto.
	* libc/stdio/getc.c: Ditto.
	* libc/stdio/getdelim.c: Ditto.
	* libc/stdio/gets.c: Ditto.

2009-04-24  Jeff johnston  <jjohnstn@redhat.com>

	* configure.in: Add configuration test for long double equals dbl
	and set flag _LDBL_EQ_DBL if true.
	* configure: Regenerated.
	* newlib.hin: Add _LDBL_EQ_DBL flag.
	* libc/include/math.h: Use _LDBL_EQ_DBL flag instead of
	_HAVE_LDBL_MATH.
	* libc/include/stdlib.h: Use _LDBL_EQ_DBL flag instead of
	_HAVE_LDBL_STDLIB.
	* libc/common/local.h: Remove _LDBL_EQ_DBL flag setting.
	* libc/stdlib/local.h: Ditto.

2009-04-24  Joseph Myers  <joseph@codesourcery.com>

	* libc/include/stdint.h (UINTPTR_MAX): Define to __UINTPTR_MAX__
	if __UINTPTR_MAX__ defined.

2009-04-24  Eric Blake  <ebb9@byu.net>

	Be namespace clean in ctype.h.
	* libc/include/ctype.h (_tolower, _toupper, isalpha, isupper)
	(islower, isdigit, isxdigit, isspace, ispunct, isalnum)
	(isprint, isgraph, iscntrl, isblank, toupper, tolower)
	(isascii, toascii): Don't use 'c' as macro parameter name.

	Trigger gcc warning if isFoo macros are called with plain char.
	* libc/include/ctype.h (isalpha, isupper, islower, isdigit)
	(isxdigit, isspace, ispunct, isalnum, isprint, isgraph)
	(iscntrl, isblank, toupper, tolower): Rewrite to let 'gcc -Wall'
	warn when user calls macro with a char argument.

2009-04-23  Mike Burgess  <wizardsguild@earthlink.net>

	* libc/string/strcasecmp.c: Optimized rewrite.
	* libc/string/strncasecmp.c: Fix description.
	* libc/string/strlwr.c: Avoid passing signed char to tolower.
	* libc/string/strupr.c: Avoid passing signed char to tolower.

2009-04-23  Paul Brook  <paul@codesourcery.com>
	    Kazu Hirata  <kazu@codesourcery.com>

	* libc/stdlib/__atexit.c (__register_exitproc): Use weak reference
	to malloc.  Allocate dynamically only if it is present.
	* libc/stdlib/__call_atexit.c (__call_exitprocs): Use weak
	reference to free.  Call free only if it is present.

2009-04-22 Anthony Green <green@moxielogic.com>

	* configure.host: Add moxie support.
	* libc/machine/configure.in: Add moxie support.
	* libc/machine/configure: Rebuilt.
	* libc/machine/moxie/aclocal.m4: New file.
	* libc/machine/moxie/configure: New file.
	* libc/machine/moxie/configure.in: New file.
	* libc/machine/moxie/Makefile.am: New file.
	* libc/machine/moxie/Makefile.in: New file.
	* libc/machine/moxie/setjmp.S: New file.
	* libc/include/machine/setjmp.h (_JBLEN): Define for moxie.
	* libc/include/machine/ieeefp.h: Add moxie support.

2009-04-22  Kazu Hirata  <kazu@codesourcery.com>

	* libc/stdio/local.h (__chclass, __state_table, __action_table):
	Add extern to the declarations.
	* libc/stdlib/local.h (__iso_8859_conv, __cp_conv): Likewise.

2009-04-21  Corinna Vinschen  <corinna@vinschen.de>

	* libc/ctype/ctype_.c (_CTYPE_DATA_128_255): Rename from
	_CTYPE_DATA_128_256.
	* libc/ctype/ctype_cp.h: Split off all character class values for
	character 255 from the rest of the definitions.
	(__ctype_cp): Use the new definitions.  Make sure that the table
	always contains 0 for EOF (-1).
	* libc/ctype/ctype_iso.h: Ditto.

2009-04-21  Sandra Loosemore  <sandra@codesourcery.com>

	* libc/reent/impure.c (__sf_fake_stdin, __sf_fake_stdout)
	(__sf_fake_stderr): Declare locally with weak attribute.

2009-04-21  Mark Mitchell  <mark@codesourcery.com>

	* libc/include/_ansi.h: Move C++ defines to top of file.
	(_NOTHROW): New macro.
	(_EXFUN_NOTHROW): Likewise.
	* libc/include/stdlib.h (calloc): Declare with _EXFUN_NOTHROW.
	(free): Likewise.
	(malloc): Likewise.
	(realloc): Likewise.
	(_malloc_r): Likewise.
	(_callor_r): Likewise.
	(_free_r): Likewise.
	(_realloc_r): Likewise.

2009-04-20  Jeff johnston  <jjohnstn@redhat.com>

	* libc/include/math.h: Change _LDBL_EQ_DBL flag usage to
	be _HAVE_LDBL_MATH.
	* libc/include/stdlib.h: Change _LDBL_EQ_DBL flag usage to
	be _HAVE_LDBL_STDLIB.

2009-04-17  Jeff johnston  <jjohnstn@redhat.com>

	* libc/include/machine/ieeefp.h (_LDBL_EQ_DBL): Remove.
	* libc/stdlib/local.h (_LDBL_EQ_DBL): Add.
	* libc/stdlib/strtold.c: Include local.h.
	* libc/stdlib/wcstold.c: Likewise.
	* libm/common/atanl.c: Likewise.
	* libm/common/cosl.c: Likewise.
	* libm/common/sinl.c: Likewise.
	* libm/common/modfl.c: Likewise.
	* libm/common/frexpl.c: Likewise.
	* libm/common/tanhl.c: Likewise.
	* libm/common/tanl.c: Likewise.
	* libm/common/expm1l.c: Likewise.
	* libm/common/log1pl.c: Likewise.
	* libm/common/ceill.c: Likewise.
	* libm/common/fabsl.c: Likewise.
	* libm/common/floorl.c: Likewise.
	* libm/common/acosl.c: Likewise.
	* libm/common/asinl.c: Likewise.
	* libm/common/atan2l.c: Likewise.
	* libm/common/coshl.c: Likewise.
	* libm/common/expl.c: Likewise.
	* libm/common/fmodl.c: Likewise.
	* libm/common/hypotl.c: Likewise.
	* libm/common/ldexpl.c: Likewise.
	* libm/common/log10l.c: Likewise.
	* libm/common/logl.c: Likewise.
	* libm/common/powl.c: Likewise.
	* libm/common/sqrtl.c: Likewise.
	* libm/common/copysignl.c: Likewise.
	* libm/common/ilogbl.c: Likewise.
	* libm/common/nanl.c: Likewise.
	* libm/common/cbrtl.c: Likewise.
	* libm/common/asinhl.c: Likewise.
	* libm/common/nextafterl.c: Likewise.
	* libm/common/rintl.c: Likewise.
	* libm/common/scalbnl.c: Likewise.
	* libm/common/exp2l.c: Likewise.
	* libm/common/fdiml.c: Likewise.
	* libm/common/fmal.c: Likewise.
	* libm/common/fmaxl.c: Likewise.
	* libm/common/fminl.c: Likewise.
	* libm/common/lrintl.c: Likewise.
	* libm/common/lroundl.c: Likewise.
	* libm/common/nearbyintl.c: Likewise.
	* libm/common/remquol.c: Likewise.
	* libm/common/roundl.c: Likewise.
	* libm/common/scalblnl.c: Likewise.
	* libm/common/truncl.c: Likewise.
	* libm/common/acoshl.c: Likewise.
	* libm/common/atanhl.c: Likewise.
	* libm/common/erfcl.c: Likewise.
	* libm/common/erfl.c: Likewise.
	* libm/common/lgammal.c: Likewise.
	* libm/common/remainderl.c: Likewise.
	* libm/common/tgammal.c: Likewise.
	* libm/common/sinhl.c: Likewise.
	* libm/common/llroundl.c: Likewise.
	* libm/common/llrintl.c: Likewise.
	* libm/common/local.h: New file with _LDBL_EQ_DBL macro.

2009-04-17  Ken Werner  <ken.werner@de.ibm.com>

	* libc/include/machine/ieeefp.h: _LDBL_EQ_DBL check fixed.
	* libc/include/math.h (llrintl): Declare.
	* libm/common/llrintl.c: New File.
	* libm/common/Makefile.am: New File added.
	* libm/common/Makefile.in: Regenerate.

2009-04-17  Ken Werner  <ken.werner@de.ibm.com>

	* libc/configure.in: Change AC_TRY_COMPILE to AC_TRY_COMMAND to
	avoid executable test.
	* libc/configure: Regenerate.

2009-04-17  Jeff johnston  <jjohnstn@redhat.com>

	* configure.in: Remove _HAVE_ARRAY_ALIASING check.
	* configure: Regenerated.
	* Makefile.in: Regenerated.
	* newlib.hin: Remove _HAVE_ARRAY_ALIASING flag.
	* libc/ctype/ctype_.c: Do not check for _HAVE_ARRAY_ALIASING.
	* libm/configure.in: Change AC_TRY_COMPILE to AC_TRY_COMMAND to
	avoid executable test.
	* libm/configure: Regenerated.

2009-04-16  Jeff johnston  <jjohnstn@redhat.com>

	* libc/misc/init.c (__libc_fini_array): Process fini_array in
	reverse order as compliant with the ELF specification.

2009-04-16  Ken Werner  <ken.werner@de.ibm.com>

	* libc/machine/spu/Makefile.am: Add new File.
	* libc/machine/spu/Makefile.in: Regenerate.
	* libc/machine/spu/fdopen.c: New file.

2009-04-16  Hans-Peter Nilsson  <hp@axis.com>

	* libc/include/stdint.h (INTPTR_MIN, INTPTR_MAX, UINTPTR_MAX): Define.

2009-04-16  Ken Werner  <ken.werner@de.ibm.com>

	* libm/libm.texinfo: Add long double function support chapter.
	* libc/include/machine/ieeefp.h: Add _LDBL_EQ_DBL define.
	* libc/include/stdlib.h: Include <machine/ieeefp.h>.
	(strtold, wcstold): Declare.
	* libc/stdlib/strtold.c: New File.
	* libc/stdlib/wcstold.c: Likewise.
	* libc/configure.in: Add long double check.
	* libc/configure: Regenerate.
	* libc/stdlib/Makefile.am: Add strtold.c and wcstold.c.
	* libc/stdlib/Makefile.in: Regenerate.
	* libc/include/math.h (atanl, cosl, sinl, tanl, tanhl): Declare.
	(frexpl, modfl, ceill, fabsl, floorl, log1pl, expm1l, acosl): Ditto.
	(asinl, atan2l, coshl, sinhl, expl, ldexpl, logl, log10l, powl): Ditto.
	(sqrtl, fmodl, hypotl, copysignl, nanl, ilogbl, asinhl, cbrt): Ditto.
	(nextafterl, rintl, scalbnl, exp2l, scalblnl, tgammal): Ditto.
	(nearbyintl, lrintl, llrintl, roundl, lroundl, llround): Ditto.
	(llroundl, truncl, remquol, fdiml, fmaxl, fminl, fmal, acoshl): Ditto.
	(atanhl, remainderl, lgammal, erfl, erfcl): Ditto.
	* libm/common/atanl.c: New File.
	* libm/common/cosl.c: Likewise.
	* libm/common/sinl.c: Likewise.
	* libm/common/modfl.c: Likewise.
	* libm/common/frexpl.c: Likewise.
	* libm/common/tanhl.c: Likewise.
	* libm/common/tanl.c: Likewise.
	* libm/common/expm1l.c: Likewise.
	* libm/common/log1pl.c: Likewise.
	* libm/common/ceill.c: Likewise.
	* libm/common/fabsl.c: Likewise.
	* libm/common/floorl.c: Likewise.
	* libm/common/acosl.c: Likewise.
	* libm/common/asinl.c: Likewise.
	* libm/common/atan2l.c: Likewise.
	* libm/common/coshl.c: Likewise.
	* libm/common/expl.c: Likewise.
	* libm/common/fmodl.c: Likewise.
	* libm/common/hypotl.c: Likewise.
	* libm/common/ldexpl.c: Likewise.
	* libm/common/log10l.c: Likewise.
	* libm/common/logl.c: Likewise.
	* libm/common/powl.c: Likewise.
	* libm/common/sqrtl.c: Likewise.
	* libm/common/copysignl.c: Likewise.
	* libm/common/ilogbl.c: Likewise.
	* libm/common/nanl.c: Likewise.
	* libm/common/cbrtl.c: Likewise.
	* libm/common/asinhl.c: Likewise.
	* libm/common/nextafterl.c: Likewise.
	* libm/common/rintl.c: Likewise.
	* libm/common/scalbnl.c: Likewise.
	* libm/common/exp2l.c: Likewise.
	* libm/common/fdiml.c: Likewise.
	* libm/common/fmal.c: Likewise.
	* libm/common/fmaxl.c: Likewise.
	* libm/common/fminl.c: Likewise.
	* libm/common/lrintl.c: Likewise.
	* libm/common/lroundl.c: Likewise.
	* libm/common/nearbyintl.c: Likewise.
	* libm/common/remquol.c: Likewise.
	* libm/common/roundl.c: Likewise.
	* libm/common/scalblnl.c: Likewise.
	* libm/common/truncl.c: Likewise.
	* libm/common/acoshl.c: Likewise.
	* libm/common/atanhl.c: Likewise.
	* libm/common/erfcl.c: Likewise.
	* libm/common/erfl.c: Likewise.
	* libm/common/lgammal.c: Likewise.
	* libm/common/remainderl.c: Likewise.
	* libm/common/tgammal.c: Likewise.
	* libm/common/sinhl.c: Likewise.
	* libm/common/llroundl.c: Likewise.
	* libm/configure.in: Add long double check.
	* libm/configure: Regenerate.
	* libm/common/Makefile.am: Add new files.
	* libm/common/Makefile.in: Regenerate.

2009-04-09  Corinna Vinschen  <corinna@vinschen.de>

	* libc/ctype/ctype_.c (_CTYPE_DATA_0_127): Remove _B flag from TAB.
	* libc/ctype/ctype_cp.h: Mark non-cased letters in tables for codepages
	720, 862, 874, 1255, and 1256 to _U|_L.  Fix a couple of incorrect
	class mappings.
	* libc/ctype/ctype_iso.h: Mark non-cased letters in ISO-8859 tables
	6, 8, and 11 to _U|_L.  Fix a couple of incorrect class mappings.
	* libc/ctype/isblank.c (isblank): Special case TAB.
	* libc/ctype/islower.c (islower): Check explicitely for _L flag only
	in (_U|_L).
	* libc/ctype/isupper.c (isupper): Ditto, but check for _U flag.
	* libc/include/ctype.h (islower): Same in macro.
	(isupper): Ditto.
	(isblank): Special case TAB.  Redefine macro for GCC only.

2009-04-09  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdlib/local.h (__mbtowc): Declare extern.
	(__wctomb): Ditto.

2009-04-09  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdlib/mbctype.h (_iseucjp1): Like _iseucjp, but also
	recognizes 0x8e and 0x8f lead bytes.
	(_iseucjp2): Rename from _iseucjp.
	* libc/stdlib/mbtowc_r.c (__eucjp_mbtowc): Convert JIS-X-0212
	triplebyte sequences as well.
	* libc/stdlib/wctomb_r.c (__eucjp_wctomb): Convert to JIS-X-0212
	triplebyte sequences as well.

2009-04-08  Ken Werner  <ken.werner@de.ibm.com>

	* configure.in: Add square brackets for the array aliasing conftest.
	* configure: Regenerate.

2009-04-06  Mike Burgess  <wizardsguild@earthlink.net>

	* libc/string/strncasecmp.c: Optimized rewrite.

2009-04-06  Ken Werner  <ken.werner@de.ibm.com>

	* libc/include/sys/features.h: Undefine _POSIX_TIMERS for spu.
	* libc/include/machine/time.h (nanosleep): Declare.

2009-04-06  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/locale.c (loadlocale): Set mbc_max to 3 for EUCJP.

2009-04-04  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdlib/wcstombs.c: Fix datatypes in documentation.

2009-04-04  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/stdio.h (_ELIDABLE_INLINE): Move definition from here...
	* libc/include/_ansi.h (_ELIDABLE_INLINE): ..to here.

2009-04-03  Yaakov Selkowitz  <yselkowitz@users.sourceforge.net>

	* libc/include/stdio.h [__SCLE] (__sgetc_r): Prototype before define
	to avoid a warning with -Wmissing-prototypes.

2009-04-03  Ken Werner  <ken.werner@de.ibm.com>

	* libc/machine/spu/mmap_ea.c (mmap_ea): Check length argument.

2009-04-03  Ken Werner  <ken.werner@de.ibm.com>

	* libc/machine/spu/sys/linux_syscalls.h: include <sys/types.h>
	(linux_getpid, linux_gettid): Declare.

2009-04-03  Ken Werner  <ken.werner@de.ibm.com>

	* libc/machine/spu/spu-gmon.c: Tweaks to support simultaneous SPU
	profiling.

2009-04-03  Ken Werner  <ken.werner@de.ibm.com>

	* libc/include/math.h: Remove duplicate copysign prototype.
	Fix __math_68881 define typo.  Guard functions of the rint family.

2009-04-03  Craig Howland <howland@LGSInnovations.com>

	* libm/common/s_llrint.c: New file, implementing llrint().
	* libm/common/sf_llrint.c: New file, implementing llrintf().
	* libm/common/Makefile.am:  Add s_llrint.c (src); sf_llrint.c (fsrc).
	* libm/common/Makefile.in:  Regenerate.

2009-04-02  Corinna Vinschen  <corinna@vinschen.de>

	* libc/ctype/ctype_c.c: Move inclusion of ctype_iso.h and
	ctype_cp.h out of ALLOW_NEGATIVE_CTYPE_INDEX case.
	(__ctype_ptr__): Constify in !_MB_CAPABLE case.  Otherwise,
	de-constify in !ALLOW_NEGATIVE_CTYPE_INDEX case, too.  Add comment.
	(__set_ctype): Set __ctype_ptr__ pointer according to definition
	of ALLOW_NEGATIVE_CTYPE_INDEX.
	* libc/include/ctype.h (__ctype_ptr__): Constify in !_MB_CAPABLE case.

2009-03-31  Corinna Vinschen  <corinna@vinschen.de>

	* libc/ctype/Makefile.am: Remove _tolower.c and _toupper.c
	source files.  Add a dependency rule for ctype_o to note
	changes in ctype_iso.h and ctype_cp.h.
	* libc/ctype/Makefile.in: Regenerate.
	* libc/ctype/_tolower.c: Remove file.
	* libc/ctype/_toupper.c: Remove file.
	* libc/ctype/ctype_.c: Make sure ALLOW_NEGATIVE_CTYPE_INDEX
	is always defined on Cygwin.
	(_ctype_b): Don't make `static const' on Cygwin.
	(ctype_iso.h): Include if _MB_EXTENDED_CHARSETS_ISO is set.
	(ctype_cp.h): Include if _MB_EXTENDED_CHARSETS_WINDOWS is set.
	(__ctype_ptr): Drop definition.
	(__ctype_ptr__): De-constify.  Mark as __EXPORT symbol.
	(_ctype_): Add Cygwin-specifc asm define.
	(__set_ctype): New function to set __ctype_ptr__ according to
	current charset.
	* libc/ctype/ctype_cp.h: New file containing Windows codepage
	specific character class tables.
	* libc/ctype/ctype_iso.h: New file containing ISO-8859-x
	specific character class tables.
	* libc/ctype/tolower.c (tolower): Reimplement to support any singlebyte
	charset if one of the extended charsets is enabled.
	* libc/ctype/toupper.c (toupper): Ditto.
	* libc/include/ctype.h (_tolower): Define as macro per POSIX.
	(_toupper): Ditto.
	(__ctype_ptr__): De-constify.
	(toupper): Disable macro on systems supporting extended charsets.
	(tolower): Ditto.
	* libc/include/sys/config.h (__EXPORT): Define empty if not defined.
	* libc/locale/locale.c (__mb_cur_max): Mark as __EXPORT symbol.
	(__set_ctype): Declare unconditionally.
	(loadlocale): Remove __CYGWIN__ guard around __set_ctype call.

2009-03-26  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/locale.c (loadlocale): Revert to charset "GBK" instead
	of "GB2312".  Fix documentation accordingly.

2009-03-26  Corinna Vinschen  <corinna@vinschen.de>

	* libc/ctype/ctype_.c (_CTYPE_DATA_0_127): Mark TAB as blank character.
	* libc/ctype/isblank.c: Replace hardcoded test with test for having _B
	marker in ctype array.
	* libc/include/ctype.h (isblank): Add macro.

2009-03-25  Craig Howland <howland@LGSInnovations.com>

	* libc/include/math.h:  (llround, llroundf): Declare.
	* libm/common/s_llround.c: New file, implementing llround().
	* libm/common/sf_llround.c: New file, implementing llroundf().
	* libm/common/sf_lround.c: Remove spurious cast in _DOUBLE_IS_32BITS
	version of function.
	* libm/common/sf_lrint.c: Ditto.
	* libm/common/sf_logb.c:  Corrected return for subnormal argument
	by replacing existing function with a version created from sf_ilogb.c.
	* libm/common/s_logb.c: Ditto, except starting point s_ilogb.c.  Also
	added documentation for logb() and logbf().
	* libm/common/s_signbit.c:  Add signbit() documentation.
	* libm/common/s_log2.c: Update return values to match what w_log2.c has,
	since log2 uses log(); add note about being derived instead of direct.
	* libm/common/sf_fma.c: Add casts to attempt to get correct results,
	as well as comments pointing out problems with the implementation.
	* libm/common/s_fma.c: Add fma() and fmaf() documentation.
	* libm/common/sf_remquo.c: Incorrect quotient returns for large values
	corrected by discarding existing function and replacing with Sun
	verion, with some enhancements.
	* libm/common/s_remquo.c: Ditto.  Add remquo() and remquof()
	documentation.
	* libm/common/s_fmax.c: Add fmax() and fmaxf() documentation.
	* libm/common/s_fmin.c: Add fmin() and fminf() documentation.
	* libm/common/s_fdim.c: Return NAN for NAN arg, add fdim() and fdimf()
	documentation.
	* libm/common/sf_fdim.c: Return NAN for NAN arg, HUGE_VALF for inf arg.
	* libm/common/s_trunc.c: Add trunc() and truncf() documentation.
	* libm/common/s_rint.c: Add rint() and rintf() documentation.
	* libm/common/s_round.c: Add round() and roundf() documentation.
	* libm/common/s_scalbn.c: Add scalbln() and scalblnf() documentation.
	* libm/common/s_infinity.c: Add infinity() and infinityf()
	documentation.
	* libm/common/s_lround.c: Add lround(), lroundf(), llround(), and
	llroundf() documentation.
	* libm/common/s_lrint.c: Add lrint(), lrintf(), llrint(), and llrintf()
	documentation.
	* libm/common/isgreater.c: New file for documenting math.h function-like
	macros isgreater(), isgreaterequal(), isless(), islessequal(),
	islessgreater(), and isunordered().
	* libm/common/s_isnan.c: Add documentation for function-like macros
	fpclassify(), isfinite(), isinf(), isnan(), and isnormal().
	* libm/common/s_nearbyint.c: Add nearbyint() and nearbyintf()
	documentation.
	* libm/common/Makefile.am: Add s_llround.c (src); sf_llround.c (fsrc);
	s_fdim.def, s_fma.def, s_fmax.def, s_fmin.def,
	s_logb.def, s_lrint.def, s_lround.def, s_nearbyint.def, s_remquo.def,
	s_rint.def, s_round.def, s_signbit.def, s_trunc.def, and
	isgreater.def (chobj);
	re-name all existing chew files (chobj) to match source file base
	names (put in underscores), delete all special targets for chew files
	(leaving all to be generated by rule).
	* libm/common/Makefile.in: regenerate.
	* libm/math/w_exp2.c: Add "base 2" to documentation description (and
	delete TRAD_SYNOPSIS).
	* libm/math/w_gamma.c: Add tgamma() and tgammaf() documentation, along
	with some history behind the function names.
	* libm/math/math.tex: Add includes for newly-added documentation (see
	.def additions to common/Makefile.am and math/Makefile.am in this
	ChangeLog list), adjusted existing .def file names to match source file
	base names (added underscores); add mention of HUGE_VALF; rename
	"Version of library" section to "Error Handling" and add some text
	about floating-point exception; added section "Standards Compliance And
	Portability".
	* libm/math/Makefile.am: Add w_exp2.def (chobj);
	re-name all existing chew files (chobj) to match source file base
	names, delete all special targets for chew files (leaving all to be
	generated by rule).
	* libm/math/Makefile.in: regenerated
	* doc/makedoc.c: Change silent ignoring of commands < 5 characters
	to a failure when reading macro file for commands < 4 characters;
	add -v (verbose) option for printing some debugging information;
	get rid of spurious translation of "@*" to "*" (no source files used @*,
	so no existing doc pages were affected); clean up some compiler
	warnings.
	* doc/doc.str: add BUGS and SEEALSO sections (to match texi2pod.pl
	which has them); Remove ITEM command (redundant with makedoc built-in
	"o", not used in any present source file so nothing is lost, anyway).
	* HOWTO: New file to hold information for maintainers regarding how
	to do things.  Initial sections on documentation and ELIX levels.

2009-03-25  Richard Earnshaw  <rearnsha@arm.com>

	* libc/machine/arm/strcmp.c (strcmp_unaligned): Correctly
	detect the nul-byte in a big-endian string.

2009-03-25  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/string/wcsdup.c: Fix documentation error.
	* libc/string/Makefile.am: Fix CHEWOUT files to contain
	wcsdup.def rather than wcsdup.
	* libc/string/Makefile.in: Regenerated.

2009-03-25  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/locale.c (loadlocale): Only change __wctomb and __mbtowc
	pointers if category is LC_CTYPE.

2009-03-25  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/locale.c (loadlocale): Rename charset "GBK" to
	"GB2312".  Fix documentation accordingly.

2009-03-24  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/locale.c (loadlocale): Rename charset "CP949" to
	"eucKR".  Fix documentation accordingly.

2009-03-24  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/locale.c (loadlocale): Allow charset starting with 'e'
	for "eucJP" charset support.

2009-03-24  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/errno.h: Move EFTYPE to general usage because
	it is used in libc/search.

2009-03-24  Corinna Vinschen  <corinna@vinschen.de>

	* libc/ctype/iswalpha.c: Handle all wchar_t as unicode on
	_MB_CAPABLE systems.
	* libc/ctype/iswblank.c: Ditto.
	* libc/ctype/iswcntrl.c: Ditto.
	* libc/ctype/iswprint.c: Ditto.
	* libc/ctype/iswpunct.c: Ditto.
	* libc/ctype/iswspace.c: Ditto.
	* libc/ctype/jp2uc.c (__jp2uc): On Cygwin, just return c.
	Explain why.
	* libc/ctype/towlower.c: Ditto.
	* libc/ctype/towupper.c: Ditto.
	* libc/include/sys/config.h: Define _MB_EXTENDED_CHARSETS_ISO
	and _MB_EXTENDED_CHARSETS_WINDOWS if _MB_EXTENDED_CHARSETS_ALL is
	defined.  Define _MB_EXTENDED_CHARSETS_ALL on Cygwin only for now.
	* libc/include/sys/reent.h (struct _reent): Mark _current_category
	and _current_locale as unused.
	* libc/locale/locale.c: Add new charset support to documentation.
	Include ../stdio/local.h from here.
	(lc_ctype_charset): Set to "ASCII" by default.
	(lc_message_charset): Ditto.
	(_setlocale_r): Don't set _current_category and _current_locale.
	(loadlocale): Add Cygwin codepage support.  On _MB_CAPABLE
	systems, set __mbtowc and __wctomb function pointers to function
	corresponding with current charset.  Don't allow non-existant
	ISO-8859-12 charset.  Add support for Windows singlebyte codepages.
	On Cygwin, add support for GBK, CP949, and BIG5.  On Cygwin,
	call __set_ctype() in case the catorgy is LC_CTYPE.  Don't set
	_current_category and _current_locale.
	* libc/stdlib/Makefile.am (GENERAL_SOURCES): Add sb_charsets.c.
	* libc/stdlib/Makefile.in: Regenerate.
	* libc/stdlib/local.h: Add prototype for __locale_charset.
	Add prototypes for __mbtowc and __wctomb pointers.
	Add prototypes for charset-specific _wctomb_r and _mbtowc_r
	functions.
	Declare tables and functions from sb_charsets.c.
	* libc/stdlib/mbtowc_r.c (__mbtowc): Define.  Set to __ascii_mbtowc
	by default.
	(_mbtowc_r): Just call __mbtowc from here.
	(__ascii_mbtowc): New function.
	(__iso_mbtowc): New function.
	(__cp_mbtowc): New function.
	(__utf8_mbtowc): New function.
	(__sjis_mbtowc): New function.  Disable on Cygwin.
	(__eucjp_mbtowc): New function.  Disable on Cygwin.
	(__jis_mbtowc): New function.  Disable on Cygwin.
	* libc/stdlib/sb_charsets.c: New file, adding singlebyte to UTF
	conversion tables for all ISO and CP charsets.
	(__iso_8859_index): New function.
	(__cp_index): New function.
	* libc/stdlib/wctomb_r.c (__wctomb): Define.  Set to __ascii_wctomb
	by default.
	(_wctomb_r): Just call __wctomb from here.
	(__ascii_wctomb): New function.
	(__utf8_wctomb): New function.
	(__sjis_wctomb): New function.  Disable on Cygwin.
	(__eucjp_wctomb): New function.  Disable on Cygwin.
	(__jis_wctomb): New function.  Disable on Cygwin.
	(__iso_wctomb): New function.
	(__cp_wctomb): New function.

2009-03-23  Richard Earnshaw  <rearnsha@arm.com>

	* libc/machine/arm/strcmp.c (strcmp): Treat char as unsigned.

2009-03-23  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/locale.c (loadlocale): Fix typo in language and
	territory evaluation.

2009-03-20  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/errno.h: Protect various non-standard errnos
	with either __LINUX_ERRNO_EXTENSIONS__ or __CYGWIN__.
	* libc/include/sys/config.h[__CYGWIN__]: Define
	__LINUX_ERRNO_EXTENSIONS__.

2009-03-19  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdlib/mbtowc_r.c (_mbtowc_r): Return EILSEQ in case of an
	invalid character sequence.

	* libc/stdlib/mbtowc_r.c (_mbtowc_r): Fix compiler warning due to
	missing declaration of __locale_charset.
	* libc/stdlib/wctomb_r.c (_wctomb_r): Ditto.

2009-03-18  Yaakov Selkowitz <yselkowitz@users.sourceforge.net>

	* libm/common/s_log2.c: New file.
	* libm/common/sf_log2.c: Ditto.
	* libm/common/Makefile.am: Add s_log2.c and sf_log2.c.
	* libm/common/Makefile.in: Regenerated.
	* libc/include/math.h: Add log2 and log2f function prototypes.

2009-03-17  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdlib/mbstowcs_r.c (_mbstowcs_r): Handle NULL destination
	string correctly.

2009-03-16  Mark Mitchell  <mark@codesourcery.com>

	* libc/machine/arm/strlen.c (strlen): Fix defect in Thumb-2 mode.

2009-03-16  Richard Earnshaw  <rearnsha@arm.com>

	* libc/machine/arm/strlen.c (strlen): Correctly detect
	end-of-string.
	* libc/machine/arm/strcpy.c (strcpy): Likewise.
	* libc/machine/arm/strcmp.c (strcmp, strcmp_unaligned): Likewise.

2009-03-15  Yaakov Selkowitz <yselkowitz@users.sourceforge.net>

	* libc/include/sys/errno.h (ESTRPIPE): Define.
	* libc/string/strerror.c (strerror): Decode it.

2009-03-15  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/wchar.h (wcsdup, _wcsdup_r): Declare.
	* libc/string/Makefile.am: Add wcsdup.c.
	* libc/string/Makefile.in: Regenerate.
	* libc/string/strings.tex: Add wcsdup documentation reference.
	* libc/string/wcsdup.c: New file.

2009-03-14  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/stdlib.h (_mkstemp_r, _mktemp_r): Move out of
	!_REENT_ONLY section.

2009-03-14  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/stdio.h (_mkstemp_r, _mktemp_r): Move declarations
	to stdlib.h.
	* libc/include/stdlib.h (mktemp, _mktemp_r): Warn when using.
	* libc/stdio/mktemp.c: Explain the security risk when using
	mktemp.

2009-03-12  Craig Howland <howland@LGSInnovations.com>

	* libc/time/time.tex (wcsftime.def):  Include.
	* libc/time/wcsftime.c:  Clean up documentation a little.

2009-03-12  Craig Howland <howland@LGSInnovations.com>

	* libc/stdio/swscanf.c:  Some documentation corrections.

2009-03-12  Craig Howland <howland@LGSInnovations.com>

	* libc/stdio/swprintf.c (_swprintf_r, swprintf):
	correct how terminating L'\0' is added;
	change return to match standard for when output does not fit;
	some corrections and enhancements to the docs.
	* libc/stdio/vswprintf.c (_vswprintf_r):  ditto, except for docs.
	* libc/stdio/vfwprintf.c:  some corrections to the docs and some
	enhancements to comments.  (No code changes.)
	* libc/time/strftime.c:  Correct some problems that made wcsftime()
	not work correctly:  work properly with swprintf returns that are
	different from snprintf returns, correct test vector lengths for
	when sizeof(wchar_t) > 1.
	* libc/stdio/sprintf.c:  Some documentation and comment corrections and
	enhancements to match those done to swprintf.c.

2009-03-11  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/wchar.h (wcscasecmp, wcsncasecmp): Declare.
	* libc/string/Makefile.am: Add wcscasecmp.c, wcsncasecmp.c
	* libc/stdio/Makefile.in: Regenerate.
	* libc/string/strings.tex: Add new documentation references.
	* libc/string/wcscasecmp.c: New file.
	* libc/string/wcsncasecmp.c: New file.

2009-03-11  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/wchar.h (fwscanf, swscanf, vfwscanf, vswscanf, vwscanf,
	wscanf): Declare.
	(_fwscanf_r, _swscanf_r, _vfwscanf_r, _vswscanf_r, _vwscanf_r,
	_wscanf_r): Declare.
	* libc/stdio/Makefile.am: Add new wscanf files.
	* libc/stdio/Makefile.in: Regenerate.
	* libc/stdio/fwscanf.c: New file.
	* libc/stdio/local.h (__svfwscanf_r, __ssvfwscanf_r, __svfiwscanf_r,
	__ssvfiwscanf_r): Declare.
	* libc/stdio/stdio.tex: Add new documentation references.
	* libc/stdio/swscanf.c: New file.
	* libc/stdio/vfwscanf.c: New file.
	* libc/stdio/vswscanf.c: New file.
	* libc/stdio/vwscanf.c: New file.
	* libc/stdio/wscanf.c: New file.

	* libc/stdio/vfscanf.c (_sungetc_r): Make externaly available.  Only
	define if INTEGER_ONLY is defined.  Declare otherwise.
	(__ssrefill_r): Ditto.
	(_sfread_r): Ditto.

	Remove static eofread/eofread1 functions and use __seofread
	function instead, throughout.
	* libc/stdio/local.h (__seofread): Declare.
	* libc/stdio/stdio.c (__seofread): Define.

	* libc/stdio/fgetwc.c (__fgetwc): Fix compiler warning.
	* libc/stdio/fgetws.c (_fgetws_r): Ditto.
	* libc/stdio/fread.c (_fread_r): Ditto.
	* libc/stdio/vfprintf.c: Ditto.
	* libc/stdio/vswprintf.c: Ditto.

2009-03-09  Brooks Moses  <brooks@codesourcery.com>

	* libc/machine/arm/arm_asm.h: Fix typo.

2009-03-09  Craig Howland <howland@LGSInnovations.com>

	* libc/time/strftime.c:  Adapt for dual-purpose use so not only
	defines strftime(), but can also define wcsftime(); add optional
	test package; speed up %Y handling.
	* libc/time/wcsftime.c:  New file, defining wcsftime() (albeit
	indirectly by including strftime.c) and its documentation.
	* libc/time/time.tex:  Enhance tm_isdst explanation, change strftime
	description to match modified description in strftime.c
	* libc/time/Makefile.am:  Add wcsftime.c and wcsftime.def.  Add a rule
	so that wcsftime.o gets rebuilt when strftime changes.
	* libc/time/Makefile.in:  Regenerate.
	* libc/include/wchar.h (wcsftime): Declare.

2009-03-06  Hans-Erik Floryd <hans-erik.floryd@rt-labs.com>,
	    Corinna Vinschen  <corinna@vinschen.de>

	* libc/reent/reent.c (_reclaim_reent): Make a block from MP-related
	statements in _REENT_SMALL case.  Check if _atexit is not NULL before
	dereferencing it.
	(_wrapup_reent): Check if _atexit is not NULL before dereferencing it.

2009-03-06  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/stdio.h (__VALIST): Guard against multiple definition.
	* libc/include/wchar.h: Include stdarg.h.
	(__VALIST): Define conditionally.
	(fwprintf, swprintf, vfwprintf, vswprintf, vwprintf, wprintf): Declare.
	(_fwprintf_r, _swprintf_r, _vfwprintf_r, _vswprintf_r, _vwprintf_r,
	 _wprintf_r): Declare.
	* libc/stdio/Makefile.am: Add new files.
	* libc/stdio/Makefile.in: Regenerate.
	* libc/stdio/fwprintf.c: New file.
	* libc/stdio/local.h (_svfwprintf_r, _svfiwprintf_r): Declare.
	(__CH_CLASS, __STATE, __ACTION): Move definition from vfprintf.c here
	and move to the __ namespace.
	(__chclass, __state_table, __action_table): Declare.
	* libc/stdio/stdio.tex: Add new documentation references.
	* libc/stdio/swprintf.c: New file.
	* libc/stdio/vfprintf.c (__SPRINT): New macro to call the right
	__sprint_r function according to compilation unit.  Use throughout.
	(__ssprint_r): Rename STRING_ONLY variant from __sprint_r.
	Make externaly available.  Only define if INTEGER_ONLY is defined.
	(__sprint_r): Make externaly available.  Only define if INTEGER_ONLY
	is defined.  Handle stream orientation.
	(__sbprintf): Copy FILE's _flags2 member as well.
	(__chclass, __state_table, __action_table): Prepend __ to name and
	make externally available.
	* libc/stdio/vfwprintf.c: New file.
	* libc/stdio/vswprintf.c: New file.
	* libc/stdio/vwprintf.c: New file.
	* libc/stdio/wprintf.c: New file.

2009-03-03  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/locale.c (_setlocale_r): New implementation based on
	FreeBSD's setlocale.
	(currentlocale): New helper function.
	(loadlocale): Ditto.
	(__locale_charset): New function.
	(__locale_msgcharset): Rename from __locale_charset.
	* libc/ctype/local.h (__lc_ctype): Remove declaration.
	(__locale_charset): Declare.
	* libc/ctype/iswalpha.c (iswalpha): Call __locale_charset instead of
	using __lc_ctype directly.  Only compare against the charset alone.
	* libc/ctype/iswblank.c (iswblank): Ditto.
	* libc/ctype/iswcntrl.c (iswcntrl): Ditto.
	* libc/ctype/iswprint.c (iswprint): Ditto.
	* libc/ctype/iswpunct.c (iswpunct): Ditto.
	* libc/ctype/iswspace.c (iswspace): Ditto.
	* libc/ctype/towlower.c (towlower): Ditto.
	* libc/ctype/towupper.c (towupper): Ditto.
	* libc/stdlib/mbtowc_r.c (_mbtowc_r): Ditto.
	* libc/stdlib/wctomb_r.c (_wctomb_r): Ditto.
	* libc/sys/linux/intl/loadmsgcat.c (_nl_init_domain_conv): Call
	__locale_msgcharset instead of __locale_charset.

2009-03-02  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdlib/wctomb_r.c (_wctomb_r): When checking single-byte
	charset, cast wchar to size_t in case wchar_t is signed.
	* libc/stdlib/wctomb.c (wctomb): Add similar single-byte check.

2009-03-02  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdlib/wctomb_r.c (_wctomb_r): Return EILSEQ in case of an
	invalid wchar.  Return -1 if wchar doesn't fit into singlebyte
	value in case of using a singlebyte charset.

2009-02-26  Brooks Moses  <brooks@codesourcery.com>

	* libc/machine/arm/strcpy.c: Add missing comma.

2009-02-26  Ralf Corsepius  <ralf.corsepius@rtems.org>

	* libc/machine/lm32/configure.in: Let
	AC_CONFIG_SRCDIR point to setjmp.S instead of setjmp.s
	* libs/machine/lm32/configure: Regenerate.

2009-02-25  Brooks Moses  <brooks@codesourcery.com>

	* libc/stdlib/Makefile.am (CHEWOUT_FILES): Add
	  mbsnrtowcs.def, wcsnrtombs.def.
	* libc/stdlib/Makefile.in: Regenerate.
	* libc/stdlib/stdlib.tex (@menu): Use correct section
	  names for mbsrtowcs, wcsrtombs.
	* libc/stdlib/wcstod.c: Remove stray character in
	  documentation.

2009-02-25  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdlib/mbtowc_r.c (_mbtowc_r): Remove conversion of 5 and 6
	byte UTF-8 sequences since they are invalid in the Unicode standard.
	Handle surrogate pairs in case of wchar_t == UTF-16.
	* libc/stdlib/wctomb_r.c (_wctomb_r): Don't convert invalid Unicode
	wchar_t values beyond 0x10ffff into UTF-8 chars.  Handle surrogate
	pairs in case of wchar_t == UTF-16.

2009-02-24  Kevin Buettner  <kevinb@redhat.com>

	* libc/stdio/open_memstream.c (stdint.h): Include.

2009-02-23  Craig Howland  <howland@LGSInnovations.com>

	* libc/unix/ttyname.c:  Remove ttyname_r() (to a new file to avoid
	coupling ttyname_r() and ttyname() due to the latter's large buffer).
	* libc/unix/ttyname_r.c:  New file to hold ttyname_r(), previously in
	ttyname.c.
	* libc/unix/ttyname.h:  New file (common size definition for the 2
	ttyname*c files that are now split).
	* libc/unix/Makefile.am (ELIX_2_SOURCES):  Add ttyname_r.c.
	* libc/unix/Makefile.in:  Regenerate.

2009-02-19  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/wchar.h (mbsnrtowcs): Declare.
	(_mbsnrtowcs_r): Declare.
	(wcsnrtombs): Declare.
	(_wcsnrtombs_r): Declare.
	* libc/stdlib/Makefile.am (ELIX_2_SOURCES): Add mbsnrtowcs.c
	and wcsnrtombs.c.
	* libc/stdlib/Makefile.in: Regenerate.
	* libc/stdlib/mbsnrtowcs.c: New file, implementing _mbsnrtowcs_r
	and mbsnrtowcs.  Document mbsnrtowcs and mbsrtowcs.
	* libc/stdlib/mbsrtowcs.c (_mbsrtowcs_r): Just call _mbsnrtowcs_r.
	(mbsrtowcs): Ditto.
	* libc/stdlib/wcsnrtombs.c: New file, implementing _wcsnrtombs_r
	and wcsnrtombs.  Document wcsrtombs and wcsnrtombs.
	* libc/stdlib/wcsrtombs.c (_wcsrtombs_r): Just call _wcsnrtombs_r.
	(wcsrtombs): Ditto.
	* libc/stdlib/stdlib.tex: Accommodate new documentation.

2009-02-18  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/open_memstream.c (internal_open_memstream_r): Fix max
	buffer size to be in wchar_t units if wide == 1 is passed in.  In
	this case, also initialize the first character of the buffer to be
	wide char null.
	(_open_wmemstream_r): Cast buf to be (char **) to avoid warning.
	* libc/stdlib/mbtowc_r.c (_mbtowc_r): Change all occurences of
	incrementing the size_t value n to first check that n is not already
	size_t -1.  Fix some compiler warnings.
	* libc/stdlib/wcstod.c: Add includes for <wctype.h> and <math.h>.

2009-02-18  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdio/open_memstream.c: Add open_wmemstream to doumentation.
	(struct memstream): Add wide element.
	Change saved to a union to take char and wchar_t values.
	(memwriter): Accommodate wide-oriented oeprations.
	(memseeker): Ditto.
	(memseeker64): Ditto.
	(memcloser): Ditto.
	(internal_open_memstream_r): New static function.  Take functionality
	from former _open_memstream_r and handle additional "wide" parameter.
	(_open_memstream_r): Just call internal_open_memstream_r with wide==-1
	from here.
	(_open_wmemstream_r): New function.
	(open_wmemstream): Ditto.
	* libc/include/wchar.h (open_wmemstream): Declare.
	(_open_wmemstream_r): Declare.

2009-02-16  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdio/fputwc.c: Fix typo in man page info.

2009-02-12  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/wchar.h (_wcstod_r): Declare.
	(_wcstof_r): Declare.
	(wcstod): Declare.
	(wcstof): Declare.
	* libc/stdlib/Makefile.am (GENERAL_SOURCES): Add wcstod.c.
	(CHEWOUT_FILES): Add wcstod.def.
	* libc/stdlib/Makefile.in: Regenerate.
	* libc/stdlib/stdlib.tex: Add wcstod.
	* libc/stdlib/wcstod.c: New file.

2009-02-05  Neal H. Walfield  <neal@gnu.org>

	* libc/machine/x86_64/memcpy.S (memcpy): Don't use the red zone.

2009-01-28  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/vfscanf.c (__SVFSCANF_R): Add additional check for
	inf and nan processing to not proceed if we have already collected
	zeroes.

2009-01-26  DJ Delorie  <dj@redhat.com>

	* configure.host (m32c-*-*): Add long long I/O support by default.

2009-01-21  Richard Earnshaw  <rearnsha@arm.com>

	* libc/machine/arm/arm_asm.h: New file.
	* libc/machine/arm/strlen.c: New file.
	* libc/machine/arm/strcpy.c: New file.
	* libc/machine/arm/strcmp.c: New file.
	* libc/machine/arm/Makefile.am: Add new string routines.

2009-01-19  Neal H. Walfield  <neal@gnu.org>

	* libc/include/stdint.h (INT64_C, UINT64_C, INTMAX_C, UINTMAX_C)
	[__have_long64 && __have_longlong64]: Use L and UL, not LL and ULL.
	* libc/include/inttypes.h (__PRI64, __SCN64, __PRIMAX, __SCNMAX,
	__PRIPTR, __SCNPTR) [__have_long64 && __have_longlong64]: Use l,
	not ll.

2009-01-12  Nathan Froyd  <froydnj@codesourcery.com>

	* libc/machine/powerpc/vfscanf.c (__sccl): Remove declaration.

2009-01-12  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/fwalk.c (__fwalk, __fwalk_reent): Remove locking of
	each fp.  Let the function being called lock the fp, if necessary.

2009-01-07  Kazu Hirata  <kazu@codesourcery.com>

	* libc/include/sys/stdio.h (_flockfile, _funlockfile): Fix typos.

2009-01-05  Craig Howland <howland@LGSInnovations.com>

	* libc/stdio/fwide.c:  Correct typo in TRAD_SYNOPSIS for _fwide_r.

2008-12-19  Jeff Johnston  <jjohnstn@redhat.com>

	* NEWS: Update with 1.17.0 info.
	* README: Ditto.
	* acinclude.m4: Change version number to 1.17.0.
	* aclocal.m4: Regenerated.
	* configure: Ditto.
	* doc/aclocal.m4: Ditto.
	* doc/configure: Ditto.
	* libc/*/aclocal.m4: Ditto.
	* libc/*/configure: Ditto.
	* libc/libc.texinfo: Ditto.
	* libm/*/aclocal.m4: Ditto.
	* libm/*/configure: Ditto.
	* libm/libm.texinfo: Ditto.
	* libc/sys/linux/shared.ld: Add VERS_1.17

2008-12-17  Jon Beniston <jon@beniston.com>

	* configure.host: Set syscall_dir for lm32 target.

2008-12-15  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/stdio.tex: Remove putwc and getwc references as they
	are included as part of fputwc and fgetwc, respectively.

2008-12-12  Craig Howland <howland@LGSInnovations.com>

	* libc/include/wchar.h:  Added wcstok() declaration.
	* libc/string/wcstok.c: New file, implementing wcstok.
	* libc/string/Makefile.am: Add wcstok support.
	* libc/string/wcstrings.tex: Ditto.
	* libc/string/Makefile.in: Regenerated.

2008-12-12  Ralf Corsepius  <ralf.corsepius@rtems.org>

	* libc/stdio/fputws.c: Fix documentation.
	* libc/stdio/getwchar.c: Ditto.
	* libc/stdio/putwchar.c: Ditto.

2008-12-12  Ralf Corsepius  <ralf.corsepius@rtems.org>

	* libc/include/sys/features.h: Set RTEMS's _POSIX_MONOTONIC_CLOCK to
	200112L (SUSv3 compliance).
	Comment out RTEMS's _POSIX_SHARED_MEMORY_OBJECTS (Unsupported).

2008-12-12  Ralf Corsepius  <ralf.corsepius@rtems.org>

	* libc/sys/rtems/crt0.c: Add stubs for getdents(), nanosleep(),
	_execve(), _exit().

2008-12-12  Ralf Corsepius  <ralf.corsepius@rtems.org>

	* configure.host: Let *rtems* default to c99-formats.

2008-12-12  Craig Howland  <howland@LGSInnovations.com>

	* libc/stdio/freopen.c:  Add <string.h> for memset prototype.
	* libc/stdio/fseek.c:  Ditto.
	* libc/stdio/fwide.c:  Add <wchar.h> for fwide prototype.

2008-12-11 Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/time.h (gettimeofday): Change prototype so
	2nd parameter is void *, matching SUSV2.
	* libc/syscalls/sysgettod.c (gettimeofday): Ditto.

2008-12-11 Jukka Pietarinen <jukka.pietarinen@mrf.fi>

	* configure.host: Add lm32
	* libc/include/machine/ieeefp.h: Add __lm32__
	* libc/include/machine/setjmp.h: Add __lm32__
	* libc/machine/configure.in: Add lm32
	* libc/machine/configure: Regenerated.
	* libc/machine/lm32/aclocal.m4: New file.
	* libc/machine/lm32/configure.in: Ditto.
	* libc/machine/lm32/configure: Ditto.
	* libc/machine/lm32/Makefile.am: Ditto.
	* libc/machine/lm32/Makefile.in: Ditto.
	* libc/machine/lm32/setjmp.s: Ditto.

2008-12-11  Craig Howland  <howland@LGSInnovations.com>

	* libc/include/sys/lock.h:  Add void cast to avoid "statement has no
	effect" warnings from gcc.
	* libc/include/sys/stdio.h:  Ditto.
	* libc/include/sys/time.h:  Correct gettimeofday() prototype.
	* libc/stdlib/__exp10.c:  Add #include "std.h" for function prototype.
	* libc/stdlib/__ten_mu.c:  Ditto.
	* libc/stdlib/std.h:  Correct __exp10's ANSI prototype.
	* libc/stdlib/ldtoa.c:  Change eiisinf definition to ANSI form.  (Are
	already others in file without _ansi method, so did not bother.)
	* libc/stdlib/system.c:  Use _ansi forms for function prototypes and
	definitions.
	* libc/time/mktime.c:  Ditto.
	* libc/misc/__dprintf.c:  Ditto.
	* libc/include/stdio.h:  Add function prototypes for _fgetc_r,
	_fgetpos_r, _fsetpos_r, _freopen_r, _rewind_r, freopen64, _freopen64_r,
	_funopen_r, and _fopencookie_r.
	* libc/include/reent.h:  Add function prototype for _stat64_r, align
	_execve_r prototype with POSIX definition for execve.
	* libc/reent/execr.c:  Align function prototype with POSIX definition.
	* libc/stdio/asniprintf.c:  Add #include "local.h".
	* libc/stdio/vasniprintf.c:  Ditto.
	* libc/stdio/fread.c:  Remove unused variable newcount.
	* libc/stdio/local.h:  Add function prototype for __sccl.
	* libc/stdio/open_memstream.c:  Remove unused variable flags.
	* libc/stdio/vfscanf.c:  Proper prototyping for ccfn, remove prototype
	for __sccl since now in local.h.
	* libc/string/memcpy.c:  Add #include <string.h> (for real and for
	traditional synopsis), remove extraneous stddef.h and limits.h.
	* libc/syscalls/sysclose.c:  Add #include <unistd.h>.
	* libc/syscalls/sysfork.c:  Ditto.
	* libc/syscalls/sysgetpid.c:  Ditto.
	* libc/syscalls/sysexecve.c:  Add #include <unistd.h>, align function
	prototype with POSIX definition.
	* libc/syscalls/sysfstat.c:  Add #include <sys/stat.h>.
	* libc/syscalls/sysgettod.c:  Correct sys/times.h to sys/time.h.
	* libc/syscalls/syskill.c:  Add #include <signal.h>.
	* libc/syscalls/syslink.c:  Add #include <unistd.h>, fix prototype.
	* libc/syscalls/sysunlink.c:  Ditto.
	* libc/syscalls/sysstat.c:  Add #include <sys/stat.h>, fix prototype.
	* libc/syscalls/syswait.c:  Add #include <sys/wait.h>, fix prototype.

2008-12-10  Corinna Vinschen  <corinna@vinschen.de>

	Implement basic wide char stdio functionality, based on FreeBSD.
	* libc/include/stdio.h (__SORD): Define.
	(__SWID): Define.
	* libc/include/wchar.h: Add declarations for new wide char functions.
	(getwc): Define as macro.
	(getwchar): Ditto.
	(putwc): Ditto.
	(putwchar): Ditto.
	* libc/include/sys/reent.h (struct __sFILE): Add _mbstate member.
	(struct __sFILE64): Ditto.
	* libc/stdio/Makefile.am (ELIX_4_SOURCES): Add fgetwc.c, fgetws.c,
	fputwc.c, fputws.c, fwide.c, getwc.c, getwchar.c, putwc.c, putwchar.c
	and ungetwc.c.
	(CHEWOUT_FILES): Add fgetwc.def, fgetws.def, fputwc.def, fputws.def,
	fwide.def, getwc.def, getwchar.def, putwc.def, putwchar.def and
	ungetwc.def.
	Add header dependency rules for the new files.
	* libc/stdio/Makefile.in: Regenerate.
	* libc/stdio/fgetwc.c: New file, implementing fgetwc and _fgetwc_r.
	* libc/stdio/fgetws.c: New file, implementing fgetws and _fgetws_r.
	* libc/stdio/findfp.c (std): Initialize FILE's _mbstate member.
	(__sfmoreglue): Ditto.
	* libc/stdio/fputs.c (_fputs_r): Set stream orientation.
	* libc/stdio/fputwc.c: New file, implementing fputwc and _fputwc_r.
	* libc/stdio/fputws.c: New file, implementing fputws and _fputws_r.
	* libc/stdio/fread.c (_fread_r): Set stream orientation.
	* libc/stdio/freopen.c (_freopen_r): Reset stream orientation.  Reset
	_mbstate.
	* libc/stdio/fseek.c (_fseek_r): Reset _mbstate.
	* libc/stdio/fwide.c: New file, implementing fwide and _fwide_r.
	* libc/stdio/fwrite.c (_fwrite_r): Set stream orientation.
	* libc/stdio/getwc.c: New file, implementing getwc and _getwc_r.
	* libc/stdio/getwchar.c: New file, implementing getwchar and
	_getwchar_r.
	* libc/stdio/local.h (ORIENT): New macro.
	* libc/stdio/puts.c (_puts_r): Set stream orientation.
	* libc/stdio/putwc.c: New file, implementing putwc and _putwc_r.
	* libc/stdio/putwchar.c: New file, implementing putwchar and
	_putwchar_r.
	* libc/stdio/refill.c (__srefill_r): Set stream orientation.
	* libc/stdio/stdio.tex: Add documentation for new functions.
	* libc/stdio/ungetc.c (_ungetc_r): Set stream orientation.
	* libc/stdio/ungetwc.c: New file, implementing ungetwc and _ungetwc_r.
	* libc/stdio/vfscanf.c (__SVFSCANF_R): Set stream orientation.
	* libc/stdio/wbuf.c (__swbuf_r): Ditto.

2008-12-10  Joseph Myers  <joseph@codesourcery.com>

	* libc/include/stdint.h (INT32_MIN, INT32_MAX, UINT32_MAX,
	INT_LEAST32_MIN, INT_LEAST32_MAX, UINT_LEAST32_MAX): Define to
	constants with "long" types where appropriate.
	(INT_FAST8_MIN, INT_FAST8_MAX, UINT_FAST8_MAX, INT_FAST16_MIN,
	INT_FAST16_MAX, UINT_FAST16_MAX, INT_FAST32_MIN, INT_FAST32_MAX,
	UINT_FAST32_MAX, INT_FAST64_MIN, INT_FAST64_MAX, UINT_FAST64_MAX):
	Correct to match logic for defining corresponding types.
	(INTMAX_MAX, INTMAX_MIN, UINTMAX_MAX): Define.
	(SIZE_MAX): Define using __SIZE_MAX__ if available.
	(PTRDIFF_MAX): Define using __PTRDIFF_MAX__ if available.
	(PTRDIFF_MIN): Define in terms of PTRDIFF_MAX.
	(WCHAR_MAX, WCHAR_MIN, WINT_MAX, WINT_MIN): Define.
	(UINT8_C, UINT16_C): Define to give signed values if corresponding
	types would promote to int.

2008-12-04  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/features.h (_POSIX_V6_ILP32_OFF32): Always define.
	(_POSIX_V6_LP64_OFF64): Ditto.
	(_POSIX_V6_LPBIG_OFFBIG): Ditto.

2008-11-28  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/inode.c: Include <dirent.h> instead of
	<linux/dirent.h>.
	* libc/sys/linux/io64.c: Add weak alias for _stat64.

2008-11-27  Ralf Corsepius <ralf.corsepius@rtems.org>

	* libc/posix/telldir.c: Use #if !defined() instead of #ifndef
	to fix GCC warning.

2008-11-27  Ken Werner  <ken.werner@de.ibm.com>

	* libc/machine/spu/Makefile.am: Add spu-mcount.S spu-gmon.c.
	* libc/machine/spu/Makefile.in: Regenerated.
	* libc/machine/spu/spu-gmon.c: New file.
	* libc/machine/spu/spu-mcount.S: New file.

2008-11-27  Joel Sherrill <joel.sherrill@oarcorp.com>

	* configure.host (*-rtems*): Turn on using portion of unix subdirectory.

2008-11-27  Craig Howland <howland@LGSInnovations.com>

	* libc/argz/argz_add.c:  Added #include <argz.h> to get function
	prototypes.
	* libc/argz/argz_append.c: Ditto.
	* libc/argz/argz_count.c: Ditto.
	* libc/argz/argz_create.c: Ditto.
	* libc/argz/argz_create_sep.c: Ditto.
	* libc/argz/argz_delete.c: Ditto.
	* libc/argz/argz_next.c: Ditto.
	* libc/argz/argz_stringify.c: Ditto
	* libc/stdlib/strtod.c: Added #include <stdlib.h> to get function
	prototypes.
	* libc/stdlib/wcstoul.c: Added #include <wchar.h> to get function
	prototypes, corrected traditional usage comment.
	* libc/include/wchar.h: Added _mbsrtowcs_r() prototype.

2008-11-26 Ken Werner <ken.werner@de.ibm.com>

	* libm/machine/spu/headers/acosd2.h: Rebase against current simdmath.
	* libm/machine/spu/headers/asind2.h: Likewise.
	* libm/machine/spu/headers/asinhf4.h: Likewise.
	* libm/machine/spu/headers/divd2.h: Likewise.
	* libm/machine/spu/headers/erf_utils.h: Likewise.
	* libm/machine/spu/headers/erfcd2.h: Likewise.
	* libm/machine/spu/headers/erfcf4.h: Likewise.
	* libm/machine/spu/headers/erfd2.h: Likewise.
	* libm/machine/spu/headers/recipd2.h: Likewise.

2008-11-25  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdio/gets.c (_gets_r): Lock stdin here and call
	__sgetc_r instead of _getchar_r.

2008-11-24  Craig Howland  <howland@LGSInnovations.com>

	* libc/stdlib/wcstoull_r.c:  Add EINVAL return for bad base value,
	include wchar.h for prototype, remove extraneous includes, use
	C99/POSIX ULLONG_MAX (but allow for poor limits.h).
	* libc/stdlib/wcstoull.c:  Fix usage comments (mistakes and to add
	base value check noted above), remove extraneous includes.
	* libc/stdio/asnprintf.c:  Add #include "local.h" to get function
	prototype for _svfprintf_r().
	* libc/stdio/vasnprintf.c:  Ditto.
	* libc/stdio/local.h:  Add function prototype for __submore().
	* libc/include/stdio.h:  Add function prototypes for _fseeko_r and
	_ftello_r.
	* libc/posix/namespace.h:  Commented out define for write to
	eliminate write() prototype being missing for collate.c (which is
	the only file that presently includes namespace.h).
	* libc/include/reent.h:  Added _rename_r.
	* libc/reent/renamer.c:  Corrected function prototypes in synopses.
	* libc/locale/ldpart.c:  Use struct stat64 when calling fstat64.

2008-11-24  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/search/hash_func.c: Comment out unused static hash functions.
	* libc/reent/stat64r.c: New file.
	* libc/reent/Makefile.am: Add stat64r.c support.
	* libc/reent/Makefile.in: Regenerated.

2008-11-24  Joel Sherrill <joel.sherrill@oarcorp.com>

	* libc/posix/scandir.c: Fix memory leaks.

2008-11-24  Joel Sherrill <joel.sherrill@oarcorp.com>

	* libc/posix/Makefile.am: Compile readdir_r.c not readdir.c twice.
	* libc/posix/Makefile.in: Regenerated.

2008-11-24  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/stdio.h (__SMOD): Remove definition of unused flag.
	* libc/include/sys/reent.h (struct __sFILE): Add _flags2 member.
	* libc/stdio/findfp.c (std): Initialize _flags2.
	(__sfp): Ditto.
	* libc/stdio/refill.c (__srefill_r): Drop resetting __SMOD flag.
	* libc/stdio/vfscanf.c (__ssrefill_r): Ditto.
	* libc/stdio/fseek.c (_fseek_r): Drop checking __SMOD flag.
	* libc/stdio64/fseeko64.c (_fseeko64_r): Ditto.

2008-11-20  Ken Werner  <ken.werner@de.ibm.com>

	* libc/machine/spu/sys/linux_syscalls.h: Additional syscall defines to
	be in sync with current kernels.

2008-11-20  Ken Werner  <ken.werner@de.ibm.com>
	    Patrick Mansfield  <patmans@us.ibm.com>
	    Joel Schopp   <jschopp@austin.ibm.com>

	* libc/machine/spu/configure.in: Add __ea detection.
	* libc/machine/spu/Makefile.am: Add new files.
	* libc/machine/spu/include/ea.h: New file.
	* libc/machine/spu/ea_internal.h: Likewise.
	* libc/machine/spu/sys/mman.h: Likewise.
	* libc/machine/spu/mmap_ea.c: Likewise.
	* libc/machine/spu/munmap_ea.c: Likewise.
	* libc/machine/spu/mremap_ea.c: Likewise.
	* libc/machine/spu/msync_ea.c: Likewise.
	* libc/machine/spu/memchr_ea.c: Likewise.
	* libc/machine/spu/memcmp_ea.c: Likewise.
	* libc/machine/spu/memcpy_ea.c: Likewise.
	* libc/machine/spu/memmove_ea.c: Likewise.
	* libc/machine/spu/memset_ea.c: Likewise.
	* libc/machine/spu/malloc_ea.c: Likewise.
	* libc/machine/spu/realloc_ea.c: Likewise.
	* libc/machine/spu/calloc_ea.c: Likewise.
	* libc/machine/spu/free_ea.c: Likewise.
	* libc/machine/spu/posix_memalign_ea.c: Likewise.
	* libc/machine/spu/strcat_ea.c: Likewise.
	* libc/machine/spu/strchr_ea.c: Likewise.
	* libc/machine/spu/strcmp_ea.c: Likewise.
	* libc/machine/spu/strcpy_ea.c: Likewise.
	* libc/machine/spu/strcspn_ea.c: Likewise.
	* libc/machine/spu/strlen_ea.c: Likewise.
	* libc/machine/spu/strncat_ea.c: Likewise.
	* libc/machine/spu/strncmp_ea.c: Likewise.
	* libc/machine/spu/strncpy_ea.c: Likewise.
	* libc/machine/spu/strpbrk_ea.c: Likewise.
	* libc/machine/spu/strrchr_ea.c: Likewise.
	* libc/machine/spu/strspn_ea.c: Likewise.
	* libc/machine/spu/strstr_ea.c: Likewise.
	* libc/machine/spu/read_ea.c: Likewise.
	* libc/machine/spu/pread_ea.c: Likewise.
	* libc/machine/spu/readv_ea.c: Likewise.
	* libc/machine/spu/write_ea.c: Likewise.
	* libc/machine/spu/pwrite_ea.c: Likewise.
	* libc/machine/spu/writev_ea.c: Likewise.

2008-11-19  Joel Sherrill <joel.sherrill@oarcorp.com>

	* libc/include/sys/config.h[__mips__]: Don't bother
	setting __ATTRIBUTE_IMPURE_PTR__ here.
	[__rtems__][__mips__]: No need to undef the __ATTRIBUTE_IMPURE_PTR__
	macro anymore.

2008-11-19  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/bits/dirent.h: New header file.
	* libc/sys/linux/sys/dirent.h: Include <bits/dirent.h> instead of
	<linux/dirent.h>.
	* libc/posix/Makefile.am: Remove reallocf.
	* libc/posix/Makefile.in: Regenerated.
	* libc/posix/reallocf.c: Moved to...
	* libc/stdlib/reallocf.c: Here
	* libc/stdlib/malloc.c: Add reallocf documentation.
	* libc/include/stdlib.h: Add reallocf and _reallocf_r prototypes.
	* libc/stdlib/Makefile.am: Add reallocf.
	* libc/stdlib/Makefile.in: Regenerated.
	* libc/posix/_isatty.c: Set errno.

2008-11-19  Craig Howland  <howland@LGSInnovations.com>

	* libc/unix/collate.c (__collate_err): simplify to remove unnecessary
	strdup() and strlen() calls, also getting rid of a compiler warning.

2008-11-19  Ralf Corsepius <ralf.corsepius@rtems.org>

	* libc/include/sys/config.h: Don't put
	__ATTRIBUTE_IMPURE_PTR__ into .sdata section for mips-rtems.

2008-11-19  Ralf Corsepius  <ralf.corsepius@rtems.org>

	* libc/posix/runetype.h: Add include of stddef.h and remove
	defining standard types: size_t and wchar_t.

2008-11-19  Ralf Corsepius  <ralf.corsepius@rtems.org>

	* libc/include/pthread.h: Remove prototypes for
	pthread_attr_getcputime and pthread_attr_setcputime which
	were proposed but never approved by the POSIX standard.

2008-11-18  Joel Sherrill <joel.sherrill@oarcorp.com>

	* libc/unix/ttyname.c: Use isatty() instead of tcgetattr().

2008-11-18  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/unix/basename.c: Add !_NO_BASENAME flag check so code can be
	ignored if desired by a platform.
	* libc/unix/dirname.c: Ditto except replace BASENAME with file name.
	* libc/unix/getcwd.c: Ditto.
	* libc/unix/getlogin.c: Ditto.
	* libc/unix/getpass.c: Ditto.
	* libc/unix/getpwent.c: Ditto.
	* libc/unix/getut.c: Ditto.
	* libc/unix/pread.c: Ditto.
	* libc/unix/pwrite.c: Ditto.
	* libc/unix/sigset.c: Ditto.

2008-11-18  Craig Howland  <howland@LGSInnovations.com>

	* libc/unix/ttyname.c: Add ttyname_r and change ttyname to use
	ttyname_r.

2008-11-17  Joel Sherrill <joel.sherrill@oarcorp.com>

	* configure.host: RTEMS now uses posix subdirectory.

2008-11-17  Joel Sherrill <joel.sherrill@oarcorp.com>

	* sys/rtems/include/limits.h: Add _POSIX2_RE_DUP_MAX.
	* sys/rtems/sys/param.h: sys/rtprio.h not needed.

2008-10-31  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/diprintf.c: Modify documentation so eclipse newlib
	libhover docs generate properly.
	* libc/stdio/dprintf.c: Ditto.
	* libc/stdio/fflush.c: Ditto.
	* libc/stdio/fopencookie.c: Ditto.
	* libc/stdio/fread.c: Ditto.
	* libc/stdio/fsetpos.c: Ditto.
	* libc/stdio/getc_u.c: Ditto.
	* libc/stdio/getchar_u.c: Ditto.
	* libc/stdio/putc_u.c: Ditto.
	* libc/stdio/putchar_u.c: Ditto.
	* libc/stdio/remove.c: Ditto.
	* libc/stdio/siprintf.c: Ditto.
	* libc/stdio/siscanf.c: Ditto.
	* libc/stdio/sprintf.c: Ditto.
	* libc/stdio/sscanf.c: Ditto.
	* libc/stdio/vfprintf.c: Ditto.
	* libc/stdio/vfscanf.c: Ditto.
	* libc/stdio/viprintf.c: Ditto.
	* libc/stdio/viscanf.c: Ditto.
	* libc/stdlib/calloc.c: Ditto.
	* libc/stdlib/efgcvt.c: Ditto.
	* libc/stdlib/envlock.c: Ditto.
	* libc/time/asctime.c: Ditto.
	* libc/time/ctime.c: Ditto.
	* libc/time/gmtime.c: Ditto.
	* libc/time/lcltime.c: Ditto.
	* libc/time/tzset.c: Ditto.
	* libc/stdlib/envlock.h: Moved to libc/include.

2008-10-31  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/limits.h: Add ARG_MAX, PATH_MAX, and _POSIX2_RE_DUP_MAX.
	* libc/include/envlock.h: New file.
	* libc/include/fnmatch.h: Ditto.
	* libc/include/glob.h: Ditto.
	* libc/include/regex.h: Ditto.
	* libc/include/wordexp.h: Ditto.
	* libc/posix/Makefile.am: Add new files moved from
	libc/sys/linux/stdlib.
	* libc/posix/Makefile.in: Regenerated.
	* libc/posix/COPYRIGHT: New file moved from libc/sys/linux/stdlib.
	* libc/posix/cclass.h: Ditto.
	* libc/posix/cname.h: Ditto.
	* libc/posix/collate.c: Ditto.
	* libc/posix/collate.h: Ditto.
	* libc/posix/collcmp.c: Ditto.
	* libc/posix/engine.c: Ditto.
	* libc/posix/fnmatch.3: Ditto.
	* libc/posix/glob.3: Ditto.
	* libc/posix/fnmatch.c: Ditto.
	* libc/posix/glob.c: Ditto.
	* libc/posix/namespace.h: Ditto.
	* libc/posix/reallocf.c: Ditto.
	* libc/posix/regcomp.c: Ditto.
	* libc/posix/regerror.c: Ditto.
	* libc/posix/regex.3: Ditto.
	* libc/posix/regex2.h: Ditto.
	* libc/posix/regexec.c: Ditto.
	* libc/posix/regfree.c: Ditto.
	* libc/posix/rune.h: Ditto.
	* libc/posix/runetype.h: Ditto.
	* libc/posix/scandir.c: Remove advertising clause which is not in
	effect.
	* libc/posix/sysexits.h: Ditto.
	* libc/posix/un-namespace.h: Ditto.
	* libc/posix/utils.h: Ditto.
	* libc/posix/wordexp.c: Ditto.
	* libc/posix/wordfree.c: Ditto.
	* libc/posix/execl.c: Add !_NO_EXECVE flag check.
	* libc/posix/execle.c: Ditto.
	* libc/posix/execlp.c: Ditto.
	* libc/posix/execv.c: Ditto.
	* libc/posix/execve.c: Ditto.
	* libc/posix/execvp.c: Ditto.
	* libc/posix/popen.c: Add !_NO_POPEN flag check.
	* libc/sys/linux/configure: Regenerated.
	* libc/sys/linux/configure.in: Remove stdlib.
	* libc/sys/linux/include/limits.h: Add include of linux/limits.h.
	* libc/sys/linux/stdlib/Makefile.am: Removed.
	* libc/sys/linux/stdlib/Makefile.in: Ditto.
	* libc/sys/linux/stdlib/COPYRIGHT: Moved to libc/posix.
	* libc/sys/linux/stdlib/cclass.h: Ditto.
	* libc/sys/linux/stdlib/cname.h: Ditto.
	* libc/sys/linux/stdlib/collate.c: Ditto.
	* libc/sys/linux/stdlib/collate.h: Ditto.
	* libc/sys/linux/stdlib/collcmp.c: Ditto.
	* libc/sys/linux/stdlib/engine.c: Ditto.
	* libc/sys/linux/stdlib/fnmatch.3: Ditto.
	* libc/sys/linux/stdlib/fnmatch.c: Ditto.
	* libc/sys/linux/stdlib/glob.3: Ditto.
	* libc/sys/linux/stdlib/glob.c: Ditto.
	* libc/sys/linux/stdlib/reallocf.c: Ditto.
	* libc/sys/linux/stdlib/regcomp.c: Ditto.
	* libc/sys/linux/stdlib/regerror.c: Ditto.
	* libc/sys/linux/stdlib/regex.3: Ditto.
	* libc/sys/linux/stdlib/regex2.h: Ditto.
	* libc/sys/linux/stdlib/regexec.c: Ditto.
	* libc/sys/linux/stdlib/regfree.c: Ditto.
	* libc/sys/linux/stdlib/utils.h: Ditto.
	* libc/sys/linux/stdlib/wordexp.c: Ditto.
	* libc/sys/linux/stdlib/wordfree.c: Ditto.

2008-10-16  Joel Sherrill <joel.sherrill@oarcorp.com>

	* libc/include/sys/unistd.h: RTEMS follows standard for sync().

2008-10-16  Joel Sherrill <joel.sherrill@oarcorp.com>

	* libc/include/time.h: Add CLOCK_MONOTONIC.
	* libc/include/sys/features.h: Define
	_POSIX_MONOTONIC_CLOCK for RTEMS.

2008-10-15  Jeff Johnston  <jjohnstn@redhat.com>

	* newlib.hin: Restore to previous 1.14 version which has no
	PACKAGE_ macros.

2008-10-15  Joel Sherrill <joel.sherrill@oarcorp.com>

	* libc/include/sys/unistd.h: Enable ttyname_r() for RTEMS.

2008-10-15  Craig Howland  <howland@LGSInnovations.com>

	* libc/include/ctype.h (isblank):  isblank is C99.
	* libc/ctype/isblank.c (isblank comments):  ditto.  isblank does not
	have a macro version (as was claimed in the description).

2008-10-15  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/vfscanf.c (__ssvfiscanf_r): Do not support %lc, %C, %ls or
	%S conversions when the EL/IX level is 1.

2008-10-06  Eric Blake  <ebb9@byu.net>

	* libc/stdlib/ldtoa.c (etoasc): Fix rounding to even when fraction
	is 0.5 or 0.75.

2008-10-06  Craig Howland  <howland@LGSInnovations.com>

	* libc/time/tzset_r.c (_tzset_r):  Change US default start/end dates to
	2007 law revision of start in 2nd Sunday in March, end 1st Sun in Nov.

2008-10-02  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/string/str-two-way.h (critical_factorization): Cast the index
	operation to ensure unsigned rollover occurs when adding to SIZE_MAX.

2008-10-02  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/include/stdint.h (SIZE_MAX): Fix value which should
	be size of size_t, not int.
	(SIZE_MIN): Remove.
	* libc/sys/linux/sys/stdint.h: Ditto.

2008-10-02  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/reent.h[_REENT_SMALL](_REENT_INIT_RAND48): Add
	initialization of _rand_next to 1.

2008-09-29  Peter O'Gorman  <pogma@thewrittenword.com>
	    Steve Ellcey  <sje@cup.hp.com>

	* configure: Regenerate for new libtool.
	* aclocal.m4: Ditto.
	* Makefile.in: Ditto.
	* newlib.hin: Ditto.
	* doc/Makefile.in: Ditto.
	* doc/configure: Ditto.
	* iconvdata/Makefile.in: Ditto.
	* iconvdata/aclocal.m4: Ditto.
	* iconvdata/configure: Ditto.
	* libc/Makefile.in: Ditto.
	* libc/aclocal.m4: Ditto.
	* libc/configure: Ditto.
	* libc/argz/Makefile.in: Ditto.
	* libc/ctype/Makefile.in: Ditto.
	* libc/errno/Makefile.in: Ditto.
	* libc/iconv/Makefile.in: Ditto.
	* libc/iconv/ccs/Makefile.in: Ditto.
	* libc/iconv/ccs/binary/Makefile.in: Ditto.
	* libc/iconv/ces/Makefile.in: Ditto.
	* libc/iconv/lib/Makefile.in: Ditto.
	* libc/locale/Makefile.in: Ditto.
	* libc/machine/Makefile.in: Ditto.
	* libc/machine/aclocal.m4: Ditto.
	* libc/machine/configure: Ditto.
	* libc/machine/a29k/Makefile.in: Ditto.
	* libc/machine/a29k/configure: Ditto.
	* libc/machine/arm/Makefile.in: Ditto.
	* libc/machine/arm/configure: Ditto.
	* libc/machine/bfin/Makefile.in: Ditto.
	* libc/machine/bfin/configure: Ditto.
	* libc/machine/cris/Makefile.in: Ditto.
	* libc/machine/cris/configure: Ditto.
	* libc/machine/crx/Makefile.in: Ditto.
	* libc/machine/crx/configure: Ditto.
	* libc/machine/d10v/Makefile.in: Ditto.
	* libc/machine/d10v/configure: Ditto.
	* libc/machine/d30v/Makefile.in: Ditto.
	* libc/machine/d30v/configure: Ditto.
	* libc/machine/fr30/Makefile.in: Ditto.
	* libc/machine/fr30/configure: Ditto.
	* libc/machine/frv/Makefile.in: Ditto.
	* libc/machine/frv/configure: Ditto.
	* libc/machine/h8300/Makefile.in: Ditto.
	* libc/machine/h8300/configure: Ditto.
	* libc/machine/h8500/Makefile.in: Ditto.
	* libc/machine/h8500/configure: Ditto.
	* libc/machine/hppa/Makefile.in: Ditto.
	* libc/machine/hppa/configure: Ditto.
	* libc/machine/i386/Makefile.in: Ditto.
	* libc/machine/i386/aclocal.m4: Ditto.
	* libc/machine/i386/configure: Ditto.
	* libc/machine/i960/Makefile.in: Ditto.
	* libc/machine/i960/configure: Ditto.
	* libc/machine/iq2000/Makefile.in: Ditto.
	* libc/machine/iq2000/configure: Ditto.
	* libc/machine/m32c/Makefile.in: Ditto.
	* libc/machine/m32c/configure: Ditto.
	* libc/machine/m32r/Makefile.in: Ditto.
	* libc/machine/m32r/configure: Ditto.
	* libc/machine/m68hc11/Makefile.in: Ditto.
	* libc/machine/m68hc11/configure: Ditto.
	* libc/machine/m68k/Makefile.in: Ditto.
	* libc/machine/m68k/configure: Ditto.
	* libc/machine/m88k/Makefile.in: Ditto.
	* libc/machine/m88k/configure: Ditto.
	* libc/machine/mep/Makefile.in: Ditto.
	* libc/machine/mep/configure: Ditto.
	* libc/machine/mips/Makefile.in: Ditto.
	* libc/machine/mips/configure: Ditto.
	* libc/machine/mn10200/Makefile.in: Ditto.
	* libc/machine/mn10200/configure: Ditto.
	* libc/machine/mn10300/Makefile.in: Ditto.
	* libc/machine/mn10300/configure: Ditto.
	* libc/machine/mt/Makefile.in: Ditto.
	* libc/machine/mt/configure: Ditto.
	* libc/machine/necv70/Makefile.in: Ditto.
	* libc/machine/necv70/configure: Ditto.
	* libc/machine/powerpc/Makefile.in: Ditto.
	* libc/machine/powerpc/configure: Ditto.
	* libc/machine/sh/Makefile.in: Ditto.
	* libc/machine/sh/configure: Ditto.
	* libc/machine/sparc/Makefile.in: Ditto.
	* libc/machine/sparc/configure: Ditto.
	* libc/machine/spu/Makefile.in: Ditto.
	* libc/machine/spu/configure: Ditto.
	* libc/machine/tic4x/Makefile.in: Ditto.
	* libc/machine/tic4x/configure: Ditto.
	* libc/machine/tic80/Makefile.in: Ditto.
	* libc/machine/tic80/configure: Ditto.
	* libc/machine/v850/Makefile.in: Ditto.
	* libc/machine/v850/configure: Ditto.
	* libc/machine/w65/Makefile.in: Ditto.
	* libc/machine/w65/configure: Ditto.
	* libc/machine/x86_64/Makefile.in: Ditto.
	* libc/machine/x86_64/configure: Ditto.
	* libc/machine/xscale/Makefile.in: Ditto.
	* libc/machine/xscale/configure: Ditto.
	* libc/machine/xstormy16/Makefile.in: Ditto.
	* libc/machine/xstormy16/configure: Ditto.
	* libc/machine/z8k/Makefile.in: Ditto.
	* libc/machine/z8k/configure: Ditto.
	* libc/misc/Makefile.in: Ditto.
	* libc/posix/Makefile.in: Ditto.
	* libc/reent/Makefile.in: Ditto.
	* libc/search/Makefile.in: Ditto.
	* libc/signal/Makefile.in: Ditto.
	* libc/stdio/Makefile.in: Ditto.
	* libc/stdio64/Makefile.in: Ditto.
	* libc/stdlib/Makefile.in: Ditto.
	* libc/string/Makefile.in: Ditto.
	* libc/sys/Makefile.in: Ditto.
	* libc/sys/aclocal.m4: Ditto.
	* libc/sys/configure: Ditto.
	* libc/sys/a29khif/Makefile.in: Ditto.
	* libc/sys/a29khif/configure: Ditto.
	* libc/sys/arc/Makefile.in: Ditto.
	* libc/sys/arc/configure: Ditto.
	* libc/sys/arm/Makefile.in: Ditto.
	* libc/sys/arm/configure: Ditto.
	* libc/sys/d10v/Makefile.in: Ditto.
	* libc/sys/d10v/configure: Ditto.
	* libc/sys/decstation/Makefile.in: Ditto.
	* libc/sys/decstation/configure: Ditto.
	* libc/sys/h8300hms/Makefile.in: Ditto.
	* libc/sys/h8300hms/configure: Ditto.
	* libc/sys/h8500hms/Makefile.in: Ditto.
	* libc/sys/h8500hms/configure: Ditto.
	* libc/sys/linux/Makefile.in: Ditto.
	* libc/sys/linux/aclocal.m4: Ditto.
	* libc/sys/linux/configure: Ditto.
	* libc/sys/linux/argp/Makefile.in: Ditto.
	* libc/sys/linux/cmath/Makefile.in: Ditto.
	* libc/sys/linux/dl/Makefile.in: Ditto.
	* libc/sys/linux/iconv/Makefile.in: Ditto.
	* libc/sys/linux/intl/Makefile.in: Ditto.
	* libc/sys/linux/linuxthreads/Makefile.in: Ditto.
	* libc/sys/linux/linuxthreads/aclocal.m4: Ditto.
	* libc/sys/linux/linuxthreads/configure: Ditto.
	* libc/sys/linux/linuxthreads/machine/Makefile.in: Ditto.
	* libc/sys/linux/linuxthreads/machine/aclocal.m4: Ditto.
	* libc/sys/linux/linuxthreads/machine/configure: Ditto.
	* libc/sys/linux/linuxthreads/machine/i386/Makefile.in: Ditto.
	* libc/sys/linux/linuxthreads/machine/i386/aclocal.m4: Ditto.
	* libc/sys/linux/linuxthreads/machine/i386/configure: Ditto.
	* libc/sys/linux/machine/Makefile.in: Ditto.
	* libc/sys/linux/machine/aclocal.m4: Ditto.
	* libc/sys/linux/machine/configure: Ditto.
	* libc/sys/linux/machine/i386/Makefile.in: Ditto.
	* libc/sys/linux/machine/i386/aclocal.m4: Ditto.
	* libc/sys/linux/machine/i386/configure: Ditto.
	* libc/sys/linux/net/Makefile.in: Ditto.
	* libc/sys/linux/stdlib/Makefile.in: Ditto.
	* libc/sys/m88kbug/Makefile.in: Ditto.
	* libc/sys/m88kbug/configure: Ditto.
	* libc/sys/mmixware/Makefile.in: Ditto.
	* libc/sys/mmixware/configure: Ditto.
	* libc/sys/netware/Makefile.in: Ditto.
	* libc/sys/netware/configure: Ditto.
	* libc/sys/rdos/Makefile.in: Ditto.
	* libc/sys/rdos/configure: Ditto.
	* libc/sys/rtems/Makefile.in: Ditto.
	* libc/sys/rtems/configure: Ditto.
	* libc/sys/sh/Makefile.in: Ditto.
	* libc/sys/sh/configure: Ditto.
	* libc/sys/sparc64/Makefile.in: Ditto.
	* libc/sys/sparc64/configure: Ditto.
	* libc/sys/sun4/Makefile.in: Ditto.
	* libc/sys/sun4/configure: Ditto.
	* libc/sys/sysmec/Makefile.in: Ditto.
	* libc/sys/sysmec/configure: Ditto.
	* libc/sys/sysnec810/Makefile.in: Ditto.
	* libc/sys/sysnec810/configure: Ditto.
	* libc/sys/sysnecv850/Makefile.in: Ditto.
	* libc/sys/sysnecv850/configure: Ditto.
	* libc/sys/sysvi386/Makefile.in: Ditto.
	* libc/sys/sysvi386/configure: Ditto.
	* libc/sys/sysvnecv70/Makefile.in: Ditto.
	* libc/sys/sysvnecv70/configure: Ditto.
	* libc/sys/tic80/Makefile.in: Ditto.
	* libc/sys/tic80/configure: Ditto.
	* libc/sys/w65/Makefile.in: Ditto.
	* libc/sys/w65/configure: Ditto.
	* libc/sys/z8ksim/Makefile.in: Ditto.
	* libc/sys/z8ksim/configure: Ditto.
	* libc/syscalls/Makefile.in: Ditto.
	* libc/time/Makefile.in: Ditto.
	* libc/unix/Makefile.in: Ditto.
	* libm/Makefile.in: Ditto.
	* libm/aclocal.m4: Ditto.
	* libm/configure: Ditto.
	* libm/common/Makefile.in: Ditto.
	* libm/machine/Makefile.in: Ditto.
	* libm/machine/aclocal.m4: Ditto.
	* libm/machine/configure: Ditto.
	* libm/machine/i386/Makefile.in: Ditto.
	* libm/machine/i386/aclocal.m4: Ditto.
	* libm/machine/i386/configure: Ditto.
	* libm/machine/spu/Makefile.in: Ditto.
	* libm/machine/spu/configure: Ditto.
	* libm/math/Makefile.in: Ditto.
	* libm/mathfp/Makefile.in: Ditto.

2008-09-26  Craig Howland  <howland@LGSInnovations.com>

	* libc/stdlib/getenv_r.c (_getenv_r): Modify to not match if name
	contains an equal sign.

2008-09-25  Raphael Derossa Pereira  <raphaelpereira@gmail.com>

	* libc/include/pthread.h[_UNIX98_THREAD_MUTEX_ATTRIBUTES]: Add
	new pthread_mutexattr_gettype and pthread_mutexattr_settype
	prototypes.
	* libc/include/sys/types.h[_UNIX98_THREAD_MUTEX_ATTRIBUTES]: Add
	new mutex type values.
	(pthread_mutexattr_t)[_UNIX98_THREAD_MUTEX_ATTRIBUTES]: Add type
	field.

2008-09-24  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdlib/setenv_r.c (_unsetenv_r): Modify to return -1 only if
	name is NULL, empty, or contains equal sign.

2008-09-24  Pawel Veselov  <pawel.veselov@gmail.com>

	Fix setenv/getenv/unsetenv to be OpenGroup compliant:
	* libc/include/stdlib.h (unsetenv, _unsetenv_r): Redefine with integer
	return types.
	* libc/stdlib/getenv_r.c (_findenv_r): Do no special processing with
	names that contain equal chars.
	* libc/stdlib/setenv.c: Redefine _unsetenv_r as returning int.
	* libc/stdlib/setenv_r.c (_setenv_r): Return -1 and set errno to
	EINVAL if name contains an equal sign.  Do not remove any equal signs
	from the value.
	(_unsetenv_r): Modified to return int.  Return -1 and set EINVAL
	if name contains equal sign.  Return -1 if no variable(s) were found
	and return 0 otherwise.

2008-09-19  Eric Blake  <ebb9@byu.net>

	Supply missing POSIX errno values.
	* libc/include/sys/errno.h (ENOTRECOVERABLE, EOWNERDEAD): Define.
	* libc/string/strerror.c (strerror): Decode them, and ECANCELED.

2008-09-10  Ken Werner  <ken.werner@de.ibm.com>

	* libc/machine/spu/strcpy.h: Add missing header.
	* libc/machine/spu/spu_timer_slih.c: Remove unused Variable.
	* libm/machine/spu/headers/lgammaf4.h: Add type cast.

2008-09-08  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/dl/atomicity.h (exchange_and_add): Fix asm
	statement to use "m" instead of "0".
	(atomic_add): Ditto.
	* libc/sys/linux/linuxthreads/spinlock.c (__pthread_release): Ditto.
	* libc/sys/linux/net/getaddrinfo.c: Add limit.h include.
	* libc/sys/linux/stdlib/glob.c: Ditto.

2008-09-04  Ken Werner  <ken.werner@de.ibm.com>

	* libm/machine/spu/headers/acosd2.h: Duplicated preamble text removed.
	* libm/machine/spu/headers/acosf4.h: Likewise.
	* libm/machine/spu/headers/acoshd2.h: Likewise.
	* libm/machine/spu/headers/acoshf4.h: Likewise.
	* libm/machine/spu/headers/asind2.h: Likewise.
	* libm/machine/spu/headers/asinf4.h: Likewise.
	* libm/machine/spu/headers/asinhd2.h: Likewise.
	* libm/machine/spu/headers/asinhf4.h: Likewise.
	* libm/machine/spu/headers/atan2d2.h: Likewise.
	* libm/machine/spu/headers/atan2f4.h: Likewise.
	* libm/machine/spu/headers/atand2.h: Likewise.
	* libm/machine/spu/headers/atanf4.h: Likewise.
	* libm/machine/spu/headers/atanhd2.h: Likewise.
	* libm/machine/spu/headers/atanhf4.h: Likewise.
	* libm/machine/spu/headers/cos_sin.h: Likewise.
	* libm/machine/spu/headers/cosd2.h: Likewise.
	* libm/machine/spu/headers/cosf4.h: Likewise.
	* libm/machine/spu/headers/coshd2.h: Likewise.
	* libm/machine/spu/headers/coshf4.h: Likewise.
	* libm/machine/spu/headers/divd2.h: Likewise.
	* libm/machine/spu/headers/divf4.h: Likewise.
	* libm/machine/spu/headers/erf_utils.h: Likewise.
	* libm/machine/spu/headers/erfcd2.h: Likewise.
	* libm/machine/spu/headers/erfcf4.h: Likewise.
	* libm/machine/spu/headers/erfd2.h: Likewise.
	* libm/machine/spu/headers/erff4.h: Likewise.
	* libm/machine/spu/headers/exp2d2.h: Likewise.
	* libm/machine/spu/headers/exp2f4.h: Likewise.
	* libm/machine/spu/headers/expd2.h: Likewise.
	* libm/machine/spu/headers/expf4.h: Likewise.
	* libm/machine/spu/headers/expm1d2.h: Likewise.
	* libm/machine/spu/headers/expm1f4.h: Likewise.
	* libm/machine/spu/headers/floord2.h: Likewise.
	* libm/machine/spu/headers/floorf4.h: Likewise.
	* libm/machine/spu/headers/hypotd2.h: Likewise.
	* libm/machine/spu/headers/hypotf4.h: Likewise.
	* libm/machine/spu/headers/isnand2.h: Likewise.
	* libm/machine/spu/headers/isnanf4.h: Likewise.
	* libm/machine/spu/headers/ldexpd2.h: Likewise.
	* libm/machine/spu/headers/ldexpf4.h: Likewise.
	* libm/machine/spu/headers/lgammad2.h: Likewise.
	* libm/machine/spu/headers/lgammaf4.h: Likewise.
	* libm/machine/spu/headers/log10d2.h: Likewise.
	* libm/machine/spu/headers/log1pd2.h: Likewise.
	* libm/machine/spu/headers/log1pf4.h: Likewise.
	* libm/machine/spu/headers/log2d2.h: Likewise.
	* libm/machine/spu/headers/log2f4.h: Likewise.
	* libm/machine/spu/headers/logbf4.h: Likewise.
	* libm/machine/spu/headers/logd2.h: Likewise.
	* libm/machine/spu/headers/logf4.h: Likewise.
	* libm/machine/spu/headers/nearbyintf4.h: Likewise.
	* libm/machine/spu/headers/nextafterd2.h: Likewise.
	* libm/machine/spu/headers/nextafterf4.h: Likewise.
	* libm/machine/spu/headers/powd2.h: Likewise.
	* libm/machine/spu/headers/powf4.h: Likewise.
	* libm/machine/spu/headers/recipd2.h: Likewise.
	* libm/machine/spu/headers/recipf4.h: Likewise.
	* libm/machine/spu/headers/rintf4.h: Likewise.
	* libm/machine/spu/headers/scalbnf4.h: Likewise.
	* libm/machine/spu/headers/signbitd2.h: Likewise.
	* libm/machine/spu/headers/sincosd2.h: Likewise.
	* libm/machine/spu/headers/sincosf4.h: Likewise.
	* libm/machine/spu/headers/sind2.h: Likewise.
	* libm/machine/spu/headers/sinf4.h: Likewise.
	* libm/machine/spu/headers/sinhd2.h: Likewise.
	* libm/machine/spu/headers/sinhf4.h: Likewise.
	* libm/machine/spu/headers/sqrtd2.h: Likewise.
	* libm/machine/spu/headers/sqrtf4.h: Likewise.
	* libm/machine/spu/headers/tand2.h: Likewise.
	* libm/machine/spu/headers/tanf4.h: Likewise.
	* libm/machine/spu/headers/tanhd2.h: Likewise.
	* libm/machine/spu/headers/tanhf4.h: Likewise.
	* libm/machine/spu/headers/tgammad2.h: Likewise.
	* libm/machine/spu/headers/tgammaf4.h: Likewise.
	* libm/machine/spu/headers/truncd2.h: Likewise.
	* libm/machine/spu/headers/truncf4.h: Likewise.
	* libm/machine/spu/headers/simdmath.h: Likewise.

2008-09-04  Ken Werner  <ken.werner@de.ibm.com>

	* libm/machine/spu/headers/acoshf4.h: Rebase against current simdmath.
	* libm/machine/spu/headers/asinhd2.h: Likewise.
	* libm/machine/spu/headers/atanhd2.h: Likewise.
	* libm/machine/spu/headers/atanhf4.h: Likewise.
	* libm/machine/spu/headers/erff4.h: Likewise.
	* libm/machine/spu/headers/expd2.h: Likewise.
	* libm/machine/spu/headers/ldexpd2.h: Likewise.
	* libm/machine/spu/headers/lgammaf4.h: Likewise.
	* libm/machine/spu/headers/logbf4.h: Likewise.
	* libm/machine/spu/headers/nextafterd2.h: Likewise.
	* libm/machine/spu/headers/nextafterf4.h: Likewise.
	* libm/machine/spu/headers/recipd2.h: Likewise.
	* libm/machine/spu/headers/simdmath.h: Likewise.
	* libm/machine/spu/headers/acoshd2.: Likewise.

2008-09-04  Ken Werner  <ken.werner@de.ibm.com>

	* libm/machine/spu/headers/cbrt.h: cbrt_factors[] declared.
	* libm/machine/spu/headers/cbrtf.h: Likewise.

2008-09-01  Ken Werner  <ken.werner@de.ibm.com>

	* libc/machine/spu/include/spu_timer.h: spu_timebase function added.
	* libc/machine/spu/spu_timebase.c: New file.
	* libc/machine/spu/Makefile.am: Add new file.
	* libc/machine/spu/Makefile.in: Regenerated.

2008-08-28  Craig Howland  <howland@LGSInnovations.com>

	* libc/time/mktime.c (mktime): Fix tm_isdst value usage (allowing
	any positive value from user (per std) rather than depending
	upon 1).

2008-08-28  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdlib/wcsrtombs.c (_wcsrtombs_r): Optimize condition
	for accepting a converted character.

2008-08-27  Sandra Loosemore  <sandra@codesourcery.com>

	* libc/libc.texinfo: Remove "LOCAL KLUGE" that prevents it
	from building pdfs.
	* libm/libm.texinfo: Likewise.

2008-08-27  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdlib/wcsrtombs.c (_wcsrtombs_r): Fix condition for
	accepting a converted character and continuing the loop.

2008-07-24  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/ctype.h (_ctype_): Restore for C++ backward
	compatability only.

2008-07-21  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/ctype/ctype_.c: Add new pointer __ctype_ptr__ which is one
	less than the old __ctype_ptr.
	* libc/ctype/isalnum.c: Use __ctype_ptr__.
	* libc/ctype/isalpha.c: Ditto.
	* libc/ctype/iscntrl.c: Ditto.
	* libc/ctype/isdigit.c: Ditto.
	* libc/ctype/islower.c: Ditto.
	* libc/ctype/isprint.c: Ditto.
	* libc/ctype/ispunct.c: Ditto.
	* libc/ctype/isspace.c: Ditto.
	* libc/ctype/isupper.c: Ditto.
	* libc/ctype/isxdigit.c: Ditto.
	* libc/include/ctype.h: Change ctype macros to use new __ctype_ptr__
	and add declaration of __ctype_ptr__.  Remove older ctype table pointers
	from here even though they can still work.

2008-07-18  Ken Werner  <ken.werner@de.ibm.com>

	* libc/machine/spu/strcpy.h: Fix error in previous patch.

2008-07-17  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/assert.h (__ASSERT_FUNC): Define to __FUNCTION__ when
	__STDC_VERSION__ < 199901L and __GNUC__ >= 2.

2008-07-17  Ken Werner  <ken.werner@de.ibm.com>

	* libc/machine/spu/strcpy.h: Pad null bytes if necessary.

2008-07-08  Kenji Tanaka  <tanaka.ken2@jp.panasonic.com>

	* libc/machine/mn10300/memset.S: Fix bug where return value is
	incorrectly set if number of bytes set is a multiple of 4.

2008-07-07  Hans-Peter Nilsson  <hp@axis.com>

	* libc/machine/mips/strncpy.c: Include stdint.h to get uintptr_t.
	(strncpy): Cast src to uintptr_t before checking alignment with "&".

2008-07-02  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/argz/argz_count.c: Include stddef.h to get size_t.
	* libc/argz/argz_extract.c: Ditto.
	* libc/argz/argz_stringify.c: Ditto.
	* libc/search/hash.h: Ditto.
	* libc/sys/linux/include/sched.h: Ditto.
	* libc/sys/linux/sys/types.h: Ditto.

2008-07-02  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/machine/mips/strncpy.c (strncpy): Fix logic so unaligned
	source data is taken care of before loop unrolling.

2008-06-25  Hans-Peter Nilsson  <hp@axis.com>

	Fix strict-aliasing issues with _strtod_r and Storeinc.
	* libc/stdlib/strtod.c (_strtod_r): Change local variables aadj,
	rv, rv0 from double to type U.  Use accessor macros dval, dword0
	and dword1 for all accesses except for the ULtod call, where rv.i
	replaces the pointer cast.
	* libc/stdlib/mprec.h (U): Rename member L to i for easier re-use
	of access macros.  Tweak comment.
	Remove #ifdef'd YES_ALIAS code.
	(dword0, dword1, dval): Define in terms of uncast union member
	access.  Ditto for _DOUBLE_IS_32BITS variants.
	(Storeinc): Replace aliasing-flawed microoptimized definition with
	alternative suggested in comment.  Remove now stale comment.

2008-06-21  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/machine/setjmp.h (_longjmp): Define as function on
	Cygwin.
	(_setjmp): Ditto.

2008-06-18  Eric Blake  <ebb9@byu.net>

	Per Posix, strsignal returns non-const char*.
	* libc/include/string.h (strsignal): Fix return type.

2008-06-17  Ken Werner  <ken.werner@de.ibm.com>

	* libc/machine/spu/sys/linux_syscalls.h: New file to add Linux syscall
	support.

2008-06-16  Ken Werner  <ken.werner@de.ibm.com>

	* libc/machine/spu/sys/dirent.h: Add extern "C" specifier if C++.
	* libc/machine/spu/sys/sched.h: Likewise.
	* libc/machine/spu/sys/syscall.h: Likewise.

2008-06-16  Ken Werner  <ken.werner@de.ibm.com>

	* libc/machine/spu/mk_syscalls: Provide .type and .size directives
	in generated assembler files.
	* libc/machine/spu/fprintf.S: Regenerate.
	* libc/machine/spu/fscanf.S: Regenerate.
	* libc/machine/spu/printf.S: Regenerate.
	* libc/machine/spu/scanf.S: Regenerate.
	* libc/machine/spu/snprintf.S: Regenerate.
	* libc/machine/spu/sprintf.S: Regenerate.
	* libc/machine/spu/sscanf.S: Regenerate.
	* libc/machine/spu/stack_reg_va.S (__stack_reg_va): Provide .type
	and .size directives.
	* libc/machine/spu/setjmp.S (setjmp): Likewise.
	(longjmp): Likewise.

2008-06-11  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/machine/_default_types.h: Fix GNUC check to
	handle 4.0 and greater.

2008-06-09  Ken Werner  <ken.werner@de.ibm.com>

	* libc/machine/spu/Makefile.am: Add new files.
	* libc/machine/spu/Makefile.in: Likewise.
	* libc/machine/spu/include/spu_timer.h: New file to add timer support
	using interrupts.
	* libc/machine/spu/spu_clock_stop.c: Likewise.
	* libc/machine/spu/spu_clock_svcs.c: Likewise.
	* libc/machine/spu/spu_timer_flih.S: Likewise.
	* libc/machine/spu/spu_timer_free.c: Likewise.
	* libc/machine/spu/spu_timer_internal.h: Likewise.
	* libc/machine/spu/spu_timer_slih.c: Likewise.
	* libc/machine/spu/spu_timer_slih_reg.c: Likewise.
	* libc/machine/spu/spu_timer_stop.c: Likewise.
	* libc/machine/spu/spu_timer_svcs.c: Likewise.

2008-06-09  Ken Werner  <ken.werner@de.ibm.com>

	* libc/machine/spu/strcat.c: Return value fixed.
	* libc/machine/spu/strncat.c: Likewise.

2008-05-28  Eric Blake  <ebb9@byu.net>

	Fix bug in previous patch.
	* libc/machine/i386/memset.S (memset): Mask second arg correctly.

2008-05-27  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/string/memset.c: Fix documented prototype to remove
	erroneous const attribute on first parameter.

2008-05-26  Eric Blake  <ebb9@byu.net>

	Optimize the generic and x86 memchr.
	* libc/string/memchr.c (memchr) [!__OPTIMIZE_SIZE__]:
	Pre-align pointer so unaligned searches aren't penalized.
	* libc/machine/i386/memchr.S (memchr) [!__OPTIMIZE_SIZE__]: Word
	operations are faster than repnz byte searches.

2008-05-26  Eric Blake  <ebb9@byu.net>

	Optimize the generic and x86 memset.
	* libc/string/memset.c (memset) [!__OPTIMIZE_SIZE__]:
	Pre-align pointer so unaligned stores aren't penalized.
	* libc/machine/i386/memset.S (memset) [!__OPTIMIZE_SIZE__]:
	Pre-align pointer so unaligned stores aren't penalized.  Prefer
	8-byte over 4-byte alignment.  Reduce register pressure.

2008-05-26  Eric Blake  <ebb9@byu.net>

	Optimize the generic and x86 strlen.
	* libc/string/strlen.c (strlen) [!__OPTIMIZE_SIZE__]: Pre-align
	data so unaligned searches aren't penalized.
	* libc/machine/i386/strlen.S (strlen) [!__OPTIMIZE_SIZE__]:
	Word operations are faster than repnz byte searches.

2008-05-23  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/_default_fcntl.h: Include <sys/time.h> on Cygwin.

2008-05-22  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/reent.h: Add _h_errno field.
	* libc/sys/linux/libc-symbols.h: Add default stubs for new libc macros
	now used in net directory.
	* libc/sys/linux/bits/libc-lock.h: Always define _IO_MTSAFE_IO.
	* libc/sys/linux/include/hesiod.h: Add needed macros for new code
	in net directory.
	* libc/sys/linux/include/netdb.h: Ditto.
	* libc/sys/linux/include/resolv.h: Ditto.
	* libc/sys/linux/include/stdint.h: Ditto.
	* libc/sys/linux/include/arpa/nameser.h: Ditto.
	* libc/sys/linux/include/net/ethernet.h: Ditto.
	* libc/sys/linux/include/net/if_ppp.h: Ditto.
	* libc/sys/linux/include/netinet/if_ether.h: Ditto.
	* libc/sys/linux/machine/i386/get_clockfreq.c: Remove static memmem.
	* libc/sys/linux/machine/i386/include/endian.h: Protect macros with
	flags to avoid duplicate definition.
	* libc/sys/linux/machine/i386/include/param.h: Ditto.
	* libc/sys/linux/net/Makefile.am: Modified to account for removed and
	added files.
	* libc/sys/linux/net/Makefile.in: Regenerated.
	* libc/sys/linux/net/base64.c: Replaced with glibc version of code.
	* libc/sys/linux/net/getaddrinfo.c: Ditto.
	* libc/sys/linux/net/getnameinfo.c: Ditto.
	* libc/sys/linux/net/getproto.c: Ditto.
	* libc/sys/linux/net/getservent.c: Ditto.
	* libc/sys/linux/net/inet_netof.c: Ditto.
	* libc/sys/linux/net/inet_lnaof.c: Ditto.
	* libc/sys/linux/net/ns_name.c: Ditto.
	* libc/sys/linux/net/ns_netint.c: Ditto.
	* libc/sys/linux/net/inet_ntoa.c: Ditto.
	* libc/sys/linux/net/ns_parse.c: Ditto.
	* libc/sys/linux/net/ns_print.c: Ditto.
	* libc/sys/linux/net/ns_ttl.c: Ditto.
	* libc/sys/linux/net/nsap_addr.c: Ditto.
	* libc/sys/linux/net/rcmd.c: Ditto.
	* libc/sys/linux/net/res_comp.c: Ditto.
	* libc/sys/linux/net/res_data.c: Ditto.
	* libc/sys/linux/net/res_debug.c: Ditto.
	* libc/sys/linux/net/res_init.c: Ditto.
	* libc/sys/linux/net/res_mkquery.c: Ditto.
	* libc/sys/linux/net/res_query.c: Ditto.
	* libc/sys/linux/net/res_send.c: Ditto.
	* libc/sys/linux/net/send.c: Ditto.
	* libc/sys/linux/stdlib/collate.c: Ditto.
	* libc/sys/linux/sys/ioctl.h: Ditto.
	* libc/sys/linux/sys/socket.h: Ditto.
	* libc/sys/linux/sys/unistd.h: Ditto.
	* libc/sys/linux/iconv/iconvconfig.c: Removed either because no longer
	used or because licensing includes advertising clause that cannot be
	ignored.
	* libc/sys/linux/iconv/strtab.c: Ditto.
	* libc/sys/linux/include/libc_private.h: Ditto.
	* libc/sys/linux/include/nsswitch.h: Ditto.
	* libc/sys/linux/include/net/if_atm.h: Ditto.
	* libc/sys/linux/include/net/if_media.h: Ditto.
	* libc/sys/linux/include/net/if_pppvar.h: Ditto.
	* libc/sys/linux/include/netinet/if_atm.h: Ditto.
	* libc/sys/linux/include/netinet/ip_flow.h: Ditto.
	* libc/sys/linux/intl/locale.alias: Ditto.
	* libc/sys/linux/net/addr2ascii.3: Ditto.
	* libc/sys/linux/net/bindresvport.c: Ditto.
	* libc/sys/linux/net/byteorder.3: Ditto.
	* libc/sys/linux/net/res_config.h: Ditto.
	* libc/sys/linux/net/ether_addr.c: Ditto.
	* libc/sys/linux/net/ethers.3: Ditto.
	* libc/sys/linux/net/getaddrinfo.3: Ditto.
	* libc/sys/linux/net/gethostbydns.c: Ditto.
	* libc/sys/linux/net/gethostbyht.c: Ditto.
	* libc/sys/linux/net/gethostbyname.3: Ditto.
	* libc/sys/linux/net/gethostbynis.c: Ditto.
	* libc/sys/linux/net/gethostnamadr.c: Ditto.
	* libc/sys/linux/net/getifaddrs.3: Ditto.
	* libc/sys/linux/net/getifaddrs.c: Ditto.
	* libc/sys/linux/net/getipnodebyname.3: Ditto.
	* libc/sys/linux/net/getnameinfo.3: Ditto.
	* libc/sys/linux/net/getnetbydns.c: Ditto.
	* libc/sys/linux/net/getnetbyht.c: Ditto.
	* libc/sys/linux/net/getnetbynis.c: Ditto.
	* libc/sys/linux/net/getnetent.3: Ditto.
	* libc/sys/linux/net/getnetnamadr.c: Ditto.
	* libc/sys/linux/net/getprotoent.3: Ditto.
	* libc/sys/linux/net/getprotoent.c: Ditto.
	* libc/sys/linux/net/getprotoname.c: Ditto.
	* libc/sys/linux/net/getservbyname.c: Ditto.
	* libc/sys/linux/net/getservbyport.c: Ditto.
	* libc/sys/linux/net/getservent.3: Ditto.
	* libc/sys/linux/net/herror.c: Ditto.
	* libc/sys/linux/net/hesiod.3: Ditto.
	* libc/sys/linux/net/hesiod.c: Ditto.
	* libc/sys/linux/net/if_indextoname.3: Ditto.
	* libc/sys/linux/net/inet.3: Ditto.
	* libc/sys/linux/net/inet6_option_space.3: Ditto.
	* libc/sys/linux/net/inet6_rthdr_space.3: Ditto.
	* libc/sys/linux/net/inet_makeaddr.c: Ditto.
	* libc/sys/linux/net/inet_net.3: Ditto.
	* libc/sys/linux/net/inet_network.c: Ditto.
	* libc/sys/linux/net/innetgr-stub.c: Ditto.
	* libc/sys/linux/net/ip6opt.c: Ditto.
	* libc/sys/linux/net/iso_addr.3: Ditto.
	* libc/sys/linux/net/iso_addr.c: Ditto.
	* libc/sys/linux/net/linkaddr.3: Ditto.
	* libc/sys/linux/net/linkaddr.c: Ditto.
	* libc/sys/linux/net/map_v4v6.c: Ditto.
	* libc/sys/linux/net/name6.c: Ditto.
	* libc/sys/linux/net/namespace.h: Ditto.
	* libc/sys/linux/net/ns.3: Ditto.
	* libc/sys/linux/net/ns_addr.c: Ditto.
	* libc/sys/linux/net/ns_ntoa.c: Ditto.
	* libc/sys/linux/net/nsdispatch.3: Ditto.
	* libc/sys/linux/net/nsdispatch.c: Ditto.
	* libc/sys/linux/net/nslexer.c: Ditto.
	* libc/sys/linux/net/nslexer.l: Ditto.
	* libc/sys/linux/net/nsparser.c: Ditto.
	* libc/sys/linux/net/nsparser.h: Ditto.
	* libc/sys/linux/net/nsparser.y: Ditto.
	* libc/sys/linux/net/rcmd.3: Ditto.
	* libc/sys/linux/net/rcmdsh.3: Ditto.
	* libc/sys/linux/net/res_mkupdate.c: Ditto.
	* libc/sys/linux/net/res_update.c: Ditto.
	* libc/sys/linux/net/resolver.3: Ditto.
	* libc/sys/linux/net/rthdr.c: Ditto.
	* libc/sys/linux/net/vars.c: Ditto.
	* libc/sys/linux/shlib-compat.h: New file.
	* libc/sys/linux/machine/i386/atomic.h: Ditto.
	* libc/sys/linux/net/XXX-lookup.c: Ditto.
	* libc/sys/linux/net/alias-lookup.c: Ditto.
	* libc/sys/linux/net/res_libc.c: Ditto.
	* libc/sys/linux/net/aliases.h: Ditto.
	* libc/sys/linux/net/check_pf.c: Ditto.
	* libc/sys/linux/net/databases.def: Ditto.
	* libc/sys/linux/net/digits_dots.c: Ditto.
	* libc/sys/linux/net/ether_aton.c: Ditto.
	* libc/sys/linux/net/ether_aton_r.c: Ditto.
	* libc/sys/linux/net/ether_hton.c: Ditto.
	* libc/sys/linux/net/ether_line.c: Ditto.
	* libc/sys/linux/net/ether_ntoa.c: Ditto.
	* libc/sys/linux/net/ether_ntoa_r.c: Ditto.
	* libc/sys/linux/net/ether_ntoh.c: Ditto.
	* libc/sys/linux/net/etherent.h: Ditto.
	* libc/sys/linux/net/ethers-lookup.c: Ditto.
	* libc/sys/linux/net/function.def: Ditto.
	* libc/sys/linux/net/getXXbyYY.c: Ditto.
	* libc/sys/linux/net/getXXbyYY_r.c: Ditto.
	* libc/sys/linux/net/getXXent.c: Ditto.
	* libc/sys/linux/net/getXXent_r.c: Ditto.
	* libc/sys/linux/net/getaliasent.c: Ditto.
	* libc/sys/linux/net/getaliasent_r.c: Ditto.
	* libc/sys/linux/net/getaliasname.c: Ditto.
	* libc/sys/linux/net/getaliasname_r.c: Ditto.
	* libc/sys/linux/net/gethstbyad.c: Ditto.
	* libc/sys/linux/net/gethstbyad_r.c: Ditto.
	* libc/sys/linux/net/gethstbynm.c: Ditto.
	* libc/sys/linux/net/gethstbynm2.c: Ditto.
	* libc/sys/linux/net/gethstbynm2_r.c: Ditto.
	* libc/sys/linux/net/gethstbynm_r.c: Ditto.
	* libc/sys/linux/net/gethstent.c: Ditto.
	* libc/sys/linux/net/gethstent_r.c: Ditto.
	* libc/sys/linux/net/getnetbyad.c: Ditto.
	* libc/sys/linux/net/getnetbyad_r.c: Ditto.
	* libc/sys/linux/net/getnetbynm.c: Ditto.
	* libc/sys/linux/net/getnetbynm_r.c: Ditto.
	* libc/sys/linux/net/getnetent.c: Ditto.
	* libc/sys/linux/net/getnetent_r.c: Ditto.
	* libc/sys/linux/net/getnetgrent.c: Ditto.
	* libc/sys/linux/net/getnetgrent_r.c: Ditto.
	* libc/sys/linux/net/getnssent.c: Ditto.
	* libc/sys/linux/net/getnssent_r.c: Ditto.
	* libc/sys/linux/net/getproto_r.c: Ditto.
	* libc/sys/linux/net/getprtent.c: Ditto.
	* libc/sys/linux/net/getprtent_r.c: Ditto.
	* libc/sys/linux/net/getprtname.c: Ditto.
	* libc/sys/linux/net/getprtname_r.c: Ditto.
	* libc/sys/linux/net/getrpcbyname.c: Ditto.
	* libc/sys/linux/net/getrpcbyname_r.c: Ditto.
	* libc/sys/linux/net/getrpcbynumber.c: Ditto.
	* libc/sys/linux/net/getrpcbynumber_r.c: Ditto.
	* libc/sys/linux/net/getrpcent.c: Ditto.
	* libc/sys/linux/net/getrpcent_r.c: Ditto.
	* libc/sys/linux/net/getservent_r.c: Ditto.
	* libc/sys/linux/net/getsrvbynm.c: Ditto.
	* libc/sys/linux/net/getsrvbynm_r.c: Ditto.
	* libc/sys/linux/net/getsrvbypt.c: Ditto.
	* libc/sys/linux/net/getsrvbypt_r.c: Ditto.
	* libc/sys/linux/net/grp-lookup.c: Ditto.
	* libc/sys/linux/net/herrno.c: Ditto.
	* libc/sys/linux/net/hosts-lookup.c: Ditto.
	* libc/sys/linux/net/ifaddrs.h: Ditto.
	* libc/sys/linux/net/ifreq.c: Ditto.
	* libc/sys/linux/net/ifreq.h: Ditto.
	* libc/sys/linux/net/in6_addr.c: Ditto.
	* libc/sys/linux/net/inet6_option.c: Ditto.
	* libc/sys/linux/net/inet_mkadr.c: Ditto.
	* libc/sys/linux/net/inet_net.c: Ditto.
	* libc/sys/linux/net/key-lookup.c: Ditto.
	* libc/sys/linux/net/local.h: Ditto.
	* libc/sys/linux/net/netgroup.h: Ditto.
	* libc/sys/linux/net/netgrp-lookup.c: Ditto.
	* libc/sys/linux/net/network-lookup.c: Ditto.
	* libc/sys/linux/net/not-cancel.h: Ditto.
	* libc/sys/linux/net/ns_samedomain.c: Ditto.
	* libc/sys/linux/net/nscd-types.h: Ditto.
	* libc/sys/linux/net/nss.h: Ditto.
	* libc/sys/linux/net/nsswitch.c: Ditto.
	* libc/sys/linux/net/nsswitch.h: Ditto.
	* libc/sys/linux/net/opensock.c: Ditto.
	* libc/sys/linux/net/proto-lookup.c: Ditto.
	* libc/sys/linux/net/pwd-lookup.c: Ditto.
	* libc/sys/linux/net/res_debug.h: Ditto.
	* libc/sys/linux/net/res_hconf.c: Ditto.
	* libc/sys/linux/net/res_hconf.h: Ditto.
	* libc/sys/linux/net/rexec.c: Ditto.
	* libc/sys/linux/net/rpc-lookup.c: Ditto.
	* libc/sys/linux/net/ruserpass.c: Ditto.
	* libc/sys/linux/net/service-lookup.c: Ditto.
	* libc/sys/linux/net/spwd-lookup.c: Ditto.
	* libc/sys/linux/net/nscd/nscd-client.h: Ditto.
	* libc/sys/linux/net/nscd/nscd_proto.h: Ditto.

2008-05-21  Eric Blake  <ebb9@byu.net>

	Optimize the generic strchr.
	* libc/string/strchr.c (strchr) [!__OPTIMIZE_SIZE__]: Pre-align
	data so unaligned searches aren't penalized.  Special-case
	searching for 0.

	Optimize strchr for x86.
	* libc/machine/i386/strchr.S (strchr) [!__OPTIMIZE_SIZE__]:
	Pre-align data so unaligned searches aren't penalized.
	Special-case searching for 0.

2008-05-20  Nick Clifton  <nickc@redhat.com>

	* libc/sys/sysnecv850/crt0.S (___dso_handle): Define (weak).

2008-05-20  DJ Delorie  <dj@redhat.com>

	* libc/sys/sysnecv850/isatty.c (_isatty): Renamed from isatty.

2008-05-14  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/reent.h: Change _REENT_INIT... macros to
	access macro parameter with parentheses around it.

2008-04-26  Mark Mitchell  <mark@codesourcery.com>

	* libc/include/stdint.h (SIZE_MIN): Remove.
	(SIZE_MAX): Define.
	* testsuite/newlib.stdlib/stdlib.exp: New.
	* testsuite/newlib.stdlib/size_max.c: Likewise.

2008-04-29  Eric Blake  <ebb9@byu.net>

	Fix 2008-04-14 regression in asprintf(ptr,"").
	* libc/stdio/asnprintf.c (asnprintf, _asnprintf_r): Avoid stdio
	baggage.
	* libc/stdio/asniprintf.c (asniprintf, _asniprintf_r): Likewise.
	* libc/stdio/asiprintf.c (asiprintf, _asiprintf_r): Likewise.
	* libc/stdio/vasniprintf.c (_vasniprintf_r): Likewise.
	* libc/stdio/vsnprintf.c (_vsnprintf_r): Likewise.
	* libc/stdio/vfprintf.c (_VFPRINTF_R) [STRING_ONLY]: Always malloc
	an initial buffer for asprintf.

2008-04-24  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/stat.h: Guard at-functions with !__INSIDE_CYGWIN__.
	(fstatat): Fix type of third parameter.

2008-04-25  Nick Clifton  <nickc@redhat.com>

	* libc/machine/arm/setjmp.S: Fix thumb2 support.

2008-04-24  Nick Clifton  <nickc@redhat.com>

	* libc/include/machine/ieeefp.h: Fix typo: _DOUBLE_IS_32_BITS
	should be _DOUBLE_IS_32BITS.

2008-04-24  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/stat.h (UTIME_NOW): Define for Cygwin.
	(UTIME_OMIT): Ditto.
	(utimensat): Declare for Cygwin.
	(futimens): Ditto.

2008-04-23  Ken Werner  <ken.werner@de.ibm.com>

	* libc/include/_ansi.h: _LONG_LONG renamed to _LONG_LONG_TYPE.
	* libc/include/math.h: Likewise.

2008-04-23  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/stdio.h (renameat): Declare for Cygwin.
	(symlinkat): Ditto.
	* libc/include/sys/unistd.h (readlink): Align declaration to POSIX.
	(faccessat): Declare for Cygwin.
	(fchownat): Ditto.
	(linkat): Ditto.
	(readlinkat): Ditto.
	* libc/include/sys/_default_fcntl.h (AT_FDCWD): Define for Cygwin.
	(AT_EACCESS): Ditto.
	(AT_SYMLINK_NOFOLLOW): Ditto.
	(AT_SYMLINK_FOLLOW): Ditto.
	(AT_REMOVEDIR): Ditto.
	(futimesat): Declare for Cygwin.
	(openat): Ditto.
	(unlinkat): Ditto.
	* libc/include/sys/stat.h (fchmodat): Ditto.
	(fstatat): Ditto.
	(mkdirat): Ditto.
	(mkfifoat): Ditto.
	(mknodat): Ditto.

2008-04-22  Nick Clifton  <nickc@redhat.com>

	* libc/machine/arm/setjmp.S: Add support for thumb2 multiple
	register load/store instructions.

2008-04-16  Patrick Mansfield  <patmans@us.ibm.com>

	* libc/machine/spu/sys/errno.h: Use _impure_data, not _reent_data.

2008-04-16  Patrick Mansfield  <patmans@us.ibm.com>

	* libc/machine/spu/impure.c: Add missing underscore to impure_data.

2008-04-14  Patrick Mansfield  <patmans@us.ibm.com>

	* libc/machine/spu/impure.c: New file, supply a non-static _impure_data.
	* libc/machine/spu/Makefile.am: Add new file impure.c.
	* libc/machine/spu/Makefile.in: Regenerate.
	* libc/machine/spu/sys/errno.h: Define errno to be _reent_data._errno.

2008-04-14  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/Makefile.am: Build vfprintf.c and vfscanf.c with
	-DSTRING_ONLY defined with and without -DINTEGER_ONLY defined
	to build special versions for sprintf/sscanf family functions.
	* libc/stdio/Makefile.in: Regenerated.
	* libc/stdio/vfprintf.c[STRING_ONLY][INTEGER_ONLY](_VFPRINTF_R):
	Redefine to be _svfiprintf_r which is optimized to work with siprintf
	family of functions (i.e. no I/O) and does not support floating-point.
	[STRING_ONLY][!INTEGER_ONLY](_VFPRINTF_R): Redefine to be
	_svfprintf_r which is optimized to work with sprintf family of
	functions and not use I/O.
	[STRING_ONLY](__sprint_r): New string only version of static function.
	designed to work with sprintf family of functions.
	* libc/stdio/vfscanf.c[STRING_ONLY][INTEGER_ONLY](_SVFSCANF_R):
	Redefine to be _ssvfiscanf_r which is optimized to work with siscanf
	family of functions (i.e. no I/O) and no float-point support.
	[STRING_ONLY][!INTEGER_ONLY](_SVFSCANF_R): Redefine to be
	__ssvfscanf_r which is optimized to work with sscanf family of
	functions and does not require I/O functions.
	* libc/stdio/asprintf.c: Call _svfprintf_r instead of _vfprintf_r.
	* libc/stdio/snprintf.c: Ditto.
	* libc/stdio/sprintf.c: Ditto.
	* libc/stdio/vasnprintf.c: Ditto.
	* libc/stdio/vasprintf.c: Ditto.
	* libc/stdio/siprintf.c: Call _svfiprintf_r instead of _vfiprintf_r.
	* libc/stdio/sniprintf.c: Ditto.
	* libc/stdio/vasiprintf.c: Ditto.
	* libc/stdio/vsiprintf.c: Ditto.
	* libc/stdio/vsniprintf.c: Ditto.
	* libc/stdio/vsprintf.c: Ditto.
	* libc/stdio/local.h: Add prototypes for _svfprintf_r, _svfiprintf_r,
	_ssvfscanf_r, and _ssvfiscanf_r.
	* libc/stdio/sscanf.c: Call _ssvfscanf_r instead of _svfscanf_r.
	* libc/stdio/vsscanf.c: Ditto.
	* libc/stdio/siscanf.c: Call _ssvfiscanf_r instead of _svfiscanf_r.
	* libc/stdio/vsiscanf.c: Ditto.

2008-04-04  DJ Delorie  <dj@redhat.com>

	* libm/machine/spu/configure: Regenerate with autoconf 2.61.
	* libc/sys/configure: Regenerate with autoconf 2.61.
	* libc/machine/configure: Regenerate with autoconf 2.61.

2008-04-01 Patrick Mansfield <patmans@us.ibm.com>

	* libc/machine/spu/memcmp.c: New file for SPU optimized memcmp.
	* libc/machine/spu/strncmp.h: New file supply _strncmp_internal.
	* libc/machine/spu/Makefile.am: Add memcmp.c.
	* libc/machine/spu/Makefile.in: Rebuild.
	* libc/machine/spu/strncmp.c: Use _strncmp_internal.

2008-04-01 Patrick Mansfield <patmans@us.ibm.com>

	* configure.host: Build SPU with -DREENTRANT_SYSCALLS_PROVIDED and
	  -DMISSING_SYSCALL_NAMES.

2008-04-01 Patrick Mansfield <patmans@us.ibm.com>

	* libc/machine/spu/Makefile.am: Add assert.c.
	* libc/machine/spu/Makefile.in: Regenerate.
	* libc/machine/spu/assert.c: New file.

2008-03-27 Patrick Mansfield <patmans@us.ibm.com>

	* libc/include/reent.h: Define _func_r functions in this file to
	func if REENTRANT_SYSCALLS_PROVIDED and MISSING_SYSCALL_NAMES are
	defined.

2008-03-27  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/unistd.h: Declare lockf(2) and define lockf
	constants when building for Cygwin.

2008-03-11  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/rgetc.c (__srget_r): Invoke CHECK_INIT to ensure
	stdin gets resolved properly before refilling.

2008-03-07  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/getopt.h: Hide newlib extensions under
	the __need_getopt_newlib flag.
	* libc/stdlib/getopt.c: #define __need_getopt_newlib before including
	getopt.h.  Put entire code under !HAVE_GETOPT to support platforms
	with their own getopt implementation.
	* configure.host: Specify HAVE_GETOPT for x86-linux.

2008-03-07  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/reent.h(_REENT_SMALL_CHECK_INIT): Specify
	this macro completely instead of referring to CHECK_STD_INIT which
	is only found in libc/stdio/local.h.
	* libc/stdio/dprintf.c: Add include of local.h.
	* libc/stdio/vdprintf.c: Ditto.
	* libc/stdio/vdiprintf.c: Ditto.

2008-03-04  Eric Blake  <ebb9@byu.net>

	Fix strtod("nan()", ptr).
	* libc/stdlib/gdtoa-hexnan.c (hexnan): When the optional
	n-char-sequence is omitted, still parse the ().

2008-03-03  Eric Blake  <ebb9@byu.net>

	Fix ftell bug after ungetc.
	* libc/stdio/ftell.c (_ftell_r): Don't flush ungetc buffer on
	ftell.
	* libc/stdio64/ftello64.c (_ftello64_r): Likewise.
	* libc/stdio/fflush.c (_fflush_r): Clear unget buffer when
	repositioning underlying fd offset.

2008-03-02  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/getopt.h (no_argument): Added for glibc compatibility.
	(required_argument, optional_argument): Ditto.

2008-02-29  Gregory Pietsch  <gpietsch@comcast.net>

	* libc/stdlib/getopt.c (getopt_internal): Rewrite to accept
	data area so as to support reentrant calls.  Change all callers
	to fill in data area with global values and restore any changes
	to the global values after call.
	(__getopt_r, __getopt_long_r, __getopt_long_only_r): New routines
	to support reentrancy that add a data area argument.
	* libc/include/getopt.h: Add new _r routines and provide macros
	so they can be called with using double-underscores.

2008-02-21  Eric Blake  <ebb9@byu.net>

	Fix strtod("-0x", NULL).
	* libc/stdlib/strtod.c (_strtod_r): Fall back to 0 if hex parse
	fails.

2008-02-12  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/machine/powerpc/vfprintf.c (_VFPRINTF_R): Prepare
	for user specifying --disable-newlib-io-long-long on configure.
	Call _fflush_r instead of fflush.  For _mbtowc_r, pass the
	reentrant pointer passed in rather than _REENT.

2008-02-12  Peter Rosin  <peda@lysator.liu.se>

	* libc/stdlib/getopt.c (getopt_internal): Handle optional
	arguments better for long options and short options not
	appearing as the first option in a sequence.

2008-02-11  Patrick Mansfield  <patmans@us.ibm.com>

	* libc/machine/spu/straddr.h: New file, supplies _straddr.
	* libc/machine/spu/strcat.c: Use _straddr and _strcpy.
	* libc/machine/spu/strcpy.c: Use _strcpy.
	* libc/machine/spu/strcpy.h: Supply _strcpy for optimized SPU
	str[n]cpy and str[n]cat.
	* libc/machine/spu/strncat.c: Use _straddr and _strcpy.
	* libc/machine/spu/strncpy.c: Use _strcpy.

2008-02-11  Patrick Mansfield  <patmans@us.ibm.com>

	* libc/machine/spu/strlen.c: Remove the len variable and unneeded
	calculation of its value.

2008-01-25  Hans-Peter Nilsson  <hp@bitrange.com>

	* libc/sys/mmixware/isatty.c (_isatty): Renamed from isatty.
	Make ISO C.

2008-01-21  DJ Delorie  <dj@redhat.com>

	* libc/sys/sh/syscalls.c (_isatty): New.

2008-01-21  Neal H. Walfield  <neal@gnu.org>

	* Makefile.am (crt1.o): Use correct source.
	* Makefile.in: Regenerated.

2008-01-15  Eric Blake  <ebb9@byu.net>

	* libc/string/Makefile.am (ELIX_2_SOURCES): Fix definition.
	* libc/string/Makefile: Regenerate.

2008-01-15  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/machine/setjmp.h (__SIGMASK_FUNC): Define as
	pthread_sigmask or sigprocmask depending on _POSIX_THREADS.
	(sigsetjmp): Use __SIGMASK_FUNC.
	(siglongjmp): Ditto.
	(_setjmp): Define as macro.
	(_longjmp): Ditto.

2008-01-11  Eric Blake  <ebb9@byu.net>

	Make strstr and strcasestr O(n), not O(n^2); add memmem.
	* libc/string/str-two-way.h: New file.
	* libc/string/memmem.c (memmem): New file.
	* libc/include/string.h (memmem): Declare for all platforms.
	* libc/string/strstr.c (strstr): Provide O(n) implementation when
	not optimizing for space.
	* libc/string/strcasestr.c (strcasestr): Likewise.
	* libc/string/Makefile.am (ELIX_SOURCES): Rename to...
	(ELIX_2_SOURCES): ...this.
	(ELIX_4_SOURCES): New category, for memmem.
	(lib_a_SOURCES, libstring_la_SOURCES): Build new file.
	(CHEWOUT_FILES): Build documentation for memmem.
	* libc/string/strings.tex: Include new docs.

2008-01-08  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/machine/m68k/memcpy.S: Remove % from register references
	as this is already handled by m68kasm.h.
	* libc/machine/m68k/memset.S: Ditto.

2008-01-07  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/machine/m68k/m68kasm.h: New file.
	* libc/machine/m68k/setjmp.S: Remove common definitions and
	place in m68kasm.h.  Include "m68kasm.h".
	* libc/machine/m68k/memcpy.S: Include "m68kasm.h" and use
	SYM() macro when referencing function name.
	* libc/machine/m68k/memset.S: Ditto.

2008-01-03  Jeff Johnston  <jjohnstn@redhat.com>

	Make isatty syscall handling consistent with other newlib syscalls.

	* libc/include/_syslist.h: Add _isatty.
	* libc/include/reent.h: Add _isatty_r.
	* libc/include/sys/unistd.h: Add _isatty.
	* libc/posix/Makefile.am: Add new _isatty.c file.
	* libc/posix/Makefile.in: Regenerated.
	* libc/posix/_isatty.c: New file.
	* libc/posix/isatty.c: Changed to call _isatty().
	* libc/reent/Makefile.am: Add new isattyr.c file.
	* libc/reent/Makefile.in: Regenerated.
	* libc/reent/isattyr.c: New file.
	* libc/stdio/freopen.c: Changed to call _isatty_r().
	* libc/stdio/makebuf.c: Ditto.
	* libc/sys/a29khif/_isatty.S: Change isatty to _isatty.
	* libc/sys/arc/isatty.c: Ditto.
	* libc/sys/arm/syscalls.c: Ditto.
	* libc/sys/d10v/syscalls.c: Ditto.
	* libc/sys/h8300hms/syscalls.c: Ditto.
	* libc/sys/h8500hms/syscalls.c: Ditto.
	* libc/sys/linux/Makefile.am: Add new isatty.c file.
	* libc/sys/linux/Makefile.in: Regenerated.
	* libc/sys/linux/isatty.c: New file.
	* libc/syscalls/Makefile.am: Add new sysisatty.c file.
	* libc/syscalls/Makefile.in: Regenerated.
	* libc/syscalls/sysisatty.c: New file.

2008-01-02  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/syscalls/sysclose.c: Always call reentrant version of the
	underlying syscall since one is guaranteed to exist in libc/reent.
	* libc/syscalls/sysexecve.c: Ditto.
	* libc/syscalls/sysfcntl.c: Ditto.
	* libc/syscalls/sysfork.c: Ditto.
	* libc/syscalls/sysfstat.c: Ditto.
	* libc/syscalls/sysgetpid.c: Ditto.
	* libc/syscalls/sysgettod.c: Ditto.
	* libc/syscalls/syskill.c: Ditto.
	* libc/syscalls/syslink.c: Ditto.
	* libc/syscalls/syslseek.c: Ditto.
	* libc/syscalls/sysopen.c: Ditto.
	* libc/syscalls/sysread.c: Ditto.
	* libc/syscalls/syssbrk.c: Ditto.
	* libc/syscalls/sysstat.c: Ditto.
	* libc/syscalls/systimes.c: Ditto.
	* libc/syscalls/sysunlink.c: Ditto.
	* libc/syscalls/syswait.c: Ditto.
	* libc/syscalls/syswrite.c: Ditto.

2007-12-19  Jeff Johnston  <jjohnstn@redhat.com>

	* NEWS: Update with 1.16.0 info.
	* README: Ditto.
	* acinclude.m4: Change version number to 1.16.0.
	* aclocal.m4: Regenerated.
	* configure: Ditto.
	* doc/aclocal.m4: Ditto.
	* doc/configure: Ditto.
	* libc/*/aclocal.m4: Ditto.
	* libc/*/configure: Ditto.
	* libc/libc.texinfo: Ditto.
	* libm/*/aclocal.m4: Ditto.
	* libm/*/configure: Ditto.
	* libm/libm.texinfo: Ditto.
	* libc/sys/linux/shared.ld: Add VERS_1.16.

2007-12-19  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/string/strcasestr.c: Remove id macro.
	* libc/sys/linux/linuxthreads/attr.c: Fix up sched_priority
	field reference to be __sched_priority.
	* libc/sys/linux/linuxthreads/joinrace.c: Ditto.
	* libc/sys/linux/linuxthreads/manager.c: Ditto.
	* libc/sys/linux/stdlib/collate.c: Remove id macro.
	* libc/sys/linux/stdlib/collcmp.c: Ditto.
	* libc/sys/linux/stdlib/engine.c: Ditto.
	* libc/sys/linux/stdlib/fnmatch.c: Ditto.
	* libc/sys/linux/stdlib/glob.c: Ditto.
	* libc/sys/linux/stdlib/reallocf.c: Ditto.
	* libc/sys/linux/stdlib/regcomp.c: Ditto.
	* libc/sys/linux/stdlib/regerror.c: Ditto.
	* libc/sys/linux/stdlib/regexec.c: Ditto.
	* libc/sys/linux/stdlib/regfree.c: Ditto.
	* libc/sys/linux/sys/cdefs.h: Replace with latest version.
	* libc/sys/linux/include/argp.h: Ditto.
	* libc/sys/linux/sys/libc-lock.h: New file.
	* libc/sys/linux/sys/stdint.h: Ditto.
	* libc/sys/linux/include/sched.h: New file.

2007-12-19  Dave Korn  <dave.korn@artimi.com>
	    Jeff Johnston  <jjohnstn@redhhat.com>

	* libc/include/_ansi.h: Add _LONG_LONG definition.
	* libc/include/math.h (llrint, llrintf, rintl, lrintl, llrintl): Add
	prototypes.
	* libc/machine/i386/machine/fastmath.h: Add support for new i386
	fast math versions of rint, lrint, and llrint family functions.
	* libm/machine/i386/Makefile.am: Add new files.
	* libm/machine/i386/Makefile.in: Regenerated.
	* libm/machine/i386/f_llrint.c, libm/machine/i386/f_lrint.c,
	libm/machine/i386/f_rint.c, libm/machine/i386/f_llrintf.c,
	libm/machine/i386/f_lrintf.c, libm/machine/i386/f_rintf.c,
	libm/machine/i386/f_llrintl.c, libm/machine/i386/f_lrintl.c,
	libm/machine/i386/f_rintl.c:  New files with fast math implementations.

2007-12-19  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/features.h: Add checks for C90 compilers using
	-ansi.

2007-12-19  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/wchar.h: Add prototypes for wcpcpy and wcpncpy.
	* libc/string/Makefile.am (ELIX_SOURCES): Add wcpcpy.c and
	wcpncpy.c.
	(CHEWOUT_FILES): Add wcpcpy.def and wcpncpy.def.
	* libc/string/Makefile.in: Regenerate.
	* libc/string/wcpcpy.c: New file.
	* libc/string/wcpncpy.c: New file.
	* libc/string/wcstrings.tex: Add wcpcpy and wcpncpy.

2007-12-19  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdio/vfprintf.c (_VFPRINTF_R): Use correct pointer in call to
	_wcsrtombs_r.

2007-11-19  Nick Clifton  <nickc@redhat.com>

	* libc/machine/mn10300/Makefile.am (CCASFLAGS): Add -Wa,--gdwarf-2.
	* libc/machine/mn10300/Makefile.in: Regenerate.
	* libc/machine/mn10300/memchar.S: Remove redundant labels.  Add
	.debug_frame section.
	* libc/machine/mn10300/memcmp.S: Likewise.
	* libc/machine/mn10300/memcpy.S: Likewise.
	* libc/machine/mn10300/memset.S: Likewise.
	* libc/machine/mn10300/strchr.S: Likewise.
	* libc/machine/mn10300/strcmp.S: Likewise.
	* libc/machine/mn10300/strcpy.S: Likewise.
	* libc/machine/mn10300/strlen.S: Likewise.

2007-11-15  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/_default_fcntl.h: New header file that
	is the default version of sys/fcntl.h.
	* libc/include/sys/fcntl.h: Changed to simply include
	sys/_default_fcntl.h.
	* libc/sys/arm/sys/fcntl.h: New file that includes
	sys/_default_fcntl.h and defines O_BINARY.

2007-11-08  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/unistd.h: Remove Cygwin definition of MAXPATHLEN.

2007-11-07  Dave Brolley  <brolley@redhat.com>

	* libc/machine/configure: Regenerated to pick up mep-elf changes.

	* Contribute mep-elf from Red Hat
	2006-10-27  DJ Delorie  <dj@redhat.com>

	* libc/include/machine/setjmp.h: Add MeP support.

	2003-04-17  DJ Delorie  <dj@redhat.com>

	* configure.host (mep-*-*): Support "long long" type.

	2001-06-06  DJ Delorie  <dj@redhat.com>

	* libc/include/machine/ieeefp.h (mep): Support little endian too.

	2001-05-14  DJ Delorie  <dj@redhat.com>

	* configure.host: Add mep's machine_dir.
	* libc/include/setjmp.h: Add mep support.
	* libc/machine/mep: New.
	* libc/machine/mep/setjmp.S: New, support mep's setjmp/longjmp.

	2001-05-04  DJ Delorie  <dj@redhat.com>

	* configure.host: Add mep.
	* libc/include/machine/ieeefp.h: Ditto.

2007-10-31  DJ Delorie  <dj@redhat.com>

	* libc/signal/signal.c (_raise_r): Don't attempt to initialize the
	signal table, just use a default, in case initialization cause
	recursion.

2007-10-23  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdlib/wcstombs_r.c: Add SUSV2 support for calculating
	size if output buffer is NULL.

2007-10-17  Jeff Johnston  <jjohnstn@redhat.com>

	* libm/mathfp/s_logarithm.c: Fix error introduced by previous
	fix when handling negative input values.  Make function
	consistent with math directory and glibc version such that
	inf and nan values return inf and nan respectively with no
	errno setting.
	* libm/mathfp/sf_logarithm.c: Ditto.
	* libm/math/w_log.c: Set errno to ERANGE when input is 0.0.
	* libm/math/wf_log.c: Ditto.
	* libm/math/w_log10.c: Ditto.
	* libm/math/wf_log10.c: Ditto.

2007-10-17  Jeff Johnston  <jjohnstn@redhat.com>

	* libm/mathfp/s_logarithm.c: Fix case where input is 0 to
	return -inf.
	* libm/mathfp/sf_logarithm.c: Ditto.

2007-10-17  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/machine/i386/machine/fastmath.h: New file.

2007-10-13  Eric Blake  <ebb9@byu.net>

	* libc/stdio/vfprintf.c (_VFPRINTF_R) [__OPTIMIZE_SIZE__]:
	Correctly nest else within conditionals.
	Reported by Artur Lipowski.

2007-10-09  Nick Clifton  <nickc@redhat.com>

	* libc/sys/linux/dl/do-lookup.h (FCT): Support symbols with
	the STT_COMMON type.

2007-10-09  Ben Elliston  <bje@au.ibm.com>

	* libm/machine/spu/headers/acosd2.h: Include spu_intrinsics.h
	before simdmath.h to get a definition for `vector'.
	* libm/machine/spu/headers/asind2.h: Likewise.

2007-09-28  Patrick Mansfield  <patmans@us.ibm.com>

	* libm/machine/spu/headers/dom_chkd_less_than.h: New file.
	* libm/machine/spu/headers/dom_chkd_negone_one.h: Ditto.
	* libm/machine/spu/headers/dom_chkf_less_than.h: Ditto.
	* libm/machine/spu/headers/dom_chkf_negone_one.h: Ditto.
	* libm/machine/spu/headers/acos.h: Add domain check.
	* libm/machine/spu/headers/acosf.h: Ditto.
	* libm/machine/spu/headers/acosh.h: Ditto.
	* libm/machine/spu/headers/acoshf.h: Ditto.
	* libm/machine/spu/headers/asin.h: Ditto.
	* libm/machine/spu/headers/asinf.h: Ditto.
	* libm/machine/spu/headers/atanh.h: Ditto.
	* libm/machine/spu/headers/atanhf.h: Ditto.
	* libm/machine/spu/headers/fmod.h: Ditto.
	* libm/machine/spu/headers/fmodf.h: Ditto.
	* libm/machine/spu/headers/log.h: Ditto.
	* libm/machine/spu/headers/log10.h: Ditto.
	* libm/machine/spu/headers/log1p.h: Ditto.
	* libm/machine/spu/headers/log1pf.h: Ditto.
	* libm/machine/spu/headers/log2.h: Ditto.
	* libm/machine/spu/headers/log2f.h: Ditto.
	* libm/machine/spu/headers/sqrt.h: Ditto.
	* libm/machine/spu/headers/sqrtf.h: Ditto.
	* libm/machine/spu/headers/tgamma.h: Ditto.
	* libm/machine/spu/headers/tgammaf.h: Ditto.

2007-09-28  Patrick Mansfield  <patmans@us.ibm.com>

	* libm/machine/spu/Makefile.am: Add new C files.
	* libm/machine/spu/Makefile.in: Regenerate.
	* libm/machine/spu/headers/acos.h: New file.
	* libm/machine/spu/headers/acosd2.h: Ditto.
	* libm/machine/spu/headers/acosf.h: Ditto.
	* libm/machine/spu/headers/acosf4.h: Ditto.
	* libm/machine/spu/headers/acosh.h: Ditto.
	* libm/machine/spu/headers/acoshd2.h: Ditto.
	* libm/machine/spu/headers/acoshf.h: Ditto.
	* libm/machine/spu/headers/acoshf4.h: Ditto.
	* libm/machine/spu/headers/asin.h: Ditto.
	* libm/machine/spu/headers/asind2.h: Ditto.
	* libm/machine/spu/headers/asinf.h: Ditto.
	* libm/machine/spu/headers/asinf4.h: Ditto.
	* libm/machine/spu/headers/asinh.h: Ditto.
	* libm/machine/spu/headers/asinhd2.h: Ditto.
	* libm/machine/spu/headers/asinhf.h: Ditto.
	* libm/machine/spu/headers/asinhf4.h: Ditto.
	* libm/machine/spu/headers/atan.h: Ditto.
	* libm/machine/spu/headers/atan2.h: Ditto.
	* libm/machine/spu/headers/atan2d2.h: Ditto.
	* libm/machine/spu/headers/atan2f.h: Ditto.
	* libm/machine/spu/headers/atan2f4.h: Ditto.
	* libm/machine/spu/headers/atand2.h: Ditto.
	* libm/machine/spu/headers/atanf4.h: Ditto.
	* libm/machine/spu/headers/atanh.h: Ditto.
	* libm/machine/spu/headers/atanhd2.h: Ditto.
	* libm/machine/spu/headers/atanhf.h: Ditto.
	* libm/machine/spu/headers/atanhf4.h: Ditto.
	* libm/machine/spu/headers/cos.h: Ditto.
	* libm/machine/spu/headers/cos_sin.h: Ditto.
	* libm/machine/spu/headers/cosd2.h: Ditto.
	* libm/machine/spu/headers/cosf.h: Ditto.
	* libm/machine/spu/headers/cosf4.h: Ditto.
	* libm/machine/spu/headers/cosh.h: Ditto.
	* libm/machine/spu/headers/coshd2.h: Ditto.
	* libm/machine/spu/headers/coshf.h: Ditto.
	* libm/machine/spu/headers/coshf4.h: Ditto.
	* libm/machine/spu/headers/divd2.h: Ditto.
	* libm/machine/spu/headers/divf4.h: Ditto.
	* libm/machine/spu/headers/erf.h: Ditto.
	* libm/machine/spu/headers/erf_utils.h: Ditto.
	* libm/machine/spu/headers/erfc.h: Ditto.
	* libm/machine/spu/headers/erfcd2.h: Ditto.
	* libm/machine/spu/headers/erfcf.h: Ditto.
	* libm/machine/spu/headers/erfcf4.h: Ditto.
	* libm/machine/spu/headers/erfd2.h: Ditto.
	* libm/machine/spu/headers/erff.h: Ditto.
	* libm/machine/spu/headers/erff4.h: Ditto.
	* libm/machine/spu/headers/exp.h: Ditto.
	* libm/machine/spu/headers/exp2.h: Ditto.
	* libm/machine/spu/headers/exp2d2.h: Ditto.
	* libm/machine/spu/headers/exp2f4.h: Ditto.
	* libm/machine/spu/headers/expd2.h: Ditto.
	* libm/machine/spu/headers/expf4.h: Ditto.
	* libm/machine/spu/headers/expm1.h: Ditto.
	* libm/machine/spu/headers/expm1d2.h: Ditto.
	* libm/machine/spu/headers/expm1f.h: Ditto.
	* libm/machine/spu/headers/expm1f4.h: Ditto.
	* libm/machine/spu/headers/floord2.h: Ditto.
	* libm/machine/spu/headers/floorf4.h: Ditto.
	* libm/machine/spu/headers/hypot.h: Ditto.
	* libm/machine/spu/headers/hypotd2.h: Ditto.
	* libm/machine/spu/headers/hypotf.h: Ditto.
	* libm/machine/spu/headers/hypotf4.h: Ditto.
	* libm/machine/spu/headers/isnan.h: Ditto.
	* libm/machine/spu/headers/isnand2.h: Ditto.
	* libm/machine/spu/headers/isnanf.h: Ditto.
	* libm/machine/spu/headers/isnanf4.h: Ditto.
	* libm/machine/spu/headers/ldexpd2.h: Ditto.
	* libm/machine/spu/headers/ldexpf4.h: Ditto.
	* libm/machine/spu/headers/lgamma.h: Ditto.
	* libm/machine/spu/headers/lgammad2.h: Ditto.
	* libm/machine/spu/headers/lgammaf.h: Ditto.
	* libm/machine/spu/headers/lgammaf4.h: Ditto.
	* libm/machine/spu/headers/log.h: Ditto.
	* libm/machine/spu/headers/log10.h: Ditto.
	* libm/machine/spu/headers/log10d2.h: Ditto.
	* libm/machine/spu/headers/log1p.h: Ditto.
	* libm/machine/spu/headers/log1pd2.h: Ditto.
	* libm/machine/spu/headers/log1pf.h: Ditto.
	* libm/machine/spu/headers/log1pf4.h: Ditto.
	* libm/machine/spu/headers/log2.h: Ditto.
	* libm/machine/spu/headers/log2d2.h: Ditto.
	* libm/machine/spu/headers/log2f4.h: Ditto.
	* libm/machine/spu/headers/logbf.h: Ditto.
	* libm/machine/spu/headers/logbf4.h: Ditto.
	* libm/machine/spu/headers/logd2.h: Ditto.
	* libm/machine/spu/headers/logf4.h: Ditto.
	* libm/machine/spu/headers/nearbyintf.h: Ditto.
	* libm/machine/spu/headers/nearbyintf4.h: Ditto.
	* libm/machine/spu/headers/nextafter.h: Ditto.
	* libm/machine/spu/headers/nextafterd2.h: Ditto.
	* libm/machine/spu/headers/nextafterf.h: Ditto.
	* libm/machine/spu/headers/nextafterf4.h: Ditto.
	* libm/machine/spu/headers/pow.h: Ditto.
	* libm/machine/spu/headers/powd2.h: Ditto.
	* libm/machine/spu/headers/powf.h: Ditto.
	* libm/machine/spu/headers/powf4.h: Ditto.
	* libm/machine/spu/headers/recipd2.h: Ditto.
	* libm/machine/spu/headers/recipf4.h: Ditto.
	* libm/machine/spu/headers/rintf.h: Ditto.
	* libm/machine/spu/headers/rintf4.h: Ditto.
	* libm/machine/spu/headers/scalbnf4.h: Ditto.
	* libm/machine/spu/headers/signbit.h: Ditto.
	* libm/machine/spu/headers/signbitd2.h: Ditto.
	* libm/machine/spu/headers/simdmath.h: Ditto.
	* libm/machine/spu/headers/sin.h: Ditto.
	* libm/machine/spu/headers/sincos.h: Ditto.
	* libm/machine/spu/headers/sincosd2.h: Ditto.
	* libm/machine/spu/headers/sincosf.h: Ditto.
	* libm/machine/spu/headers/sincosf4.h: Ditto.
	* libm/machine/spu/headers/sind2.h: Ditto.
	* libm/machine/spu/headers/sinf.h: Ditto.
	* libm/machine/spu/headers/sinf4.h: Ditto.
	* libm/machine/spu/headers/sinh.h: Ditto.
	* libm/machine/spu/headers/sinhd2.h: Ditto.
	* libm/machine/spu/headers/sinhf.h: Ditto.
	* libm/machine/spu/headers/sinhf4.h: Ditto.
	* libm/machine/spu/headers/sqrtd2.h: Ditto.
	* libm/machine/spu/headers/sqrtf.h: Ditto.
	* libm/machine/spu/headers/sqrtf4.h: Ditto.
	* libm/machine/spu/headers/tan.h: Ditto.
	* libm/machine/spu/headers/tand2.h: Ditto.
	* libm/machine/spu/headers/tanf.h: Ditto.
	* libm/machine/spu/headers/tanf4.h: Ditto.
	* libm/machine/spu/headers/tanh.h: Ditto.
	* libm/machine/spu/headers/tanhd2.h: Ditto.
	* libm/machine/spu/headers/tanhf.h: Ditto.
	* libm/machine/spu/headers/tanhf4.h: Ditto.
	* libm/machine/spu/headers/tgamma.h: Ditto.
	* libm/machine/spu/headers/tgammad2.h: Ditto.
	* libm/machine/spu/headers/tgammaf.h: Ditto.
	* libm/machine/spu/headers/tgammaf4.h: Ditto.
	* libm/machine/spu/headers/truncd2.h: Ditto.
	* libm/machine/spu/headers/truncf4.h: Ditto.
	* libm/machine/spu/log2.c: Ditto.
	* libm/machine/spu/s_asinh.c: Ditto.
	* libm/machine/spu/s_atan.c: Ditto.
	* libm/machine/spu/s_cos.c: Ditto.
	* libm/machine/spu/s_erf.c: Ditto.
	* libm/machine/spu/s_expm1.c: Ditto.
	* libm/machine/spu/s_isnan.c: Ditto.
	* libm/machine/spu/s_log1p.c: Ditto.
	* libm/machine/spu/s_nextafter.c: Ditto.
	* libm/machine/spu/s_sin.c: Ditto.
	* libm/machine/spu/s_tan.c: Ditto.
	* libm/machine/spu/s_tanh.c: Ditto.
	* libm/machine/spu/sf_asinh.c: Ditto.
	* libm/machine/spu/sf_cos.c: Ditto.
	* libm/machine/spu/sf_erf.c: Ditto.
	* libm/machine/spu/sf_expm1.c: Ditto.
	* libm/machine/spu/sf_log1p.c: Ditto.
	* libm/machine/spu/sf_logb.c: Ditto.
	* libm/machine/spu/sf_nearbyint.c: Ditto.
	* libm/machine/spu/sf_nextafter.c: Ditto.
	* libm/machine/spu/sf_rint.c: Ditto.
	* libm/machine/spu/sf_sin.c: Ditto.
	* libm/machine/spu/sf_tan.c: Ditto.
	* libm/machine/spu/sf_tanh.c: Ditto.
	* libm/machine/spu/w_acos.c: Ditto.
	* libm/machine/spu/w_acosh.c: Ditto.
	* libm/machine/spu/w_asin.c: Ditto.
	* libm/machine/spu/w_atan2.c: Ditto.
	* libm/machine/spu/w_atanh.c: Ditto.
	* libm/machine/spu/w_cosh.c: Ditto.
	* libm/machine/spu/w_exp.c: Ditto.
	* libm/machine/spu/w_exp2.c: Ditto.
	* libm/machine/spu/w_hypot.c: Ditto.
	* libm/machine/spu/w_lgamma.c: Ditto.
	* libm/machine/spu/w_log.c: Ditto.
	* libm/machine/spu/w_log10.c: Ditto.
	* libm/machine/spu/w_pow.c: Ditto.
	* libm/machine/spu/w_sincos.c: Ditto.
	* libm/machine/spu/w_sinh.c: Ditto.
	* libm/machine/spu/w_tgamma.c: Ditto.
	* libm/machine/spu/wf_acos.c: Ditto.
	* libm/machine/spu/wf_acosh.c: Ditto.
	* libm/machine/spu/wf_asin.c: Ditto.
	* libm/machine/spu/wf_atan2.c: Ditto.
	* libm/machine/spu/wf_atanh.c: Ditto.
	* libm/machine/spu/wf_cosh.c: Ditto.
	* libm/machine/spu/wf_hypot.c: Ditto.
	* libm/machine/spu/wf_lgamma.c: Ditto.
	* libm/machine/spu/wf_pow.c: Ditto.
	* libm/machine/spu/wf_sincos.c: Ditto.
	* libm/machine/spu/wf_sinh.c: Ditto.
	* libm/machine/spu/wf_sqrt.c: Ditto.
	* libm/machine/spu/wf_tgamma.c: Ditto.

2007-09-28  Patrick Mansfield  <patmans@us.ibm.com>

	* configure.host: Define _POSIX_MODE to match the existing vector
	math code, as we don't support the matherr callout.
	* libm/machine/spu/Makefile.am: New file.
	* libm/machine/spu/Makefile.in: Auto-generated.
	* libm/machine/spu/headers/atanf.h: New file.
	* libm/machine/spu/headers/cbrt.h: Ditto.
	* libm/machine/spu/headers/cbrtf.h: Ditto.
	* libm/machine/spu/headers/ceil.h: Ditto.
	* libm/machine/spu/headers/ceilf.h: Ditto.
	* libm/machine/spu/headers/copysign.h: Ditto.
	* libm/machine/spu/headers/copysignf.h: Ditto.
	* libm/machine/spu/headers/exp2f.h: Ditto.
	* libm/machine/spu/headers/expf.h: Ditto.
	* libm/machine/spu/headers/fabs.h: Ditto.
	* libm/machine/spu/headers/fabsf.h: Ditto.
	* libm/machine/spu/headers/fdim.h: Ditto.
	* libm/machine/spu/headers/fdimf.h: Ditto.
	* libm/machine/spu/headers/floor.h: Ditto.
	* libm/machine/spu/headers/floorf.h: Ditto.
	* libm/machine/spu/headers/fma.h: Ditto.
	* libm/machine/spu/headers/fmaf.h: Ditto.
	* libm/machine/spu/headers/fmax.h: Ditto.
	* libm/machine/spu/headers/fmaxf.h: Ditto.
	* libm/machine/spu/headers/fmin.h: Ditto.
	* libm/machine/spu/headers/fminf.h: Ditto.
	* libm/machine/spu/headers/fmod.h: Ditto.
	* libm/machine/spu/headers/fmodf.h: Ditto.
	* libm/machine/spu/headers/frexp.h: Ditto.
	* libm/machine/spu/headers/frexpf.h: Ditto.
	* libm/machine/spu/headers/ilogb.h: Ditto.
	* libm/machine/spu/headers/ilogbf.h: Ditto.
	* libm/machine/spu/headers/ldexp.h: Ditto.
	* libm/machine/spu/headers/ldexpf.h: Ditto.
	* libm/machine/spu/headers/llrint.h: Ditto.
	* libm/machine/spu/headers/llrintf.h: Ditto.
	* libm/machine/spu/headers/llround.h: Ditto.
	* libm/machine/spu/headers/llroundf.h: Ditto.
	* libm/machine/spu/headers/log10f.h: Ditto.
	* libm/machine/spu/headers/log2f.h: Ditto.
	* libm/machine/spu/headers/logf.h: Ditto.
	* libm/machine/spu/headers/lrint.h: Ditto.
	* libm/machine/spu/headers/lrintf.h: Ditto.
	* libm/machine/spu/headers/lround.h: Ditto.
	* libm/machine/spu/headers/lroundf.h: Ditto.
	* libm/machine/spu/headers/nearbyint.h: Ditto.
	* libm/machine/spu/headers/remainder.h: Ditto.
	* libm/machine/spu/headers/remainderf.h: Ditto.
	* libm/machine/spu/headers/remquo.h: Ditto.
	* libm/machine/spu/headers/remquof.h: Ditto.
	* libm/machine/spu/headers/rint.h: Ditto.
	* libm/machine/spu/headers/round.h: Ditto.
	* libm/machine/spu/headers/roundf.h: Ditto.
	* libm/machine/spu/headers/scalbn.h: Ditto.
	* libm/machine/spu/headers/scalbnf.h: Ditto.
	* libm/machine/spu/headers/sqrt.h: Ditto.
	* libm/machine/spu/headers/trunc.h: Ditto.
	* libm/machine/spu/headers/truncf.h: Ditto.
	* libm/machine/spu/headers/vec_literal.h: Ditto.
	* libm/machine/spu/llrint.c: Ditto.
	* libm/machine/spu/llrintf.c: Ditto.
	* libm/machine/spu/llround.c: Ditto.
	* libm/machine/spu/llroundf.c: Ditto.
	* libm/machine/spu/log2f.c: Ditto.
	* libm/machine/spu/s_cbrt.c: Ditto.
	* libm/machine/spu/s_ceil.c: Ditto.
	* libm/machine/spu/s_copysign.c: Ditto.
	* libm/machine/spu/s_fabs.c: Ditto.
	* libm/machine/spu/s_fdim.c: Ditto.
	* libm/machine/spu/s_floor.c: Ditto.
	* libm/machine/spu/s_fma.c: Ditto.
	* libm/machine/spu/s_fmax.c: Ditto.
	* libm/machine/spu/s_fmin.c: Ditto.
	* libm/machine/spu/s_frexp.c: Ditto.
	* libm/machine/spu/s_ilogb.c: Ditto.
	* libm/machine/spu/s_ldexp.c: Ditto.
	* libm/machine/spu/s_lrint.c: Ditto.
	* libm/machine/spu/s_lround.c: Ditto.
	* libm/machine/spu/s_nearbyint.c: Ditto.
	* libm/machine/spu/s_remquo.c: Ditto.
	* libm/machine/spu/s_rint.c: Ditto.
	* libm/machine/spu/s_round.c: Ditto.
	* libm/machine/spu/s_scalbn.c: Ditto.
	* libm/machine/spu/s_trunc.c: Ditto.
	* libm/machine/spu/sf_atan.c: Ditto.
	* libm/machine/spu/sf_cbrt.c: Ditto.
	* libm/machine/spu/sf_ceil.c: Ditto.
	* libm/machine/spu/sf_copysign.c: Ditto.
	* libm/machine/spu/sf_fabs.c: Ditto.
	* libm/machine/spu/sf_fdim.c: Ditto.
	* libm/machine/spu/sf_floor.c: Ditto.
	* libm/machine/spu/sf_fma.c: Ditto.
	* libm/machine/spu/sf_fmax.c: Ditto.
	* libm/machine/spu/sf_fmin.c: Ditto.
	* libm/machine/spu/sf_frexp.c: Ditto.
	* libm/machine/spu/sf_ilogb.c: Ditto.
	* libm/machine/spu/sf_ldexp.c: Ditto.
	* libm/machine/spu/sf_lrint.c: Ditto.
	* libm/machine/spu/sf_lround.c: Ditto.
	* libm/machine/spu/sf_remquo.c: Ditto.
	* libm/machine/spu/sf_round.c: Ditto.
	* libm/machine/spu/sf_scalbn.c: Ditto.
	* libm/machine/spu/sf_trunc.c: Ditto.
	* libm/machine/spu/w_fmod.c: Ditto.
	* libm/machine/spu/w_remainder.c: Ditto.
	* libm/machine/spu/w_sqrt.c: Ditto.
	* libm/machine/spu/wf_exp.c: Ditto.
	* libm/machine/spu/wf_exp2.c: Ditto.
	* libm/machine/spu/wf_fmod.c: Ditto.
	* libm/machine/spu/wf_log.c: Ditto.
	* libm/machine/spu/wf_log10.c: Ditto.
	* libm/machine/spu/wf_remainder.c: Ditto.

2007-09-21  Patrick Mansfield  <patmans@us.ibm.com>

	* libc/machine/spu/sys/uio.h: New file for readv and writev use.

2007-09-21  Patrick Mansfield  <patmans@us.ibm.com>

	* libc/include/sched.h: New file, just include sys/sched.h.
	* libc/machine/spu/sys/sched.h: New file, has just sched_yield
	prototype.
	* libc/machine/spu/sys/utime.h: New file, has utime prototype and
	struct utimbuf definition.

2007-09-21  Patrick Mansfield  <patmans@us.ibm.com>

	* libc/machine/spu/sys/dirent.h: New file, add prototypes and SPU
	specific struct and typedef.

2007-09-18  Patrick Mansfield  <patmans@us.ibm.com>

	* libc/include/sys/types.h: Use __dev_t, __uid_t, and __gid_t to
	typedef dev_t, gid_t, and uid_t.
	* libc/include/sys/_types.h: Move previous dev_t, uid_t and gid_t
	types.h code to here, but typedef __dev_t, __uid_t, and __gid_t instead.
	Change to lower case for all __foo_t_defined names.
	* libc/machine/spu/machine/_types.h: Add SPU specific __dev_t,
	__uid_t, and __gid_t making them all four bytes. Change to lower case
	for all __foo_t_defined names.

2007-09-18  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/reent/renamer.c: New file.
	* libc/reent/Makefile.am: Add new file.
	* libc/reent/Makefile.in: Regenerated.
	* libc/stdio/rename.c: Break out _rename_r code into reent/renamer.c
	and add check for rename syscall.

2007-09-17  Eric Blake  <ebb9@byu.net>

	Obey POSIX on printf("%.s", (char*)NULL).
	* libc/stdio/vfprintf.c (_VFPRINTF_R): Take precision into account
	for %s on NULL.  Skip NULL check when optimizing for size.

2007-09-07  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/_types.h: Protect all types with flag
	checks to allow definition in machine/_types.h.

2007-09-07  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/sys/_types.h: Add _fpos_t and _fpos64_t
	definitions in light of the previous change.

2007-09-07  Patrick Mansfield  <patmans@us.ibm.com>

	* libc/include/machine/_default_types.h: New file, contains what
	was previously in libc/include/machine/_types.h.
	* libc/include/machine/_types.h: Now only includes
	machine/_default_types.h.
	* libc/include/sys/reent.h: Remove _fpos_t and _fpos64_t.
	* libc/include/sys/_types.h: Move _fpos_t and _fpos64_t to here,
	with conditional declarations.
	* libc/machine/spu/machine/_types.h: New file, add SPU specific
	typedefs for _fpos_t and _fpos64_t.

2007-09-07  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/math.h (_M_LOG2E): Replace with..
	(_M_LOG2_E): New macro.
	(log2, log2f, M_LOG2_E): Use _M_LOG2_E.

2007-09-06  Brian Dessent  <brian@dessent.net>

	* libc/reent/getreent.c: Allow for case where __getreent is
	defined as a macro.

2007-09-06  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/math.h (_M_LOG2E): New log2 of e macro.
	(log2): Use _M_LOG2E instead of M_LOG2E.
	(log2f): Ditto.
	(M_LOG2E): Define to be _M_LOG2E.

2007-09-04  Kazunori Asayama <asayama@sm.sony.co.jp>

	* libm/math/wf_tgamma.c: Add missing include.

2007-08-31  Antony King  <antony.king@st.com>

	* libc/stdlib/mprec.h [_DOUBLE_IS_32BITS}: Define IEEE_Arith
	bits and redefine associated dword0 macro (rvalue issue).
	* libc/stdio/vfieeefp.h: Ditto.
	* libc/stdlib/strtod.c: Add checks for _DOUBLE_IS_32BITS
	to prevent setting dword1 which is an rvalue only.

2007-08-28  Hans Kester  <hans.kester@ellips.nl>

	* configure.host: Added support for x86_64.
	* libc/include/machine/ieeefp.h: Define __IEEE_LITTLE_ENDIAN for x86_64.
	* libc/include/machine/setjmp.h: Define _JBTYPE and _JBLEN for x86_64.
	* libc/machine/x86_64/aclocal.m4: Generated.
	* libc/machine/x86_64/configure.in: New.
	* libc/machine/x86_64/configure: Generated.
	* libc/machine/x86_64/Makefile.am: New.
	* libc/machine/x86_64/Makefile.in: Generated.
	* libc/machine/x86_64/setjmp.S: New.
	* libc/machine/x86_64/memcpy.S: New.
	* libc/machine/x86_64/memset.S: New.
	* libc/machine/configure.in: Added support for x86_64.
	* libc/machine/configure: Regenerated.

2007-08-24  Jeff Johnston  <jjohnstn@redhat.com>

	* libm/common/sf_lround.c (lroundf): Cast sizeof calculation
	to int before comparing it to a signed int value.

2007-08-24  Hans-Peter Nilsson  <hp@axis.com>

	* libc/machine/cris/sys/errno.h (ECANCELED, ENOKEY, EKEYEXPIRED)
	(EKEYREVOKED, EKEYREJECTED, EOWNERDEAD, ENOTRECOVERABLE, ENOTSUP):
	Define.

2007-08-23  Hidetaka Takano  <hidetaka.takano@glb.toshiba.co.jp>

	Reduce the memory consumption of variable argument functions
	for SPU (cell):
	* libc/machine/spu/Makefile.am: Replace printf/scanf family C sources
	  to assembler sources.
	* libc/machine/spu/Makefile.in: Regenerated.
	* libc/machine/spu/stdio.c: Add __check_init function wrapping
	  CHECK_INIT macro to use from assembler routines.
	* libc/machine/spu/c99ppe.h: Add definitions for assembler code.
	* libc/machine/spu/fiprintf.S: New file.
	* libc/machine/spu/fiscanf.S: Ditto.
	* libc/machine/spu/fprintf.S: Ditto.
	* libc/machine/spu/fscanf.S: Ditto.
	* libc/machine/spu/iprintf.S: Ditto.
	* libc/machine/spu/iscanf.S: Ditto.
	* libc/machine/spu/printf.S: Ditto.
	* libc/machine/spu/scanf.S: Ditto.
	* libc/machine/spu/siprintf.S: Ditto.
	* libc/machine/spu/siscanf.S: Ditto.
	* libc/machine/spu/sniprintf.S: Ditto.
	* libc/machine/spu/snprintf.S: Ditto.
	* libc/machine/spu/sprintf.S: Ditto.
	* libc/machine/spu/sscanf.S: Ditto.
	* libc/machine/spu/stack_reg_va.S: Ditto.
	* libc/machine/spu/syscall.def: Ditto. (for maintenance)
	* libc/machine/spu/mk_syscalls: Ditto. (for maintenance)
	* libc/machine/spu/fiprintf.c: Removed. (Replaced by .S)
	* libc/machine/spu/fiscanf.c: Ditto.
	* libc/machine/spu/fprintf.c: Ditto.
	* libc/machine/spu/fscanf.c: Ditto.
	* libc/machine/spu/iprintf.c: Ditto.
	* libc/machine/spu/iscanf.c: Ditto.
	* libc/machine/spu/printf.c: Ditto.
	* libc/machine/spu/scanf.c: Ditto.
	* libc/machine/spu/siprintf.c: Ditto.
	* libc/machine/spu/siscanf.c: Ditto.
	* libc/machine/spu/sniprintf.c: Ditto.
	* libc/machine/spu/snprintf.c: Ditto.
	* libc/machine/spu/sprintf.c: Ditto.
	* libc/machine/spu/sscanf.c: Ditto.

2007-08-03  Ralf Corsepius  <ralf.corsepius@rtems.org>

	* libc/include/tar.h: New.

2007-08-03  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/intl/Makefile.am: Change stpcpy reference to
	lcl_stpcpy to avoid conflict with new stpcpy.c in libc/string.
	* libc/sys/linux/intl/Makefile.in: Regenerated.
	* libc/sys/linux/intl/stpcpy.c: Renamed to...
	* libc/sys/linux/intl/lcl_stpcpy.c: ..this.

2007-08-02  Eric Blake  <ebb9@byu.net>

	Implement fmemopen and open_memstream.
	* libc/stdio/fmemopen.c (_fmemopen_r, fmemopen): New file.
	* libc/stdio/open_memstream.c (_open_memstream_r, open_memstream):
	New file.
	* libc/stdio/fopencookie.c (fcwriter): Minor optimization.
	* libc/include/stdio.h (dprintf, vdprintf): Group all POSIX 200x
	functions together.
	(fmemopen, open_memstream): Declare new functions.
	* libc/stdio/stdio.tex: Document them.
	* libc/stdio/Makefile.am (ELIX_4_SOURCES, CHEWOUT_FILES): Add
	fmemopen and open_memstream.
	* libc/stdio/Makefile.in: Regenerate.

2007-07-31  Eric Blake  <ebb9@byu.net>

	More POSIX stream corner cases.
	* libc/stdio/findfp.c (__sinit): Open stderr read/write.
	* libc/stdio/fdopen.c (_fdopen_r): Set O_APPEND on fd when
	requested.
	* libc/stdio64/fdopen64.c (_fdopen64_r): Likewise.

2007-07-18  Eric Blake  <ebb9@byu.net>

	Fix 'make info'.
	* libc/stdio/stdio.tex: Add missing include.
	* libc/stdio/vfprintf.c: Use expected node name.
	* libc/stdio/vfscanf.c: Likewise.
	* libc/stdio/sscanf.c: Likewise.
	* libc/stdio/sprintf.c: Likewise.
	* libc/stdio/siscanf.c: Likewise.
	* libc/stdio/siprintf.c: Likewise.
	* libc/stdio/fopencookie.c: Quote raw {}.
	Reported by DJ Delorie.

2007-07-13  Eric Blake  <ebb9@byu.net>

	Fix fflush issues.
	* libc/stdio/fflush.c (_fflush_r): New function.
	(fflush): Fix reentrancy and large offset behavior.
	* libc/include/stdio.h (_fflush_r): Add prototype.
	* libc/stdio/fclose.c (_fclose_r): All fflush callers changed.
	* libc/stdio/freopen.c (_freopen_r): Likewise.
	* libc/stdio/fseek.c (_fseek_r): Likewise.
	* libc/stdio/ftell.c (_ftell_r): Likewise.
	* libc/stdio/fvwrite.c (__sfvwrite_r): Likewise.
	* libc/stdio/refill.c (__srefill_r): Likewise.
	* libc/stdio/setvbuf.c (setvbuf): Likewise.
	* libc/stdio/ungetc.c (_ungetc_r): Likewise.
	* libc/stdio/vfprintf.c (__sbprintf): Likewise.
	* libc/stdio/wbuf.c (__swbuf_r): Likewise.
	* libc/stdio64/freopen64.c (_freopen64_r): Likewise.
	* libc/stdio64/fseeko64.c (_fseeko64_r): Likewise.  Defer to
	32-bit version if not large file.
	* libc/stdio64/ftello64.c (_ftello64_r): Likewise.
	* libc/stdio64/tmpfile64.c (_tmpfile64_r): Avoid compile warning.

	Documentation updates.
	* libc/stdio/ungetc.c: Document ungetc.
	* libc/stdio/Makefile.am (CHEWOUT_FILES): Sort, match current list
	of files with documentation.
	* libc/stdio/Makefile.in: Regenerate.
	* libc/stdio/stdio.tex: Sort and update stdio documentation index.

2007-07-11  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/math.h: Fix so C99 functions/macros are accessible
	when -std=c99 is used when compiling and not when using C89.

2007-07-06  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/wchar.h: Declare wcstol, wcstoll, wcstoul,
	wcstoull, _wcstol_r, _wcstoll_r, _wcstoul_r and _wcstoull_r.
	* libc/stdlib/Makefile.am (GENERAL_SOURCES): Add wcstol.c and wcstoul.c.
	(EXTENDED_SOURCES): Add wcstoll.c, wcstoll_r.c, wcstoull.c and
	wcstoull_r.c.
	(CHEWOUT_FILES): Add .def files accordingly.
	* libc/stdlib/Makefile.in: Regenerate.
	* libc/stdlib/stdlib.tex: Add documentation links for above functions.
	* libc/stdlib/strtoll.c: Fix portability note.
	* libc/stdlib/strtoull.c: Ditto.
	* libc/stdlib/wcstol.c: New file.
	* libc/stdlib/wcstoll.c: New file.
	* libc/stdlib/wcstoll_r.c: New file.
	* libc/stdlib/wcstoul.c: New file.
	* libc/stdlib/wcstoull.c: New file.
	* libc/stdlib/wcstoull_r.c: New file.

2007-07-06  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/time.h (gettimeofday): Change to proper
	prototype where second parameter is void *.
	* libc/reent/gettimeofdayr.c (_gettimeofday_r): Change prototype
	accordingly.
	* libc/include/reent.h: Fix prototype for _gettimeofday_r.
	* libc/sys/arm/syscalls.c: Fix gettimeofday function signature.
	* libc/sys/rdos/gettod.c: Ditto.
	* libc/sys/sh/syscalls.c: Ditto.
	* libc/time/time.c (time): Change call to _gettimeofday_r
	to pass NULL as 2nd argument.

2007-07-06  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/intl/dcigettext.c: Define HAVE_STPCPY.
	* libc/sys/linux/intl/l10nflist.c: Ditto.

2007-07-04  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/wchar.h: Add prototype for wcsxfrm.
	* libc/string/Makefile.am (GENERAL_SOURCES): Add wcsxfrm.c.
	(CHEWOUT_FILES): Add wcsxfrm.def.
	* libc/string/Makefile.in: Regenerate.
	* libc/string/wcsxfrm.c: New file.
	* libc/string/wcstrings.tex: Add wcsxfrm.

2007-06-28  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/string.h: Add prototypes for stpcpy and stpncpy.
	* libc/string/Makefile.am (ELIX_SOURCES): Add stpcpy.c and
	stpncpy.c.
	(CHEWOUT_FILES): Add stpcpy.def and stpncpy.def.
	* libc/string/Makefile.in: Regenerate.
	* libc/string/stpcpy.c: New file.
	* libc/string/stpncpy.c: New file.
	* libc/string/strings.tex: Add stpcpy and stpncpy.

2007-06-27  Eric Blake  <ebb9@byu.net>

	Support __func__ in assert, as required by C99.
	* libc/stdlib/assert.c (__assert_func): New function.
	(__assert): Use __assert_func.
	* libc/include/assert.h (assert) [!NDEBUG]: Use __assert_func when
	possible.

2007-06-20  Patrick Mansfield  <patmans@us.ibm.com>

	* libc/machine/spu/perror.c: Pass errno as the second argument to
	the assist call.

2007-06-20  Patrick Mansfield  <patmans@us.ibm.com>

	* libc/include/sys/unistd.h[__SPU__]: Add lockf prototype and related
	defines; expose ftruncate, truncate and sync prototypes.

2007-06-20  Patrick Mansfield  <patmans@us.ibm.com>

	* libc/include/sys/unistd.h[__SPU__]: Make fchdir prototype visible.
	* libc/include/sys/stat.h[__SPU__]: Make mknod and lstat prototypes
	visible.

2007-06-15  Patrick Mansfield  <patmans@us.ibm.com>

	* libc/machine/spu/Makefile.am: Remove mktemp.c, it was left in
	from a dropped patch.
	* libc/machine/spu/Makefile.in: Regenerate.

2007-06-13  Patrick Mansfield  <patmans@us.ibm.com>

	* libc/machine/spu/creat.c: New file copied from libc/posix/creat.c,
	it just calls open with appropriate arguments.
	* libc/machine/spu/Makefile.am: Add creat.c.
	* libc/machine/spu/Makefile.in: Regenerate.

2007-06-13  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/machine/spu/Makefile.am: Re-add back setjmp.S which
	I accidentally dropped.
	* libc/machine/spu/Makefile.in: Regenerated.

2007-06-13  Patrick Mansfield  <patmans@us.ibm.com>

	* libc/include/sys/features.h: Define _POSIX_TIMERS for spu.
	* libc/include/sys/unistd.h: Change usleep prototype to Posix
	form and move outside of OS flag checks.
	* libc/machine/spu/Makefile.am: Add sleep and usleep.
	* libc/machine/spu/Makefile.in: Regenerate.
	* libc/machine/spu/sleep.c: Copy libc/posix/sleep.c.
	* libc/machine/spu/usleep.c: Copy libc/posix/usleep.c.

2007-06-11  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/unistd.h: Declare confstr for Cygwin.
	Define confstr constants for Cygwin.  Add comment.

2007-06-10  Hans-Peter Nilsson  <hp@bitrange.com>

	* libc/sys/mmixware/access.c (access): Do not try to use a magic
	file-handle and a direct syscall, just use _open.
	* libc/sys/mmixware/sys/syscall.h (TMPFNO): Remove this magic
	file-handle.

	* libc/sys/mmixware/_exit.c (_exit): Update comment about
	passing on the exit value.

2007-06-08  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/string/strcasestr.c: New file.
	* libc/include/string.h: Add strcasestr.
	* libc/string/strings.tex: Add strcasestr.
	* libc/string/Makefile.am: Ditto.
	* libc/string/Makefile.in: Regenerated.

2007-06-06  Christian Groessler  <chris@groessler.org>

	* libc/stdlib/ldtoa (_ldcheck): Make sure the setting of
	rnd is done after the last local variable declaration.

2007-06-06  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdlib/mprec.h[Just_16]: Make sure that Pack_16 is defined.

2007-06-05  Christian Groessler  <chris@groessler.org>

	* libc/argz/argz_insert.c (argz_insert): Move delta variable
	declaration to top of function in keeping with C89 standard.

2007-06-04  Eric Blake  <ebb9@byu.net>

	Implement funopen, fopencookie.
	* libc/include/sys/reent.h (struct __sFILE, struct __sFILE64):
	Switch to reentrant callbacks.
	* libc/include/stdio.h (funopen): Fix declaration.
	(fopencookie): Declare.
	* libc/stdio/local.h (__sread, __swrite, __sseek, __sclose)
	(__sseek64, __swrite64): Fix prototypes.
	[__SCLE]: Pull in setmode declaration.
	* libc/stdio/stdio.c (__sread, __swrite, __sseek, __sclose): Fix
	reentrancy.
	* libc/stdio64/stdio64.c (__sseek64_r, __swrite64_r): Delete.
	(__sseek64, __swrite64): Fix reentrancy.
	* libc/stdio/fseek.c (_fseek_r): Account for overflow, and fix
	reentrancy.
	* libc/stdio/ftell.c (_ftell_r): Likewise.
	* libc/stdio/flags.c (__sflags): Don't lose __SAPP on "a+".
	* libc/stdio/fclose.c (_fclose_r): Fix reentrancy.
	* libc/stdio/freopen.c (_freopen_r): Likewise.
	* libc/stdio/fvwrite.c (__sfvwrite_r): Likewise.
	* libc/stdio/refill.c (__srefill_r): Likewise.
	* libc/stdio/siscanf.c (eofread): Likewise.
	* libc/stdio/sscanf.c (eofread): Likewise.
	* libc/stdio/vsiscanf.c (eofread1): Likewise.
	* libc/stdio/vsscanf.c (eofread1): Likewise.
	* libc/stdio64/freopen64.c (_freopen64_r): Likewise.
	* libc/stdio64/fseeko64.c (_fseeko64_r): Likewise.
	* libc/stdio64/ftello64.c (_ftello64_r): Likewise.
	* libc/stdio/fflush.c (fflush): Improve reentrancy, although more
	could be fixed.
	* libc/stdio/fopencookie.c (_fopencookie_r, fopencookie): New file.
	* libc/stdio/funopen.c (_funopen_r, funopen): New file.
	* libc/stdio/Makefile.am (ELIX_4_SOURCES, CHEWOUT_FILES): Build
	new files.
	* libc/stdio/Makefile.in: Regenerate.

2007-05-29  Eric Blake  <ebb9@byu.net>

	Avoid more compiler warnings.
	* libc/stdlib/btowc.c: Add missing header.
	* libc/stdlib/getopt.c (getopt_internal): Initialize variable.
	* libc/stdlib/system.c (do_system) [__CYGWIN__]: Add declaration.
	* libc/stdlib/wctob.c: Add missing header.
	* libc/string/strcpy.c (strcpy): Avoid warnings.
	* libc/string/strrchr.c (strrchr): Likewise.

2007-05-29  Corinna Vinschen  <corinna@vinschen.de>

	* libc/argz/argz_add_sep.c (argz_add_sep): Handle empty string
	argument.
	* libc/argz/argz_append.c (argz_append): Handle empty buf argument.
	* libc/argz/argz_create_sep.c (argz_create_sep): Return (NULL, 0)
	on empty input strings.
	* libc/argz/argz_extract.c (argz_extract): Check argz_len before
	looping through argz.
	* libc/argz/argz_stringify.c (argz_stringify): Ditto.

2007-05-27  Brian Dessent  <brian@dessent.net>

	* libc/stdio/vfprintf.c (_VFPRINTF_R): Populate 'ox' when
	handling %p.

2007-05-25  Eric Blake  <ebb9@byu.net>

	* libc/stdio/rewind.c (rewind): Fix regression of 2003-08-22.

2007-05-24  Steve Ellcey  <sje@cup.hp.com>
	    Charles Wilson  <libtool@cwilson.fastmail.fm>

	* libtool.m4: removed
	* configure.in: invoke _LD_DECL_SED before conditionally initializing
	libtool.  Move AC_PROG_AWK outside conditional.
	* libc/sys/linux/configure.in: Ditto.
	* libc/sys/linux/linuxthreads/configure.in: Ditto.
	* libc/sys/linux/linuxthreads/machine/i386/configure.in: Ditto.
	* libc/sys/linux/machine/i386/configure.in: Ditto.

	* iconvdata/configure.in: invoke _LD_DECL_SED before conditionally
	initializing libtool.
	* libc/configure.in: Ditto.
	* libc/machine/configure.in: Ditto.
	* libc/machine/i386/configure.in: Ditto.
	* libc/sys/configure.in: Ditto.
	* libc/sys/linux/linuxthreads/machine/configure.in: Ditto.
	* libc/sys/linux/machine/configure.in: Ditto.
	* libm/configure.in: Ditto.
	* libm/machine/configure.in: Ditto.

	* Makefile.am: Ensure toplevel is included in ACLOCAL_AMFLAGS.
	* doc/Makefile.am: Ditto.
	* iconvdata/Makefile.am: Ditto.
	* libc/Makefile.am: Ditto.
	* libc/machine/Makefile.am: Ditto.
	* libc/machine/a29k/Makefile.am: Ditto.
	* libc/machine/arm/Makefile.am: Ditto.
	* libc/machine/bfin/Makefile.am: Ditto.
	* libc/machine/cris/Makefile.am: Ditto.
	* libc/machine/crx/Makefile.am: Ditto.
	* libc/machine/d10v/Makefile.am: Ditto.
	* libc/machine/d30v/Makefile.am: Ditto.
	* libc/machine/fr30/Makefile.am: Ditto.
	* libc/machine/frv/Makefile.am: Ditto.
	* libc/machine/h8300/Makefile.am: Ditto.
	* libc/machine/h8500/Makefile.am: Ditto.
	* libc/machine/hppa/Makefile.am: Ditto.
	* libc/machine/i386/Makefile.am: Ditto.
	* libc/machine/i960/Makefile.am: Ditto.
	* libc/machine/iq2000/Makefile.am: Ditto.
	* libc/machine/m32c/Makefile.am: Ditto.
	* libc/machine/m32r/Makefile.am: Ditto.
	* libc/machine/m68hc11/Makefile.am: Ditto.
	* libc/machine/m68k/Makefile.am: Ditto.
	* libc/machine/m88k/Makefile.am: Ditto.
	* libc/machine/mips/Makefile.am: Ditto.
	* libc/machine/mn10200/Makefile.am: Ditto.
	* libc/machine/mn10300/Makefile.am: Ditto.
	* libc/machine/mt/Makefile.am: Ditto.
	* libc/machine/necv70/Makefile.am: Ditto.
	* libc/machine/powerpc/Makefile.am: Ditto.
	* libc/machine/sh/Makefile.am: Ditto.
	* libc/machine/sparc/Makefile.am: Ditto.
	* libc/machine/spu/Makefile.am: Ditto.
	* libc/machine/tic4x/Makefile.am: Ditto.
	* libc/machine/tic80/Makefile.am: Ditto.
	* libc/machine/v850/Makefile.am: Ditto.
	* libc/machine/w65/Makefile.am: Ditto.
	* libc/machine/xscale/Makefile.am: Ditto.
	* libc/machine/xstormy16/Makefile.am: Ditto.
	* libc/machine/z8k/Makefile.am: Ditto.
	* libc/sys/Makefile.am: Ditto.
	* libc/sys/a29khif/Makefile.am: Ditto.
	* libc/sys/arc/Makefile.am: Ditto.
	* libc/sys/arm/Makefile.am: Ditto.
	* libc/sys/d10v/Makefile.am: Ditto.
	* libc/sys/decstation/Makefile.am: Ditto.
	* libc/sys/h8300hms/Makefile.am: Ditto.
	* libc/sys/h8500hms/Makefile.am: Ditto.
	* libc/sys/linux/Makefile.am: Ditto.
	* libc/sys/linux/linuxthreads/Makefile.am: Ditto.
	* libc/sys/linux/linuxthreads/machine/Makefile.am: Ditto.
	* libc/sys/linux/linuxthreads/machine/i386/Makefile.am: Ditto.
	* libc/sys/linux/machine/Makefile.am: Ditto.
	* libc/sys/linux/machine/i386/Makefile.am: Ditto.
	* libc/sys/m88kbug/Makefile.am: Ditto.
	* libc/sys/mmixware/Makefile.am: Ditto.
	* libc/sys/netware/Makefile.am: Ditto.
	* libc/sys/rdos/Makefile.am: Ditto.
	* libc/sys/rtems/Makefile.am: Ditto.
	* libc/sys/sh/Makefile.am: Ditto.
	* libc/sys/sparc64/Makefile.am: Ditto.
	* libc/sys/sun4/Makefile.am: Ditto.
	* libc/sys/sysmec/Makefile.am: Ditto.
	* libc/sys/sysnec810/Makefile.am: Ditto.
	* libc/sys/sysnecv850/Makefile.am: Ditto.
	* libc/sys/sysvi386/Makefile.am: Ditto.
	* libc/sys/sysvnecv70/Makefile.am: Ditto.
	* libc/sys/tic80/Makefile.am: Ditto.
	* libc/sys/w65/Makefile.am: Ditto.
	* libc/sys/z8ksim/Makefile.am: Ditto.
	* libm/Makefile.am: Ditto.
	* libm/machine/Makefile.am: Ditto.
	* libm/machine/i386/Makefile.am: Ditto.
	* libm/machine/spu/Makefile.am: Ditto.

	* aclocal.m4: Regenerate.
	* iconvdata/aclocal.m4: Regenerate.
	* libc/aclocal.m4: Regenerate.
	* libc/machine/aclocal.m4: Regenerate.
	* libc/machine/i386/aclocal.m4: Regenerate.
	* libc/sys/aclocal.m4: Regenerate.
	* libc/sys/linux/aclocal.m4: Regenerate.
	* libc/sys/linux/linuxthreads/aclocal.m4: Regenerate.
	* libc/sys/linux/linuxthreads/machine/aclocal.m4: Regenerate.
	* libc/sys/linux/linuxthreads/machine/i386/aclocal.m4: Regenerate.
	* libc/sys/linux/machine/aclocal.m4: Regenerate.
	* libc/sys/linux/machine/i386/aclocal.m4: Regenerate.
	* libm/aclocal.m4: Regenerate.
	* libm/machine/aclocal.m4: Regenerate.
	* libm/machine/i386/aclocal.m4: Regenerate.

	* Makefile.in: Regenerate.
	* doc/Makefile.in: Regenerate.
	* iconvdata/Makefile.in: Regenerate.
	* libc/Makefile.in: Regenerate.
	* libc/argz/Makefile.in: Regenerate.
	* libc/ctype/Makefile.in: Regenerate.
	* libc/errno/Makefile.in: Regenerate.
	* libc/iconv/Makefile.in: Regenerate.
	* libc/iconv/ccs/Makefile.in: Regenerate.
	* libc/iconv/ccs/binary/Makefile.in: Regenerate.
	* libc/iconv/ces/Makefile.in: Regenerate.
	* libc/iconv/lib/Makefile.in: Regenerate.
	* libc/locale/Makefile.in: Regenerate.
	* libc/machine/Makefile.in: Regenerate.
	* libc/machine/a29k/Makefile.in: Regenerate.
	* libc/machine/arm/Makefile.in: Regenerate.
	* libc/machine/bfin/Makefile.in: Regenerate.
	* libc/machine/cris/Makefile.in: Regenerate.
	* libc/machine/crx/Makefile.in: Regenerate.
	* libc/machine/d10v/Makefile.in: Regenerate.
	* libc/machine/d30v/Makefile.in: Regenerate.
	* libc/machine/fr30/Makefile.in: Regenerate.
	* libc/machine/frv/Makefile.in: Regenerate.
	* libc/machine/h8300/Makefile.in: Regenerate.
	* libc/machine/h8500/Makefile.in: Regenerate.
	* libc/machine/hppa/Makefile.in: Regenerate.
	* libc/machine/i386/Makefile.in: Regenerate.
	* libc/machine/i960/Makefile.in: Regenerate.
	* libc/machine/iq2000/Makefile.in: Regenerate.
	* libc/machine/m32c/Makefile.in: Regenerate.
	* libc/machine/m32r/Makefile.in: Regenerate.
	* libc/machine/m68hc11/Makefile.in: Regenerate.
	* libc/machine/m68k/Makefile.in: Regenerate.
	* libc/machine/m88k/Makefile.in: Regenerate.
	* libc/machine/mips/Makefile.in: Regenerate.
	* libc/machine/mn10200/Makefile.in: Regenerate.
	* libc/machine/mn10300/Makefile.in: Regenerate.
	* libc/machine/mt/Makefile.in: Regenerate.
	* libc/machine/necv70/Makefile.in: Regenerate.
	* libc/machine/powerpc/Makefile.in: Regenerate.
	* libc/machine/sh/Makefile.in: Regenerate.
	* libc/machine/sparc/Makefile.in: Regenerate.
	* libc/machine/spu/Makefile.in: Regenerate.
	* libc/machine/tic4x/Makefile.in: Regenerate.
	* libc/machine/tic80/Makefile.in: Regenerate.
	* libc/machine/v850/Makefile.in: Regenerate.
	* libc/machine/w65/Makefile.in: Regenerate.
	* libc/machine/xscale/Makefile.in: Regenerate.
	* libc/machine/xstormy16/Makefile.in: Regenerate.
	* libc/machine/z8k/Makefile.in: Regenerate.
	* libc/misc/Makefile.in: Regenerate.
	* libc/posix/Makefile.in: Regenerate.
	* libc/reent/Makefile.in: Regenerate.
	* libc/search/Makefile.in: Regenerate.
	* libc/signal/Makefile.in: Regenerate.
	* libc/stdio/Makefile.in: Regenerate.
	* libc/stdio64/Makefile.in: Regenerate.
	* libc/stdlib/Makefile.in: Regenerate.
	* libc/string/Makefile.in: Regenerate.
	* libc/sys/Makefile.in: Regenerate.
	* libc/sys/a29khif/Makefile.in: Regenerate.
	* libc/sys/arc/Makefile.in: Regenerate.
	* libc/sys/arm/Makefile.in: Regenerate.
	* libc/sys/d10v/Makefile.in: Regenerate.
	* libc/sys/decstation/Makefile.in: Regenerate.
	* libc/sys/h8300hms/Makefile.in: Regenerate.
	* libc/sys/h8500hms/Makefile.in: Regenerate.
	* libc/sys/linux/Makefile.in: Regenerate.
	* libc/sys/linux/argp/Makefile.in: Regenerate.
	* libc/sys/linux/cmath/Makefile.in: Regenerate.
	* libc/sys/linux/dl/Makefile.in: Regenerate.
	* libc/sys/linux/iconv/Makefile.in: Regenerate.
	* libc/sys/linux/intl/Makefile.in: Regenerate.
	* libc/sys/linux/linuxthreads/Makefile.in: Regenerate.
	* libc/sys/linux/linuxthreads/machine/Makefile.in: Regenerate.
	* libc/sys/linux/linuxthreads/machine/i386/Makefile.in: Regenerate.
	* libc/sys/linux/machine/Makefile.in: Regenerate.
	* libc/sys/linux/machine/i386/Makefile.in: Regenerate.
	* libc/sys/linux/net/Makefile.in: Regenerate.
	* libc/sys/linux/stdlib/Makefile.in: Regenerate.
	* libc/sys/m88kbug/Makefile.in: Regenerate.
	* libc/sys/mmixware/Makefile.in: Regenerate.
	* libc/sys/netware/Makefile.in: Regenerate.
	* libc/sys/rdos/Makefile.in: Regenerate.
	* libc/sys/rtems/Makefile.in: Regenerate.
	* libc/sys/sh/Makefile.in: Regenerate.
	* libc/sys/sparc64/Makefile.in: Regenerate.
	* libc/sys/sun4/Makefile.in: Regenerate.
	* libc/sys/sysmec/Makefile.in: Regenerate.
	* libc/sys/sysnec810/Makefile.in: Regenerate.
	* libc/sys/sysnecv850/Makefile.in: Regenerate.
	* libc/sys/sysvi386/Makefile.in: Regenerate.
	* libc/sys/sysvnecv70/Makefile.in: Regenerate.
	* libc/sys/tic80/Makefile.in: Regenerate.
	* libc/sys/w65/Makefile.in: Regenerate.
	* libc/sys/z8ksim/Makefile.in: Regenerate.
	* libc/syscalls/Makefile.in: Regenerate.
	* libc/time/Makefile.in: Regenerate.
	* libc/unix/Makefile.in: Regenerate.
	* libm/Makefile.in: Regenerate.
	* libm/common/Makefile.in: Regenerate.
	* libm/machine/Makefile.in: Regenerate.
	* libm/machine/i386/Makefile.in: Regenerate.
	* libm/machine/spu/Makefile.in: Regenerate.
	* libm/math/Makefile.in: Regenerate.
	* libm/mathfp/Makefile.in: Regenerate.

	* configure: Regenerate.
	* iconvdata/configure: Regenerate.
	* libc/configure: Regenerate.
	* libc/machine/configure: Regenerate.
	* libc/machine/i386/configure: Regenerate.
	* libc/sys/configure: Regenerate.
	* libc/sys/linux/configure: Regenerate.
	* libc/sys/linux/linuxthreads/configure: Regenerate.
	* libc/sys/linux/linuxthreads/machine/configure: Regenerate.
	* libc/sys/linux/linuxthreads/machine/i386/configure: Regenerate.
	* libc/sys/linux/machine/configure: Regenerate.
	* libc/sys/linux/machine/i386/configure: Regenerate.
	* libm/configure: Regenerate.
	* libm/machine/configure: Regenerate.
	* libm/machine/i386/configure: Regenerate.

2007-05-23  Eric Blake  <ebb9@byu.net>

	* libc/stdio/vfprintf.c (_VFPRINTF_R): Don't truncate %p when
	sizeof(void*) is 8 but sizeof(long) is 4.
	* libc/stdio/vfscanf.c (__SVFSCANF_R): Likewise.  Fix %i scanning
	of "-0x".  Support "-nan" and "inf" for %e.  Audit usage of ungetc
	to fix reentrancy and bug on encoding error in multibyte locales.
	Always return EOF on read error.

2007-05-23 Patrick Mansfield <patmans@us.ibm.com>

	* libc/machine/spu/sys/syscall.h: Update the __send_to_ppe
	prototype.
	* libc/machine/spu/fclose.c: Use the __send_to_ppe return value
	instead of the slot 0 value, remove any now unused variables, and
	for some cases, now store the result in an int vs int*.
	* libc/machine/spu/feof.c: Ditto.
	* libc/machine/spu/ferror.c: Ditto.
	* libc/machine/spu/fflush.c: Ditto.
	* libc/machine/spu/fgetc.c: Ditto.
	* libc/machine/spu/fgetpos.c: Ditto.
	* libc/machine/spu/fgets.c: Ditto.
	* libc/machine/spu/fileno.c: Ditto.
	* libc/machine/spu/fopen.c: Ditto.
	* libc/machine/spu/fprintf.c: Ditto.
	* libc/machine/spu/fputc.c: Ditto.
	* libc/machine/spu/fputs.c: Ditto.
	* libc/machine/spu/fread.c: Ditto.
	* libc/machine/spu/freopen.c: Ditto.
	* libc/machine/spu/fscanf.c: Ditto.
	* libc/machine/spu/fseek.c: Ditto.
	* libc/machine/spu/fsetpos.c: Ditto.
	* libc/machine/spu/ftell.c: Ditto.
	* libc/machine/spu/fwrite.c: Ditto.
	* libc/machine/spu/getc.c: Ditto.
	* libc/machine/spu/getchar.c: Ditto.
	* libc/machine/spu/gets.c: Ditto.
	* libc/machine/spu/printf.c: Ditto.
	* libc/machine/spu/putc.c: Ditto.
	* libc/machine/spu/putchar.c: Ditto.
	* libc/machine/spu/puts.c: Ditto.
	* libc/machine/spu/remove.c: Ditto.
	* libc/machine/spu/rename.c: Ditto.
	* libc/machine/spu/scanf.c: Ditto.
	* libc/machine/spu/setvbuf.c: Ditto.
	* libc/machine/spu/snprintf.c: Ditto.
	* libc/machine/spu/sprintf.c: Ditto.
	* libc/machine/spu/sscanf.c: Ditto.
	* libc/machine/spu/tmpfile.c: Ditto.
	* libc/machine/spu/tmpnam.c: Ditto.
	* libc/machine/spu/ungetc.c: Ditto.
	* libc/machine/spu/vfprintf.c: Ditto.
	* libc/machine/spu/vfscanf.c: Ditto.
	* libc/machine/spu/vprintf.c: Ditto.
	* libc/machine/spu/vscanf.c: Ditto.
	* libc/machine/spu/vsnprintf.c: Ditto.
	* libc/machine/spu/vsprintf.c: Ditto.
	* libc/machine/spu/vsscanf.c: Ditto.

2007-05-23  Eric Blake  <ebb9@byu.net>

	* libc/stdio/vfscanf.c (__SVFSCANF_R): Support scanf(%1$s).
	Avoid warning when !FLOATING_POINT.
	* libc/stdio/vfprintf.c (_VFPRINTF_R): Simplify _NO_POS_ARGS
	slightly.

2007-05-23  Corinna Vinschen  <vinschen@redhat.com>

	* libc/argz/argz_create_sep.c (argz_create_sep): Initialize *argz_len
	to zero.
	* libc/include/argz.h: Guard against multiple inclusion.  Guard for
	use with C++.

2007-05-18  Eric Blake  <ebb9@byu.net>

	* libc/stdio/vfprintf.c [_WANT_IO_LONG_LONG]: Allow non-gcc
	compilers.
	* libc/stdio/vfscanf.c: Likewise.

2007-05-17  Cary R.  <cygcary <at> yahoo.com>

	* libm/math/w_atan2.c: Fix atan2 to be consistent with glibc
	(atan2(+0,-0), atan2(-0,-0) and atan(-0,+0))
	* libm/math/wf_atan2.c: Ditto.

2007-05-17  Yaakov Selkowitz  <yselkowitz <at> users.sourceforge.net>

	* libm/common/Makefile.am: Add support for exp10, exp10f,
	pow10, and pow10f functions.
	* libm/common/Makefile.in: Regenerated.
	* libm/common/s_pow10.c: New file.
	* libm/common/sf_pow10.c: Ditto.
	* libm/common/s_exp10.c: Ditto.
	* libm/common/sf_exp10.c: Ditto.
	* libc/include/math.h [!pow10]: New pow10 prototype.
	[!pow10f]: New pow10f prototype.
	[!exp10]: New exp10 prototype.
	[!exp10f]: New exp10f prototype.

2007-05-17  Charles Wilson  <cygwin@...>

	* stdio/tmpfile.c: Include <sys/stat.h>.
	* stdio64/tmpfile64.c: Ditto.

2007-05-16  Eric Blake  <ebb9@byu.net>

	Close security hole in tmpfile.
	* libc/stdio/tmpfile.c (_tmpfile_r): Avoid window between filename
	generation and opening the fd.
	* libc/stdio64/tmpfile64.c (_tmpfile64_r): Likewise.

	* libc/include/math.h (INFINITY, NAN, FP_ILOGB0, FP_ILOGBNAN)
	(MATH_ERRNO, MATH_ERREXCEPT, math_errhandling): Add macros
	required by POSIX.
	* libc/stdlib/ldtoa.c (USE_INFINITY): Rename from INFINITY, to
	avoid clash with <math.h>.

	* libc/stdlib/wctomb_r.c (_wctomb_r): Avoid gcc warnings on cygwin.
	* libc/search/hash.c (__hash_open): Likewise.

2007-05-14 Eric Blake <ebb9@byu.net>

	Reduce stack size of *printf.
	* libc/stdio/vfprintf.c (_VFPRINTF_R): Fix use of decimal point
	in %f.  Avoid malloc when possible for %S.
	(BUF): Improve stack locality by using smaller size.
	(MAXEXPLEN, _PRINTF_FLOAT_TYPE): Define.
	(exponent): Use smaller stack size.

2007-05-11  Eric Blake  <ebb9@byu.net>

	Minimize printf/scanf size on platforms that don't need C99.
	* acconfig.h (_WANT_IO_C99_FORMATS): New macro.
	* newlib.hin (_WANT_IO_C99_FORMATS): Likewise.
	* configure.in (newlib-io-c99-formats): New configure option.
	(_WANT_IO_C99_FORMATS): Define appropriately.
	* configure.host (*-linux*, cygwin): Default c99-formats to yes.
	* libc/stdio/vfprintf.c (_VFPRINTF_R) [!_WANT_IO_C99_FORMATS]:
	Cripple ' flag; hh, z, j, t sizes; a, A, F, C, S specifiers.
	* libc/stdio/vfscanf.c (_VFSCANF_R) [!_WANT_IO_C99_FORMATS]:
	Likewise.
	* configure: Regenerate.

	* libc/stdio/vfprintf.c (_VFPRINTF_R, cvt, exponent, chclass)
	(get_arg): Support '%a' and '%A'.

2007-05-09  Eric Blake  <ebb9@byu.net>

	Allow zero size with non-null buf in *asnprintf.
	* libc/stdio/asnprintf.c (_asnprintf_r, asnprintf): Avoid free'ing
	user's buf.
	* libc/stdio/asniprintf.c (_asniprintf_r, asniprintf): Likewise.
	* libc/stdio/vasniprintf.c (_vasniprintf_r): Likewise.
	* libc/stdio/vasnprintf.c (_vasnprintf_r): Likewise.

2007-05-07  Charles Wilson  <cygwin@...>

	* libc/stdio/vfprintf.c: Fix typo in comments that breaks docs.

2007-05-03  Eric Blake  <ebb9@byu.net>

	Add support for asnprintf, and improve *printf documentation.
	* libc/stdio/Makefile.am (ELIX_SOURCES): Rename...
	(ELIX_2_SOURCES): ...to this.
	(ELIX_4_SOURCES): Add new variable.  Build asnprintf.
	(GENERAL_SOURCES): Move dprintf to ELIX_4_SOURCES.
	(CHEWOUT_FILES): Include diprintf in documentation.
	* libc/stdio/Makefile.in: Regenerate.
	* libc/stdio/diprintf.c: Improve documentation.
	* libc/stdio/dprintf.c: Likewise.
	* libc/stdio/siprintf.c: Likewise.
	* libc/stdio/sprintf.c: Likewise.
	* libc/stdio/vfprintf.c: Likewise.
	* libc/stdio/viprintf.c: Likewise.
	* libc/stdio/vsniprintf.c: Consolidate documentation.
	* libc/stdio/asiprintf.c: Refer to documentation.
	* libc/stdio/asprintf.c: Likewise.
	* libc/stdio/fiprintf.c: Likewise.
	* libc/stdio/fprintf.c: Likewise.
	* libc/stdio/iprintf.c: Likewise.
	* libc/stdio/printf.c: Likewise.
	* libc/stdio/sniprintf.c: Likewise.
	* libc/stdio/vdiprintf.c: Likewise.
	* libc/stdio/vdprintf.c: Likewise.
	* libc/stdio/vsiprintf.c: Likewise.
	* libc/stdio/fvwrite.c (__sfvwrite_r): Handle asnprintf.
	* libc/stdio/asniprintf.c (asniprintf, _asniprintf_r): New file.
	* libc/stdio/asnprintf.c (asnprintf, _asnprintf_r): New file.
	* libc/stdio/vasniprintf.c (vasniprintf, _vasniprintf_r): New
	file.
	* libc/stdio/vasnprintf.c (vasnprintf, _vasnprintf_r): New file.
	* libc/stdio/vdprintf.c (_vdprintf_r): Rewrite to avoid malloc in
	typical case.
	* libc/stdio/vdiprintf.c (_vdiprintf_r): Likewise.
	* libc/include/stdio.h: Add prototypes for new functions; sort
	existing functions.

2007-05-03  Kazu Hirata  <kazu@codesourcery.com>

	* libc/machine/m68k/Makefile.am (lib_a_SOURCES): Add memcpy.S
	and memset.S.
	* libc/machine/m68k/Makefile.in: Regenerate.
	* libc/machine/m68k/memcpy.S: Use sub.l followed by dbra.
	* libc/machine/m68k/memset.S: Likewise.

2007-05-01  Eric Blake  <ebb9@byu.net>

	* libc/stdio64/local64.h: Delete, move contents to...
	* libc/stdio/local.h: ...here.
	* libc/stdio64/fdopen64.c: Update includes.
	* libc/stdio64/fopen64.c: Likewise.
	* libc/stdio64/freopen64.c: Likewise.
	* libc/stdio64/fseeko64.c: Likewise.
	* libc/stdio64/ftello64.c: Likewise.
	* libc/stdio/findfp.c (std) [__LARGE64_FILES]: Open stdin, stdout,
	and stderr with 64-bit offset.
	* libc/stdio/fseek.c (_fseek_r): Avoid compile warning.
	* libc/stdio/makebuf.c (__smakebuf_r): Likewise.
	* libc/stdio/mktemp.c (_gettemp): Likewise.

2007-05-01  Cary R.  <cygcary <at> yahoo.com>

	* libm/math/e_pow.c: Fix to be consistent with glibc with regards
	to treatment of NaN and +-inf arguments.
	* libm/math/ef_pow.c: Ditto.
	* libm/math/w_pow.c: Ditto.
	* libm/math/wf_pow.c: Ditto.
	* libm/math/w_acos.c: Fix domain errors to return NaN.
	* libm/math/w_asin.c: Ditto.
	* libm/math/wf_acos.c: Ditto.
	* libm/math/wf_asin.c: Ditto.
	* libm/math/w_log.c: Fix to return NaN for negative number inputs.
	* libm/math/wf_log.c: Ditto.
	* libm/math/wf_log10.c: Ditto.
	* libm/math/w_log10.c: Ditto.

2007-04-27  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/machine/m68k/Makefile.am: Temporarily remove
	memcpy.S and memset.S until logic can be confirmed for
	!(__mcoldfile__) case.
	* libc/machine/m68k/Makefile.in: Regenerated.

2007-04-27  Kazu Hirata  <kazu@codesourcery.com>

	* libc/machine/m68k/Makefile.am (lib_a_SOURCES): Add memcpy.S
	and memset.S.
	* libc/machine/m68k/Makefile.in: Regenerate.
	* libc/machine/m68k/memcpy.S, libc/machine/m68k/memset.S: New.

2007-04-26  Patrick Mansfield <patmans@us.ibm.com>

	* libc/include/ieeefp.h: use prefixed __ieeefp_ macros that can be
	overridden via machine/ieeefp.h.
	* libc/include/machine/ieeefp.h: Add SPU specific C99 and ieeefp
	macros for isnan and related macros.
	* libc/include/math.h: Allow C99 isfinite, isinf, and isnan to be
	overridden via machine/ieeefp.h.
	* libm/machine/spu/Makefile.am: Add new files.
	* libm/machine/spu/Makefile.in: Autogenerate with new files.
	* libm/machine/spu/sf_fpclassify.c: Add SPU specific __fpclassifyf.
	* libm/machine/spu/sf_finite.c: Add SPU specific finitef.
	* libm/machine/spu/sf_isinf.c: Add SPU specific isinff.
	* libm/machine/spu/sf_isinff.c: Add SPU specific __isinff.
	* libm/machine/spu/sf_isnan.c: Add SPU specific isnanf.
	* libm/machine/spu/sf_isnanf.c: Add SPU specific __isnanf.
	* libm/machine/spu/sf_nan.c: Add SPU specific nanf.

2007-04-25  Jeff Johnston  <jjohnstn@redhat.com>

	* libm/common/s_fpclassify.c (__fpclassifyf): Move this to...
	* libm/common/sf_fpclassify.c: ...here.  New file.
	* libm/common/Makefile.am: Add sf_fpclassify.c.
	* libm/common/Makefile.in: Regenerated.

2007-04-25  Patrick Mansfield <patmans@us.ibm.com>

	* libc/machine/spu/sys/errno.h: New file, so spu errno values match
	ppu linux values. This file is a copy of the cris/sys/errno.h plus
	a few changes (see spu errno.h comments).

2007-04-25  Eric Blake  <ebb9@byu.net>

	* libc/stdio/vfprintf.c (get_arg): Support %1$lc.  Simplify types
	that promote to int.

2007-04-25  Patrick Mansfield <patmans@us.ibm.com>

	* libm/machine/spu/headers/feholdexcept.h: Use *envp not env so
	we clear the proper bits in the fpscr, and don't set some random ones.

2007-04-24  Eric Blake  <ebb9@byu.net>

	* libc/stdio/vfprintf.c (_VFPRINTF_R): Don't zero pad on infinity
	or NaN with %05f.

	* libc/stdio/vfprintf.c (_VFPRINTF_R): Avoid multibyte when not
	_MB_CAPABLE.

	* libc/include/limits.h (NL_ARGMAX): Define a default value.
	* libc/stdio/vfprintf.c (MAX_POS_ARGS): Define in terms of
	NL_ARGMAX, if present.

2007-04-23  Brian Dessent  <brian@dessent.net>

	* libc/stdio/vfprintf.c (_vfprintf_r): When the alternate-form flag
	has been specified with types 'f', 'F', 'g', or 'G', ensure the
	trailing decimal is printed.

2007-04-23  Ralf Wildenhues  <Ralf.Wildenhues <at> gmx.de>

	* confsubdir.m4 (AC_CONFIG_SUBDIRS, _AC_OUTPUT_SUBDIRS): New
	file.  Override Autoconf-2.59's version of these macros with
	fixed handling of multiple adjacent whitespace in arguments.
	* aclocal.m4: Regenerated forcefully.
	* configure: Ditto.
	* Makefile.in: Ditto.
	* libc/*Makefile.in: Ditto.
	* libc/*aclocal.m4: Ditto.
	* libc/*configure: Ditto.
	* libm/*Makefile.in: Ditto.
	* libm/*aclocal.m4: Ditto.
	* libm/*configure: Ditto.

2007-04-23  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/arc/dummy.S: Dummy file to force .S.o suffix rule.
	* libc/sys/arc/Makefile.am: Add dummy.S to EXTRA_lib_a_SOURCES
	and set lib_a_CCASFLAGS so crto.o will use .S.o default suffix rule.
	* libc/sys/arc/Makefile.in: Regenerated.

2007-04-17  Brian Dessent  <brian@dessent.net>

	* libc/stdio/sscanf.c: Update documentation comments.
	* libc/stdio/vfscanf.c (__SVFSCANF_R): Handle j, t, and z modifiers.

2007-04-12  Eric Blake  <ebb9@byu.net>

	* libc/stdio/vfprintf.c (_VFPRINTF_F, cvt): Don't confuse %F with %e.
	(chclass): Recognize 'F', 'X', 'n', and not 'W'.
	(get_arg): Handle %1$F, %1$n.

2007-04-10  Eric Blake  <ebb9@byu.net>

	* libc/include/stdio.h (_ELIDABLE_INLINE): Work even when using
	CFLAGS=-O0.

2007-04-09  Eric Blake  <ebb9@byu.net>

	* libc/include/stdio.h: Add gcc format attributes to printf and
	scanf families.

2007-04-09  Joel Schopp <jschopp@austin.ibm.com>

	* libc/machine/spu/strxfrm.c: Fix strxfrm so we still copy data
	even if the passed in length n is shorter than the source string.
	This matches both the non-spu specific and the glibc strxfrm
	behaviour.

2007-04-04  Mark Mitchell  <mark@codesourcery.com>

	* libc/stdlib/__call_atexit.c (__call_exitprocs): Handle atexit
	functions registering additional atexit functions.

	* testsuite/lib/flags.exp (newlib_include_flags): Drop
	-I${newlib_dir}.

2007-04-04  Patrick Mansfield <patmans@us.ibm.com>

	* libc/machine/spu/sys/syscall.h: New file for __send_to_ppe
	prototype.
	* libc/machine/spu/c99ppe.h: Remove static version of send_to_ppe.
	* libc/machine/spu/clearerr.c: Call __send_to_ppe vs send_to_ppe.
	* libc/machine/spu/fclose.c: Ditto.
	* libc/machine/spu/feof.c: Ditto.
	* libc/machine/spu/ferror.c: Ditto.
	* libc/machine/spu/fflush.c: Ditto.
	* libc/machine/spu/fgetc.c: Ditto.
	* libc/machine/spu/fgetpos.c: Ditto.
	* libc/machine/spu/fgets.c: Ditto.
	* libc/machine/spu/fileno.c: Ditto.
	* libc/machine/spu/fopen.c: Ditto.
	* libc/machine/spu/fprintf.c: Ditto.
	* libc/machine/spu/fputc.c: Ditto.
	* libc/machine/spu/fputs.c: Ditto.
	* libc/machine/spu/fread.c: Ditto.
	* libc/machine/spu/freopen.c: Ditto.
	* libc/machine/spu/fscanf.c: Ditto.
	* libc/machine/spu/fseek.c: Ditto.
	* libc/machine/spu/fsetpos.c: Ditto.
	* libc/machine/spu/ftell.c: Ditto.
	* libc/machine/spu/fwrite.c: Ditto.
	* libc/machine/spu/getc.c: Ditto.
	* libc/machine/spu/getchar.c: Ditto.
	* libc/machine/spu/gets.c: Ditto.
	* libc/machine/spu/perror.c: Ditto.
	* libc/machine/spu/printf.c: Ditto.
	* libc/machine/spu/putc.c: Ditto.
	* libc/machine/spu/putchar.c: Ditto.
	* libc/machine/spu/puts.c: Ditto.
	* libc/machine/spu/remove.c: Ditto.
	* libc/machine/spu/rename.c: Ditto.
	* libc/machine/spu/rewind.c: Ditto.
	* libc/machine/spu/scanf.c: Ditto.
	* libc/machine/spu/setbuf.c: Ditto.
	* libc/machine/spu/setvbuf.c: Ditto.
	* libc/machine/spu/snprintf.c: Ditto.
	* libc/machine/spu/sprintf.c: Ditto.
	* libc/machine/spu/sscanf.c: Ditto.
	* libc/machine/spu/tmpfile.c: Ditto.
	* libc/machine/spu/tmpnam.c: Ditto.
	* libc/machine/spu/ungetc.c: Ditto.
	* libc/machine/spu/vfprintf.c: Ditto.
	* libc/machine/spu/vfscanf.c: Ditto.
	* libc/machine/spu/vprintf.c: Ditto.
	* libc/machine/spu/vscanf.c: Ditto.
	* libc/machine/spu/vsnprintf.c: Ditto.
	* libc/machine/spu/vsprintf.c: Ditto.
	* libc/machine/spu/vsscanf.c: Ditto.

2007-04-04  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/argz/argz_insert.c: Add stddef.h to get ptrdiff_t type.

2007-04-04  Eric Blake  <ebb9@byu.net>

	* libc/stdio/asiprintf.c (_asiprintf_r): Fix reentrancy.
	(asiprintf): Avoid overhead.
	* libc/stdio/asprintf.c (_asprintf_r): Fix reentrancy.
	(asprintf): Avoid overhead.
	* libc/stdio/diprintf.c (_diprintf_r, diprintf): New file.
	* libc/stdio/dprintf.c (_dprintf_r, dprintf): Use _DEFUN.
	* libc/stdio/fiprintf.c (_fiprintf_r): Add reentrant version.
	(fiprintf): Avoid overhead.
	* libc/stdio/fprintf.c (_fprintf_r): Add reentrant version.
	(fprintf): Avoid overhead.
	* libc/stdio/iprintf.c (_iprintf_r): Use _DEFUN.
	(iprintf): Avoid overhead.
	* libc/stdio/printf.c (_printf_r): Use _DEFUN.
	(printf): Avoid overhead.
	* libc/stdio/vasiprintf.c (vasiprintf): Reduce binary size.
	* libc/stdio/vasprintf.c (vasprintf): Reduce binary size.
	* libc/stdio/vdiprintf.c (_vdiprintf_r, vdiprintf): New file.
	* libc/stdio/vdprintf.c (vdprintf): Avoid overhead.
	* libc/stdio/vsiprintf.c (vsiprintf): Reduce binary size.
	* libc/stdio/vsniprintf.c (vsniprintf): Reduce binary size.
	* libc/stdio/vsnprintf.c (vsnprintf): Reduce binary size.
	* libc/stdio/vsprintf.c (vsprintf): Reduce binary size.
	* libc/stdio/Makefile.am (GENERAL_SOURCES): Add diprintf.c,
	vdiprintf.c.
	* libc/include/stdio.h (diprintf, _diprintf_r, vdiprintf)
	(_vdiprintf_r, _fiprintf_r, _vfiprintf_r): Add prototypes.

2007-03-30  Dave Korn  <dave.korn@artimi.com>

	* libc/include/stdio.h (_ELIDABLE_INLINE):  New macro to conceal
	conflicting inline semantics between C99 and GNU89.
	(__sgetc_r):  Replace static inline with _ELIDABLE_INLINE to be
	compatible with -fkeep-inline-functions usage.
	(__sputc_r):  Likewise for consistency even though disabled.

2007-03-29  Nick Clifton  <nickc@redhat.com>

	Reflect changes made to generic vfprintf.c:
	* libc/machine/powerpc/vfprintf.c (__sprint): Rename to __sprint_r
	and add a "struct reent *" argument.
	(__sbprintf): Rename to __sbprintf_r, add a "struct reent *"
	argument and call _VFPRINTF_R instead of VFPRINTF.
	(_VFPRINTF_R): Add data pointer to call to cantwrite().
	Fix uses of __sprint() and __sbprintf.

2007-03-20  Nick Clifton  <nickc@redhat.com>

	Reflect changes made to generic vfprintf.c:
	* libc/machine/powerpc/vfprintf.c (__sprint): Rename to __sprint_r
	and add a "struct reent *" argument.
	(__sbprintf): Rename to __sbprintf_r, add a "struct reent *"
	argument and call _VFPRINTF_R instead of VFPRINTF.
	(_VFPRINTF_R): Add data pointer to call to cantwrite().
	Fix uses of __sprint() and __sbprintf.

2007-03-16  Charles Wilson  <cygwin@...>

	* libc/argz/argz_insert.c: "before" pointer is
	invalid after *argz realloc.  Compute offset
	between "before" and *argz, and use it after
	reallocation instead.

2007-03-16  Eric Blake  <ebb9@byu.net>

	* libc/stdio64/fseek064.c (_fseeko64_r): Fix reentrancy.
	* libc/stdio64/freopen64.c (_freopen64_r): Ditto.

2007-03-15  Jeff Johnston  <jjohnstn@redhat.com>

	* configure.in: Add new --enable-newlib-reent-small option.
	* configure: Regenerated.
	* acconfig.h: Add _WANT_REENT_SMALL.
	* newlib.hin: Regenerated minus PACKAGE macros to add
	_WANT_REENT_SMALL macro.
	* libc/include/sys/config.h[_WANT_REENT_SMALL]: Set _REENT_SMALL
	if not already set.
	* libc/stdio/fflush.c[_REENT_SMALL]: Return immediately if
	there is no buffer.
	* libc/stdio/local.h[_REENT_SMALL]: Fix CHECK_INIT macro to
	use reentrant pointer passed in when resetting the file
	pointer to one of the std streams.

2007-03-15  Eric Blake  <ebb9@byu.net>

	* libc/stdio/local.h (cantwrite, FREEUB, FREELB): Make reentrant.
	(__smakebuf): Rename...
	(__smakebuf_r): to this.
	* libc/stdio/fvwrite.h (__swsetup_r): Rename, from __swsetup.
	* libc/stdio/makebuf.c (__smakebuf): Detect failed asprint
	allocation, then rename...
	(__smakebuf_r): ...to this and fix reentrancy.
	* libc/stdio/wsetup.c (__swsetup): Detect failed asprintf
	allocation, then rename...
	(__swsetup_r): ...to this and fix reentrancy.
	* libc/stdio/fseek.c (_fseek_r): Fix reentrancy.
	* libc/stdio/refill.c (__srefill_r): Likewise.
	* libc/stdio/fclose.c (_fclose_r): Likewise.
	* libc/stdio/fread.c (_fread_r): Likewise.
	* libc/stdio/freopen.c (_freopen_r): Likewise.
	* libc/stdio/wbuf.c (__swbuf_r): Likewise.
	* libc/stdio64/fseeko64.c (_fseeko64_r): Likewise.
	* libc/stdio/fvwrite.c (__sfvwrite_r): Set errno properly on
	failed asprintf allocation, and fix reentrancy.
	* libc/stdio/snprintf.c (snprintf, _snprintf_r): Report overflow,
	as required by POSIX.
	* libc/stdio/sniprintf.c (sniprintf, _sniprintf_r): Likewise.
	* libc/stdio/vsnprintf.c (vsnprintf, _vsnprintf_r): Likewise.
	* libc/stdio/vsniprintf.c (vsniprintf, _vsniprintf_r): Likewise.

2007-03-12  Eric Blake  <ebb9@byu.net>

	* libc/stdio/fvwrite.c (__sfvwrite_r): Fix reentrancy.
	* libc/stdio/vasprintf.c (vasprintf, _vasprintf_r): Pass failed
	allocation to caller.
	* libc/stdio/asprintf.c (_asprintf_r, asprintf): Likewise.
	* libc/stdio/asiprintf.c (_asiprintf_r, asiprintf): Likewise.
	* libc/stdio/vasiprintf.c (vasiprintf, _vasiprintf_r): Likewise.

2007-02-23  Jeff Johnston  <jjohnstn@redhat.com>

	* libm/math/w_pow.c: Fix typo in documentation comment.

2007-02-21  Patrick Mansfield <patmans@us.ibm.com>

	* libc/reent/timer.c: Removed (split into two new files).
	* libc/reent/timesr.c: New file for _times_r.
	* libc/reent/gettimeofdayr.c: New file out _gettimeofday_r.
	* reent/Makefile.in: Remove timer.c, add timesr.c and
	gettimeofdayr.c.
	* libc/reent/Makefile.am: Regenerate.

2007-02-20  Patrick Mansfield <patmans@us.ibm.com>

	* configure.host: Build SPU with default_newlib_atexit_dynamic_alloc="no".

2007-02-20  Kazunori Asayama <asayama@sm.sony.co.jp>

	* libc/machine/spu/Makefile.am: Add new objects.
	* libc/machine/spu/Makefile.in: Regenerated.
	* libc/machine/spu/fiprintf.c: New file. Add implementation of
	integer-only version.
	* libc/machine/spu/fiscanf.c: Ditto.
	* libc/machine/spu/iprintf.c: Ditto.
	* libc/machine/spu/iscanf.c: Ditto.
	* libc/machine/spu/siprintf.c: Ditto.
	* libc/machine/spu/siscanf.c: Ditto.
	* libc/machine/spu/sniprintf.c: Ditto.
	* libc/machine/spu/vfiprintf.c: Ditto.
	* libc/machine/spu/vfiscanf.c: Ditto.
	* libc/machine/spu/viprintf.c: Ditto.
	* libc/machine/spu/viscanf.c: Ditto.
	* libc/machine/spu/vsiprintf.c: Ditto.
	* libc/machine/spu/vsiscanf.c: Ditto.
	* libc/machine/spu/vsniprintf.c: Ditto.
	* libc/machine/spu/fprintf.c: Add support for integer-only
	version.
	* libc/machine/spu/fscanf.c: Ditto.
	* libc/machine/spu/printf.c: Ditto.
	* libc/machine/spu/scanf.c: Ditto.
	* libc/machine/spu/snprintf.c: Ditto.
	* libc/machine/spu/sprintf.c: Ditto.
	* libc/machine/spu/sscanf.c: Ditto.
	* libc/machine/spu/vfprintf.c: Ditto.
	* libc/machine/spu/vfscanf.c: Ditto.
	* libc/machine/spu/vprintf.c: Ditto.
	* libc/machine/spu/vscanf.c: Ditto.
	* libc/machine/spu/vsnprintf.c: Ditto.
	* libc/machine/spu/vsprintf.c: Ditto.
	* libc/machine/spu/vsscanf.c: Ditto.

2007-02-20  Kazunori Asayama <asayama@sm.sony.co.jp>

	* libc/include/stdio.h: Add declaration for vsiprintf.

2007-02-14  Patrick Mansfield <patmans@us.ibm.com>

	Add a floating point environment for SPU (cell):

	* configure.host: add libm_machine_dir=spu.
	* libm/machine/configure: Add spu.
	* libm/machine/configure.in: regenerated with spu added.
	* libc/machine/spu/include/fenv.h: New file.
	* libc/machine/spu/sys/fenv.h: Ditto.
	* libm/machine/spu/Makefile.am: Ditto.
	* libm/machine/spu/Makefile.in: Ditto.
	* libm/machine/spu/aclocal.m4: Ditto.
	* libm/machine/spu/configure: Ditto.
	* libm/machine/spu/configure.in: Ditto.
	* libm/machine/spu/fe_dfl_env.c: Ditto.
	* libm/machine/spu/feclearexcept.c: Ditto.
	* libm/machine/spu/fegetenv.c: Ditto.
	* libm/machine/spu/fegetexceptflag.c: Ditto.
	* libm/machine/spu/fegetround.c: Ditto.
	* libm/machine/spu/feholdexcept.c: Ditto.
	* libm/machine/spu/feraiseexcept.c: Ditto.
	* libm/machine/spu/fesetenv.c: Ditto.
	* libm/machine/spu/fesetexceptflag.c: Ditto.
	* libm/machine/spu/fesetround.c: Ditto.
	* libm/machine/spu/fetestexcept.c: Ditto.
	* libm/machine/spu/feupdateenv.c: Ditto.
	* libm/machine/spu/headers/feclearexcept.h: Ditto.
	* libm/machine/spu/headers/fefpscr.h: Ditto.
	* libm/machine/spu/headers/fegetenv.h: Ditto.
	* libm/machine/spu/headers/fegetexceptflag.h: Ditto.
	* libm/machine/spu/headers/fegetround.h: Ditto.
	* libm/machine/spu/headers/feholdexcept.h: Ditto.
	* libm/machine/spu/headers/feraiseexcept.h: Ditto.
	* libm/machine/spu/headers/fesetenv.h: Ditto.
	* libm/machine/spu/headers/fesetexceptflag.h: Ditto.
	* libm/machine/spu/headers/fesetround.h: Ditto.
	* libm/machine/spu/headers/fetestexcept.h: Ditto.
	* libm/machine/spu/headers/feupdateenv.h: Ditto.

2007-02-14  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/features.h: Add _POSIX_MESSAGE_PASSING for
	Cygwin.

2007-02-08  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/features.h: Add _POSIX_SHARED_MEMORY_OBJECTS for
	Cygwin.  Fix value of _POSIX_SEMAPHORES.  Fix formatting.

2007-02-07  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/features.h: Add definition of all supported
	_POSIX_xxx values for Cygwin.
	* libc/include/sys/types.h (pthread_rwlock_t): Omit definition
	on Cygwin.
	(pthread_rwlockattr_t): Ditto.
	* libc/include/sys/unistd.h: Define all _SC_xxx values as
	required by SUSv3.  Unify formatting.

2007-02-02  Ralf Corspius <ralf.corsepius@rtems.org>

	* libc/include/sys/errno.h: Add ECANCELED.

2007-02-01  Joel Schopp <jschopp@austin.ibm.com>
	    Kazunori Asayama <asayama@sm.sony.co.jp>

	* libc/machine/spu/Makefile.am: Add objects.
	* libc/machine/spu/Makefile.in: Regenerated.
	* libc/machine/spu/vsscanf.c: New file. Add a stdio function
	implementation.
	* libc/machine/spu/snprintf.c: Ditto.
	* libc/machine/spu/sprintf.c: Ditto.
	* libc/machine/spu/sscanf.c: Ditto.
	* libc/machine/spu/remove.c: Ditto.
	* libc/machine/spu/rename.c: Ditto.
	* libc/machine/spu/tmpnam.c: Ditto.
	* libc/machine/spu/vsnprintf.c: Add initialization routine of
	stdio stuffs.
	* libc/machine/spu/vsprintf.c: Ditto.

2007-02-01  Joel Schopp <jschopp@austin.ibm.com>
	    Kazunori Asayama <asayama@sm.sony.co.jp>

	* configure.host: Enable SPU specific stdio directory.
	* libc/machine/spu/Makefile.am: Add objects.
	* libc/machine/spu/Makefile.in: Regenerated.
	* libc/machine/spu/c99ppe.h: Add macros and function
	declarations to initialize SPU specific stdio stuffs.
	* libc/machine/spu/stdio.c: Add functions to manage Cell SPU
	specific FILE structures.
	* libc/machine/spu/perror.c: Add initialization routine of
	stdio stuffs.
	* libc/machine/spu/printf.c: Ditto.
	* libc/machine/spu/putchar.c: Ditto.
	* libc/machine/spu/puts.c: Ditto.
	* libc/machine/spu/vprintf.c: Ditto.
	* libc/machine/spu/clearerr.c: New file. Add a stdio function
	implementation.
	* libc/machine/spu/feof.c: Ditto.
	* libc/machine/spu/ferror.c: Ditto.
	* libc/machine/spu/fileno.c: Ditto.
	* libc/machine/spu/fopen.c: Ditto.
	* libc/machine/spu/fclose.c: Ditto.
	* libc/machine/spu/freopen.c: Ditto.
	* libc/machine/spu/fflush.c: Ditto.
	* libc/machine/spu/fseek.c: Ditto.
	* libc/machine/spu/ftell.c: Ditto.
	* libc/machine/spu/rewind.c: Ditto.
	* libc/machine/spu/fgetpos.c: Ditto.
	* libc/machine/spu/fsetpos.c: Ditto.
	* libc/machine/spu/fread.c: Ditto.
	* libc/machine/spu/fwrite.c: Ditto.
	* libc/machine/spu/getc.c: Ditto.
	* libc/machine/spu/getchar.c: Ditto.
	* libc/machine/spu/gets.c: Ditto.
	* libc/machine/spu/fgetc.c: Ditto.
	* libc/machine/spu/fgets.c: Ditto.
	* libc/machine/spu/ungetc.c: Ditto.
	* libc/machine/spu/putc.c: Ditto.
	* libc/machine/spu/fputc.c: Ditto.
	* libc/machine/spu/fputs.c: Ditto.
	* libc/machine/spu/vfprintf.c: Ditto.
	* libc/machine/spu/vfscanf.c: Ditto.
	* libc/machine/spu/fprintf.c: Ditto.
	* libc/machine/spu/fscanf.c: Ditto.
	* libc/machine/spu/scanf.c: Ditto.
	* libc/machine/spu/vscanf.c: Ditto.
	* libc/machine/spu/setbuf.c: Ditto.
	* libc/machine/spu/setvbuf.c: Ditto.
	* libc/machine/spu/tmpfile.c: Ditto.

2007-02-01  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/config.h[__SPU__]: Define __CUSTOM_FILE_IO__.
	* libc/include/stdio.h[!__CUSTOM_FILE_IO__]: Add flag check
	around stdio macros that manipulate fields in the normal file
	structure.
	* libc/include/sys/reent.h[__CUSTOM_FILE_IO__]: Include
	<sys/custom_file.h> to define custom FILE structure.
	* libc/include/sys/custom_file.h: New default header file
	that generates error if not overridden when __CUSTOM_FILE_IO__ set.
	* libc/machine/spu/sys/custom_file.h: New file.

2007-01-31  Kazunori Asayama <asayama@sm.sony.co.jp>

	* configure.host: Define stdio directory as a variable.
	* libc/Makefile.am: Define stdio related names
	as macros.
	* libc/configure.in: Add detection routine of stdio directory.
	* libc/Makefile.in: Regenerated.
	* libc/configure: Ditto.
	* libc/argz/Makefile.in: Ditto.
	* libc/ctype/Makefile.in: Ditto.
	* libc/errno/Makefile.in: Ditto.
	* libc/iconv/Makefile.in: Ditto.
	* libc/iconv/ccs/Makefile.in: Ditto.
	* libc/iconv/ccs/binary/Makefile.in: Ditto.
	* libc/iconv/ces/Makefile.in: Ditto.
	* libc/iconv/lib/Makefile.in: Ditto.
	* libc/locale/Makefile.in: Ditto.
	* libc/misc/Makefile.in: Ditto.
	* libc/posix/Makefile.in: Ditto.
	* libc/reent/Makefile.in: Ditto.
	* libc/search/Makefile.in: Ditto.
	* libc/signal/Makefile.in: Ditto.
	* libc/stdio/Makefile.in: Ditto.
	* libc/stdio64/Makefile.in: Ditto.
	* libc/stdlib/Makefile.in: Ditto.
	* libc/string/Makefile.in: Ditto.
	* libc/syscalls/Makefile.in: Ditto.
	* libc/time/Makefile.in: Ditto.
	* libc/unix/Makefile.in: Ditto.

2007-01-30  Ben Elliston  <bje@au.ibm.com>

	* libc/machine/spu/vsnprintf.c (c99_vsnprintf_t): Const-qualify
	fmt member.
	* libc/machine/spu/printf.c (c99_printf_t): Likewise.
	(printf): Pass fmt to va_start to suppress a warning.

	* libc/search/hash.c (init_hash): Make `info' parameter const.

2007-01-19  Kazunori Asayama <asayama@sm.sony.co.jp>

	* libc/machine/spu/c99ppe.h: Replace vector with __vector.
	* libc/machine/spu/vec_literal.h: Ditto.
	* libc/machine/spu/strncmp.c: Ditto.

2007-01-15  Joseph Myers  <joseph@codesourcery.com>
	    Kazu Hirata  <kazu@codesourcery.com>

	* libc/machine/powerpc/setjmp.S (setjmp, longjmp): Add support
	for E500V1 and E500V2.

2007-01-11  Jeff Johnston  <jjohnstn@redhat.com>

	* libm/configure.in: Always configure machine directory.
	* libm/Makefile.am: Make machine subdirectory part of SUBDIRS
	unconditionally.
	* libm/configure: Regenerated.
	* libm/Makefile.in: Ditto.
	* libm/*/Makefile.in: Ditto.

2007-01-05  Brian Ford  <Brian.Ford@FlightSafety.com>

	* configure.host (*-*-cygwin*): Define HAVE_BLKSIZE.

2007-01-02  Ben Elliston  <bje@au.ibm.com>

	* doc/makedoc.c: Include <stdlib.h>.
	(malloc, realloc): Remove extern declarations.

2006-12-18  Jeff Johnston  <jjohnstn@redhat.com>

	* NEWS: Update with 1.15.0 info.
	* README: Ditto.
	* acinclude.m4: Change version number to 1.15.0.
	* aclocal.m4: Regenerated.
	* configure: Ditto.
	* doc/aclocal.m4: Ditto.
	* doc/configure: Ditto.
	* libc/*/aclocal.m4: Ditto.
	* libc/*/configure: Ditto.
	* libc/libc.texinfo: Ditto.
	* libm/*/aclocal.m4: Ditto.
	* libm/*/configure: Ditto.
	* libm/libm.texinfo: Ditto.
	* libc/sys/linux/shared.ld: Add VERS_1.15.

2006-12-18  Kazu Hirata  <kazu@codesourcery.com>

	Merge from newlib-csl-20060320-branch:
	2006-12-01  Nathan Sidwell  <nathan@codesourcery.com>
		    Kazu Hirata  <kazu@codesourcery.com>

	* configure.host: Recognize fido.

2006-12-18  Joel Schopp <jschopp@austin.ibm.com>

	* libc/machine/spu/c99ppe.h: New file
	* libc/machine/spu/perror.c: New file to override libc/stdio version.
	* libc/machine/spu/printf.c: New file
	* libc/machine/spu/putchar.c: New file
	* libc/machine/spu/puts.c: New file
	* libc/machine/spu/vprintf.c: New file
	* libc/machine/spu/vsnprintf.c: New file
	* libc/machine/spu/vsprintf.c: New file
	* libc/machine/spu/Makefile.am: Add new targets.
	* libc/machine/spu/Makefile.in: Regenerated.

2006-12-18  Jeff Johnston  <jjohnstn@redhat.com>

	* aclocal.m4 */aclocal.m4: Regenerated using aclocal 1.9.6.
	* Makefile.in */Makefile.in: Regenerated using automake 1.9.6.

2006-12-18  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdlib/mallocr.c (malloc_extend_top): Add patch from
	2.6.5 version of Doug Lea's malloc which is the basis of
	this code.

2006-12-18  Kazunori Asayama <asayama@sm.sony.co.jp>

	* libc/include/machine/setjmp.h[__SPU__]: Replace vector with __vector.

2006-12-14  Jeff Johnston  <jjohnstn@redhat.com>
	    Eric Blake  <ebb9@byu.net>

	* libc/stdio/fflush.c (fflush): On seekable streams, always flush
	read but unused data.
	* libc/stdio/fclose.c (_fclose_r): Always flush streams, since
	even read streams may have side effects that must happen.

2006-12-13  Joel Schopp <jschopp@austin.ibm.com>

	* libc/machine/spu/setjmp.S: Fix to handle registers past 115
	correctly.

2006-12-13  Joel Schopp <jschopp@austin.ibm.com>

	* libc/include/alloca.h: Add undef alloca to work with xlc.

2006-12-12  Joel Schopp <jschopp@austin.ibm.com>

	* libc/include/machine/setjmp.h[__SPU__]: Redefine _JBTYPE for
	cell spu.

2006-12-04  Kazunori Asayama  <asayama@sm.sony.co.jp>

	* libc/machine/spu/strncpy.c: Add padding.

2006-12-04  Kazunori Asayama  <asayama@sm.sony.co.jp>

	* testsuite/newlib.string/tstring.c:

2006-12-01  Kazunori Asayama  <asayama@sm.sony.co.jp>

	* libc/machine/spu/strchr.c: Fix mask for misaligned string.
	* libc/machine/spu/strrchr.c: Ditto.

2006-11-30  Lev Bishop  <lev.bishop@gmail.com>

	* libc/include/math.h: Allow C99 functions/macros to be
	defined for C++ even when __STRICT_ANSI__.

2006-11-29  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/makebuf.c (__smakebuf): If dealing with
	an asprintf-family buffer, make the default initial size 64.

2006-11-29  Eric Blake  <ebb9@byu.net>

	* libc/stdio/fvwrite.c (__sfvwrite_r): Avoid off-by-one error in
	asprintf, as well as quadratic realloc behavior.

2006-11-29  Kazunori Asayama  <asayama@sm.sony.co.jpi

	* libc/machine/spu/memset.c: Fix type of explicit cast.
	* libc/machine/spu/strncmp.c: Add explicit cast.
	* libc/machine/spu/strrchr.c: Ditto.
	* libc/machine/spu/strspn.c: Ditto.

2006-11-22  Luca Barbato  <lu_zero@gentoo.org>

	* libc/machine/spu/memcpy.c: Use spu_splats, explicit cast.
	* libc/machine/spu/memmove.c: Use spu_splats, explicit cast.
	* libc/machine/spu/memset.c: Use spu_splats, remove apple-cast.
	* libc/machine/spu/strchr.c: Use spu_splats, remove apple-cast.
	* libc/machine/spu/strncat.c: Explicit cast.
	* libc/machine/spu/strncmp.c: Use spu_splats.
	* libc/machine/spu/strncpy.c: Explicit cast.
	* libc/machine/spu/strrchr.c: Use spu_splats.
	* libc/machine/spu/strspn.c: Use spu_splats.

2006-11-15  Till Straumann  <strauman@slac.stanford.edu>

	* libc/time/tzset_r.c (_tzset_r): Initialize local variable.

2006-11-14  Eric Blake  <ebb9@byu.net>

	* libc/stdio/vfprintf.c (_vfprintf_r): Support ' flag.
	(chclass): ' is a flag.  j, t, and z are modifiers.

2006-11-08  Jie Zhang  <jie.zhang@analog.com>

	* configure.host: Add support for bfin.
	* libc/include/machine/ieeefp.h: Define __IEEE_LITTLE_ENDIAN for bfin.
	* libc/include/machine/setjmp.h: Define _JBLEN for bfin.
	* libc/machine/bfin/aclocal.m4: Generate.
	* libc/machine/bfin/configure.in: New.
	* libc/machine/bfin/configure: Generate.
	* libc/machine/bfin/Makefile.am: New.
	* libc/machine/bfin/Makefile.in: Generate.
	* libc/machine/bfin/setjmp.S: New.
	* libc/machine/bfin/longjmp.S: New.
	* libc/machine/configure.in: Add bfin support.
	* libc/machine/configure: Generate.

2006-11-07  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/unistd.h (_SC_STREAM_MAX): Define on Cygwin.
	(_PC_FILESIZEBITS): Add definition.
	(_PC_2_SYMLINKS): Ditto.
	(_PC_SYMLINK_MAX): Ditto.

2006-10-27  Joel Schopp  <jschopp@austin.ibm.com>

	* libc/machine/spu/memcpy.c: Override generic function with vectorized
	version optimized for the cell spu.
	* libc/machine/spu/memmove.c: Ditto.
	* libc/machine/spu/memset.c: Ditto.
	* libc/machine/spu/strcat.c: Ditto.
	* libc/machine/spu/strchr.c: Ditto.
	* libc/machine/spu/strcmp.c: Ditto.
	* libc/machine/spu/strcpy.c: Ditto.
	* libc/machine/spu/strcspn.c: Ditto.
	* libc/machine/spu/strlen.c: Ditto.
	* libc/machine/spu/strncat.c: Ditto.
	* libc/machine/spu/strncmp.c: Ditto.
	* libc/machine/spu/strncpy.c: Ditto.
	* libc/machine/spu/strpbrk.c: Ditto.
	* libc/machine/spu/strrchr.c: Ditto.
	* libc/machine/spu/strspn.c: Ditto.
	* libc/machine/spu/strxfrm.c: Ditto.
	* libc/machine/spu/vec_literal.h: Add abstraction of vector literals,
	removing altivec style initializers.
	* libc/machine/spu/Makefile.am: Add new files to list so they build
	* libc/machine/spu/Makefile.in: Regenerate from new Makefile.am

2006-10-27  Jeff Johnston  <jjohnstn@redhat.com>

	* README: Add a brief section on how to regenerate
	configuration files in newlib.

2006-10-25  Vladimir Prus  <vladimir@codesourcery.com>

	* libc/include/math.h: (exception): Add a comment
	telling fixincludes that we handle C vs. C++ issue.

2006-10-11  Yang Tse  <yangsita@gmail.com>

	* libc/include/machine/setjmp.h: Use __extension__ keyword for gcc's
	braced-groups.

2006-10-11  Corinna Vinschen  <corinna@vinschen.de>

	* libc/reent/reeent.c (_reclaim_reent): Free _REENT_MP_RESULT.

2006-09-26  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/stdio.h[_REENT_SMALL]: Do not allow macros
	for clearerr, feof, or fileno.
	* libc/include/sys/reent.h[_REENT_SMALL](struct _reent): Change
	the dummy std stream scheme to use pointers to const external
	fake files, one for each standard stream.
	* libc/stdio/local.h (CHECK_INIT): Change to take a file pointer
	argument.  For _REENT_SMALL, reset the file pointer if it
	matches one of the fake std stream pointers.
	* libc/stdio/clearerr.c: Fix CHECK_INIT macro to add file pointer
	argument.
	* libc/stdio/fclose.c: Ditto.
	* libc/stdio/feof.c: Ditto.
	* libc/stdio/ferror.c: Ditto.
	* libc/stdio/fflush.c: Ditto.
	* libc/stdio/fgetc.c: Ditto.
	* libc/stdio/fgets.c: Ditto.
	* libc/stdio/fileno.c: Ditto.
	* libc/stdio/findfp.c: Ditto.
	* libc/stdio/fputc.c: Ditto.
	* libc/stdio/fputs.c: Ditto.
	* libc/stdio/fread.c: Ditto.
	* libc/stdio/freopen.c: Ditto.
	* libc/stdio/fseek.c: Ditto.
	* libc/stdio/ftell.c: Ditto.
	* libc/stdio/fwrite.c: Ditto.
	* libc/stdio/getc.c: Ditto.
	* libc/stdio/getdelim.c: Ditto.
	* libc/stdio/putc.c: Ditto.
	* libc/stdio/refill.c: Ditto.
	* libc/stdio/setvbuf.c: Ditto.
	* libc/stdio/ungetc.c: Ditto.
	* libc/stdio/vfprintf.c: Ditto.
	* libc/stdio/vfscanf.c: Ditto.
	* libc/stdio/wbuf.c: Ditto.: Ditto.
	* libc/stdio/wsetup.c: Ditto.
	* libc/stdio64/freopen64.c: Ditto.
	* libc/stdio64/fseeko64.c: Ditto.
	* libc/stdio64/ftello64.c: Ditto.
	* libc/machine/powerpc/vfprintf.c: Ditto.
	* libc/machine/powerpc/vfscanf.c: Ditto.

2006-09-22  Paul Brook  <paul@codesourcery.com>

	* libc/include/sys/reent.h: Define and use __reent_assert.

2006-09-13  Joel Sherrill <joel@oarcorp.com>

	* libc/include/pthread.h: Add pthread barriers,
	rwlocks, and spinlocks.  Change const to
	_CONST and prefix parameter names with
	an underscore.
	* libc/include/sys/types.h: Add id and attribute
	types for barriers, wrlocks, and spinlocks.
	* libc/include/sys/features.h: Enable barriers,
	wrlocks, and spinlocks for RTEMS.

2006-09-13  Patrick Mansfield <patmans@us.ibm.com>

	* libc/include/math.h: Remove _CONST from _LIB_VERSION, as it is
	supposed to be writable.
	* libm/common/s_lib_ver.c: Ditto.

2006-09-12  Paul Brook  <paul@codesourcery.com>

	* libc/stdlib/rand.c (srand): Add _REENT_CHECK_RAND48.

2006-09-07  Masaki Muranaka  <monaka@monami-software.com>


	* libc/machine/xstormy16/Makefile.am:
	Add $(lpfx) prefix to LIBADD objects.
	lib_a_DEPENDENCIES uses the value of lib_a_LIBADD.
	* libc/machine/xstormy16/Makefile.in: Regenerated.

2006-09-06  Eric Blake  <ebb9@byu.net>

	* libc/stdio/vfprintf.c (_vfprintf_r, get_arg): Add 'hh', 'j',
	't', and 'z' modifiers.

2006-09-01  Kazu Hirata  <kazu@codesourcery.com>

	Merge from newlib-csl-20060320-branch:
	2006-05-22  Sandra Loosemore <sandra@codesourcery.com>

	* configure.host: Tell it we have _rename and _system when
	building m68k-unknown-elf.

2006-08-29  Paul Brook  <paul@codesourcery.com>

	* libc/include/sys/config.h: Define _REENT_SMALL for Thumb-2.

2006-08-27  Joel Sherrill <joel.sherrill@OARcorp.com>

	* libc/sys/rtems/machine/sys/param.h: Conditionalize definition of
	BLKDEV_IOSIZE and MAXPHYS so it will fit into small memory targets.
	This is needed to build all AVR and H8300 RTEMS multilib variants.

2006-08-23  Kazunori Asayama  <asayama@sm.sony.co.jp>

	* libc/machine/configure.in: Add configuration for SPU.
	* libc/machine/configure: Regenerated.
	* libc/machine/spu/memcpy.c: Include string.h.

2006-08-22  Eric Blake  <ebb9@byu.net>

	* libc/posix/popen.c (popen): Don't close output end of pipe in
	child if stdout was closed on entry.
	[HAVE_FCNTL]: In parent, mark file as close-on-exec, per POSIX.

2006-08-19  Ramana Radhakrishnan  <ramana.r@gmail.com>

	* sys/types.h: Correct syntax error caused by missing '\' on #ifdef
	line.

2006-08-17  Brian Ford  <Brian.Ford@FlightSafety.com>

	* libc/time/gmtime.c: Correct man page; clock is not a
	local time and no conversion occurs.

2006-08-16  Joel Schopp  <jschopp@austin.ibm.com>

	* configure.host (newlib_cflags) [spu]: Add special compiler
	options to reduce size.

2006-08-16  Joel Schopp  <jschopp@austin.ibm.com>

	* configure.host: Add spu support.
	* libc/include/stdint.h: Ditto.
	* libc/include/machine/ieeefp.h: Ditto.
	* libc/include/machine/setjmp.h: Ditto.
	* libc/include/sys/config.h: Ditto.
	* libc/include/sys/types.h: Ditto.
	* libc/machine/spu/Makefile.am: New file.
	* libc/machine/spu/Makefile.in: Ditto.
	* libc/machine/spu/aclocal.m4: Ditto.
	* libc/machine/spu/configure: Ditto.
	* libc/machine/spu/configure.in: Ditto.
	* libc/machine/spu/memcpy.c: Ditto.
	* libc/machine/spu/setjmp.S: Ditto.

2006-08-03  J"orn Rennecke  <joern.rennecke@st.com>

	* dtoa.c (dtoa_r): Handle the denormalized _DOUBLE_IS_32BITS case
	properly.

2006-08-01  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/Makefile.am: Add libc_TEXINFOS dependency on
	generated .texi files.
	* libm/Makefile.am: Add libm_TEXINFOS dependency on
	generated .texi files.
	* libc/Makefile.in: Regenerated.
	* libm/Makefile.in: Ditto.

2006-08-01  Thiemo Seufer  <ths@mips.com>
	    Nigel Stephens  <nigel@mips.com>

	* libc/include/sys/config.h (__ATTRIBUTE_IMPURE_PTR__): For MIPS
	define this to force _impure_ptr to live in the .sdata section.

2006-07-31  Jeff Johnston  <jjohnstn@redhat.com>

	* acinclude.m4: Check for readelf tool.
	* configure.in: Use ${READELF} instead of hard-coding.
	* Regenerate all aclocal.m4, Makefile.in, and configure files.

2006-07-31  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/mmap.c: Remove include of sys/mman.h
	to avoid conflict with newer glibc's revision of mremap.

2006-07-05  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdlib/mprec.h [_DOUBLE_IS_32BITS]: Turn off C99 hex
	floating-point format support.  Also redefine
	dword0 and dword1 macros.
	* libc/stdlib/strtod.c: Add checks for _DOUBLE_IS_32BITS
	to prevent setting dword1 which is an rvalue only.

2006-06-22  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdlib/Makefile.am: Add new gdtoa routines.
	* libc/stdlib/Makefile.in: Regenerated.
	* libc/stdlib/gd_qnan.h: New file.
	* libc/stdlib/gdtoa-gethex.c: Ditto.
	* libc/stdlib/gdtoa-hexnan.c: Ditto.
	* libc/stdlib/gdtoa.h: Ditto.
	* libc/stdlib/mprec.c: Add new helper routines needed by
	the new gdtoa code.
	* libc/stdlib/mprec.h: Integrate some defines and prototypes
	used by gdtoa routines here.
	* libc/stdlib/strtod.c: Rebased on David M. Gay's gdtoa-strtod.c
	which adds C99 support such as nan, inf, and hexadecimal input
	format.

2006-06-15  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/stdio.h (__sgetc_r): Fix typo.
	* libc/stdio/fread.c (_fread_r): Convert crlf calls to crlf_r.
	* libc/stdio/rget.c (__srbuf): Reinstantiate.
	* libc/stdio/wbuf.c (__swbuf): Ditto.

2006-06-14  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/stdio.h: Add new reentrant I/O prototypes for
	read/write functions.  Change getc/putc macros to have reentrant underlying
	macros/functions.  This includes __sgetc_raw_r, __sgetc_r, and __sputc_r.
	* libc/stdio/fgetc.c: Fix and/or add reentrant version to call
	new reentrant I/O functions/macros for reading/writing.
	* libc/stdio/fgets.c: Ditto.
	* libc/stdio/fputc.c: Ditto.
	* libc/stdio/fputs.c: Ditto.
	* libc/stdio/fread.c: Ditto.
	* libc/stdio/fseek.c: Ditto.
	* libc/stdio64/fseeko64.c: Ditto.
	* libc/stdio/fwrite.c: Ditto.
	* libc/stdio/getc.c: Ditto.
	* libc/stdio/getc_u.c: Ditto.
	* libc/stdio/getchar.c: Ditto.
	* libc/stdio/getchar_u.c: Ditto.
	* libc/stdio/putc.c: Ditto.
	* libc/stdio/putc_u.c: Ditto.
	* libc/stdio/putchar.c: Ditto.
	* libc/stdio/puts.c: Ditto.
	* libc/stdio/vfprintf.c: Ditto.
	* libc/stdio/vfscanf.c: Ditto.
	* libc/stdio/fvwrite.c: Change __sfvwrite into reentrant __sfvwrite_r.
	Change all previous callers of __sfvwrite.  Set errno to EBADF and
	set error flag on if attempt is made to write to file that does not
	allow writing.
	* libc/stdio/fvwrite.h: Fix new reentrant prototypes.
	* libc/stdio/local.h: Ditto.
	* libc/stdio/refill.c: Turn __srefill into reentrant __srefill_r.
	Set errno to EBADF and the error flag on if attempt is made to
	read unreadable file.  Change all previous callers of __srefill.
	* libc/stdio/rget.c
	* libc/stdio/wbuf.c: Turn __swbuf into reentrant __swbuf_r.  Change
	all previous callers of __swbuf.
	* libc/sys/linux/machine/i386/huge_val.h: Ifdef out file contents since
	huge value macros are already defined correctly for i386 by <math.h>.

2006-06-13  Sandra Loosemore <sandra@codesourcery.com>

	* /libc/sys/arm/syscalls.c (_unlink, isatty, _system, _rename):
	Make them do something useful in the ARM_RDI_MONITOR case.

2006-06-07  Fred Fish  <fnf@specifix.com>

	* libc/search/hash_bigkey.c (MIN,MAX): Remove
	defines that are already supplied by <sys/param.h>.

2006-06-07  Fred Fish  <fnf@specifix.com>

	* configure.host: Remove references to HAVE_GETTIMEOFDAY.

2006-06-05  Shaun Jackman  <sjackman@gmail.com>

	* libc/posix/Makefile.am (GENERAL_SOURCES): Add sleep.c and
	usleep.c.
	* libc/posix/Makefile.in: Regenerate.
	* libc/posix/sleep.c: New file.
	* libc/posix/usleep.c: Ditto.

2006-06-05  Shaun Jackman  <sjackman@gmail.com>

	* configure.host (newlib_cflags) [arm, thumb, xscale]:  Remove
	-DABORT_PROVIDED flag.
	* newlib/libc/sys/arm/syscalls.c (kill, exit): Sync with libgloss.
	* newlib/libc/sys/arm/libcfunc.c (abort): Ditto.

2006-06-05  Jeff Johnston  <jjohnstn@redhat.com>

	* Makefile.am (AM_MAKEFLAGS): Pass CCASFLAGS.
	* Makefile.in: Regenerated.
	* libc/machine/sh/Makefile.am (AM_CCASFLAGS): Remove
	extraneous CFLAGS reference now that CCASFLAGS are being extended
	properly via multilib.
	* libc/machine/sh/Makefile.in: Regenerated.

2006-06-02  Shaun Jackman  <sjackman@gmail.com>

	* libc/unix/sigset.c: Undefine sigfillset, sigdelset, and
	sigismember.

2006-05-23  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/misc/dprintf.c: Removed.
	* libc/misc/__dprintf.c: Renamed from dprintf.c.
	* libc/misc/Makefile.am: Changed appropriately for rename.
	* libc/misc/Makefile.in: Regenerated.

2006-05-23  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/stdio.h: Protect dprintf prototype
	with #ifndef dprintf so as to not interfere with
	historical code defining their own dprintf macro.

2006-05-18  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/stdio.h: Add prototypes for fiscanf,
	iscanf, and siscanf.

2006-05-11  J"orn Rennecke <joern.rennecke@st.com>

	* acinclude.m4 (_NEWLIB_VERSION): Rename to:
	(DEF_NEWLIB_VERSION).
	* configure.in (_NEWLIB_VERSION): Use NEWLIB_VERSION.
	* configure: Regenerate.

2006-05-09  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/ctype/Makefile.am: Add $(ELIX_SOURCES) to
	lib_a_SOURCES.
	* libc/ctype/Makefile.in: Regenerated.

2006-05-09  Kazu Hirata  <kazu@codesourcery.com>

	* libc/machine/arm/Makefile.am: Fix a typo.
	* libc/machine/arm/Makefile.in: Regenerated.

2006-05-08  J"orn Rennecke <joern.rennecke@st.com>

	* libc/machine/sh/Makefile.am (AM_CCASFLAGS): Add $(CFLAGS).
	* libc/machine/sh/Makefile.in: Regenerate.

2006-05-03  J"orn Rennecke <joern.rennecke@st.com>

	* libc/sys/sh/Makefile.am (AM_CCASFLAGS): Add $(CFLAGS).
	* libc/sys/sh/Makefile.in (AM_CCASFLAGS): Likewise.

2006-05-02  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/sysnec810/Makefile.am: Specify .S files instead of
	.s.
	* libc/sys/sysnec810/Makefile.in: Regenerated.
	* libc/sys/sysnec810/crt0.S: Renamed from .s file.
	* libc/sys/sysnec810/io.S: Ditto.
	* libc/sys/sysnec810/crt0.s: Renamed to .S file.
	* libc/sys/sysnec810/io.s: Ditto.

2006-05-01  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/argz/Makefile.am: Prefix any objects specified with $(lpfx).  If source file can
	be specified instead of object, do so.
	* libc/ctype/Makefile.am: Ditto.
	* libc/iconv/ccs/Makefile.am: Ditto.
	* libc/iconv/ces/Makefile.am: Ditto.
	* libc/iconv/lib/Makefile.am: Ditto.
	* libc/locale/Makefile.am: Ditto.
	* libc/posix/Makefile.am: Ditto.
	* libc/reent/Makefile.am: Ditto.
	* libc/search/Makefile.am: Ditto.
	* libc/stdio/Makefile.am: Ditto.
	* libc/stdio64/Makefile.am: Ditto.
	* libc/stdlib/Makefile.am: Ditto.
	* libc/string/Makefile.am: Ditto.
	* libc/syscalls/Makefile.am: Ditto.
	* libc/unix/Makefile.am: Ditto.
	* libc/machine/a29k/Makefile.am: Specify lib_a_CCASFLAGS so .S files will get
	prefix added automatically.  Any specified rules must use $(lpfx) for
	object file names.
	* libc/machine/arm/Makefile.am: Ditto.
	* libc/machine/cris/Makefile.am: Ditto.
	* libc/machine/crx/Makefile.am: Ditto.
	* libc/machine/d10v/Makefile.am: Ditto.
	* libc/machine/d30v/Makefile.am: Ditto.
	* libc/machine/fr30/Makefile.am: Ditto.
	* libc/machine/frv/Makefile.am: Ditto.
	* libc/machine/h8300/Makefile.am: Ditto.
	* libc/machine/h8500/Makefile.am: Ditto.
	* libc/machine/hppa/Makefile.am: Ditto.
	* libc/machine/i386/Makefile.am: Ditto.
	* libc/machine/i960/Makefile.am: Ditto.
	* libc/machine/iq2000/Makefile.am: Ditto.
	* libc/machine/m32c/Makefile.am: Ditto.
	* libc/machine/m32r/Makefile.am: Ditto.
	* libc/machine/m68hc11/Makefile.am: Ditto.
	* libc/machine/m68k/Makefile.am: Ditto.
	* libc/machine/m88k/Makefile.am: Ditto.
	* libc/machine/mips/Makefile.am: Ditto.
	* libc/machine/mn10200/Makefile.am: Ditto.
	* libc/machine/mn10300/Makefile.am: Ditto.
	* libc/machine/mt/Makefile.am: Ditto.
	* libc/machine/necv70/Makefile.am: Ditto.
	* libc/machine/powerpc/Makefile.am: Ditto.
	* libc/machine/sh/Makefile.am: Ditto.
	* libc/machine/sh/Makefile.in: Ditto.
	* libc/machine/sparc/Makefile.am: Ditto.
	* libc/machine/tic4x/Makefile.am: Ditto.
	* libc/machine/tic80/Makefile.am: Ditto.
	* libc/machine/v850/Makefile.am: Ditto.
	* libc/machine/w65/Makefile.am: Ditto.
	* libc/machine/xscale/Makefile.am: Ditto.
	* libc/machine/xstormy16/Makefile.am: Ditto.
	* libc/machine/z8k/Makefile.am: Ditto.
	* libc/sys/a29khif/Makefile.am: Ditto.
	* libc/sys/arm/Makefile.am: Ditto.
	* libc/sys/d10v/Makefile.am: Ditto.
	* libc/sys/h8300hms/Makefile.am: Ditto.
	* libc/sys/h8500hms/Makefile.am: Ditto.
	* libc/sys/linux/Makefile.am: Ditto.
	* libc/sys/linux/linuxthreads/Makefile.am: Ditto.
	* libc/sys/linux/net/Makefile.am: Ditto.
	* libc/sys/linux/stdlib/Makefile.am: Ditto.
	* libc/sys/m88kbug/Makefile.am: Ditto.
	* libc/sys/mmixware/Makefile.am: Ditto.
	* libc/sys/rdos/Makefile.am: Ditto.
	* libc/sys/rtems/Makefile.am: Ditto.
	* libc/sys/sh/Makefile.am: Ditto.
	* libc/sys/sun4/Makefile.am: Ditto.
	* libc/sys/sysmec/Makefile.am: Ditto.
	* libc/sys/sysnec810/Makefile.am: Ditto.
	* libc/sys/sysnecv850/Makefile.am: Ditto.
	* libc/sys/sysvi386/Makefile.am: Ditto.
	* libc/sys/sysvnecv70/Makefile.am: Ditto.
	* libc/sys/tic80/Makefile.am: Ditto.
	* libc/sys/w65/Makefile.am: Ditto.
	* libc/sys/z8ksim/Makefile.am: Ditto.
	* libc/machine/necv70/fastmath.S: Renamed from .s file.
	* libc/machine/necv70/setjmp.S: Ditto.
	* libc/machine/necv70/fastmath.s: Removed.
	* libc/machine/necv70/setjmp.s: Ditto.
	* libc/machine/w65/*.S: New files renamed from .s files.
	* libc/machine/w65/*.s: Renamed and removed.
	* libc/sys/a29khif/*.S: New files renamed from .s files.
	* libc/sys/a29khif/*.s: Renamed and removed.
	* libc/sys/sysvi386/*.S: New files renamed from .s files.
	* libc/sys/sysvi386/*.s: Renamed and removed.
	* libc/sys/sysvnecv70/*.S: New files renamed from .s files.
	* libc/sys/sysvnecv70/*.s: Renamed and removed.
	* libc/*Makefile.in: Regenerated as appropriate.

2006-04-24  DJ Delorie  <dj@redhat.com>

	* libc/machine/sh/configure.in: Avoid link tests.
	* libc/machine/sh/configure: Regenerate.

2006-04-18  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/signal.h (sigdelset, sigfillset, sigismember): New macros.
	(sigaddset, sigemptyset): Add return code.

2006-04-13  Ralf Corsepius  <ralf.corsepius@rtems.org>

	* acinclude.m4: New _NEWLIB_VERSION.
	* acinclude.m4(NEWLIB_CONFIGURE): AC_REQUIRE(_NEWLIB_VERSION).
	Use AC_CANONICAL_HOST instead of AC_CANONICAL_SYSTEM.
	Use new form of AC_INIT_AUTOMAKE.
	* configure.in: AC_PREREQ(2.59).
	Use autoconf-2.5.x version of AC_INIT.
	Use AC_CONFIG_FILES and autoconf-2.5x AC_OUTPUT instead of
	autoconf-2.13's AC_OUTPUT.
	* libm/configure.in: Ditto.
	* libm/machine/configure.in: Ditto.
	* libm/machine/i386/configure.in: Ditto.
	* libc/configure.in: Ditto.
	* libc/machine/a29k/configure.in: Ditto.
	* libc/machine/arm/configure.in: Ditto.
	* libc/machine/configure.in: Ditto.
	* libc/machine/mn10300/configure.in: Ditto.
	* libc/machine/powerpc/configure.in: Ditto.
	* libc/machine/z8k/configure.in: Ditto.
	* libc/machine/h8300/configure.in: Ditto.
	* libc/machine/mips/configure.in: Ditto.
	* libc/machine/crx/configure.in: Ditto.
	* libc/machine/m68hc11/configure.in: Ditto.
	* libc/machine/h8500/configure.in: Ditto.
	* libc/machine/xscale/configure.in: Ditto.
	* libc/machine/d10v/configure.in: Ditto.
	* libc/machine/fr30/configure.in: Ditto.
	* libc/machine/sh/configure.in: Ditto.
	* libc/machine/tic80/configure.in: Ditto.
	* libc/machine/m32r/configure.in: Ditto.
	* libc/machine/xstormy16/configure.in: Ditto.
	* libc/machine/i386/configure.in: Ditto.
	* libc/machine/d30v/configure.in: Ditto.
	* libc/machine/mn10200/configure.in: Ditto.
	* libc/machine/frv/configure.in: Ditto.
	* libc/machine/mt/configure.in: Ditto.
	* libc/machine/i960/configure.in: Ditto.
	* libc/machine/v850/configure.in: Ditto.
	* libc/machine/necv70/configure.in: Ditto.
	* libc/machine/tic4x/configure.in: Ditto.
	* libc/machine/cris/configure.in: Ditto.
	* libc/machine/m68k/configure.in: Ditto.
	* libc/machine/m32c/configure.in: Ditto.
	* libc/machine/hppa/configure.in: Ditto.
	* libc/machine/w65/configure.in: Ditto.
	* libc/machine/iq2000/configure.in: Ditto.
	* libc/machine/sparc/configure.in: Ditto.
	* libc/machine/m88k/configure.in: Ditto.
	* libc/sys/linux/configure.in: Ditto.
	* libc/sys/linux/machine/configure.in: Ditto.
	* libc/sys/linux/machine/i386/configure.in: Ditto.
	* libc/sys/linux/linuxthreads/configure.in: Ditto.
	* libc/sys/linux/linuxthreads/machine/configure.in: Ditto.
	* libc/sys/linux/linuxthreads/machine/i386/configure.in: Ditto.
	* libc/sys/arm/configure.in: Ditto.
	* libc/sys/configure.in: Ditto.
	* libc/sys/decstation/configure.in: Ditto.
	* libc/sys/a29khif/configure.in: Ditto.
	* libc/sys/sysnecv850/configure.in: Ditto.
	* libc/sys/d10v/configure.in: Ditto.
	* libc/sys/netware/configure.in: Ditto.
	* libc/sys/mmixware/configure.in: Ditto.
	* libc/sys/h8500hms/configure.in: Ditto.
	* libc/sys/sh/configure.in: Ditto.
	* libc/sys/tic80/configure.in: Ditto.
	* libc/sys/rdos/configure.in: Ditto.
	* libc/sys/sysmec/configure.in: Ditto.
	* libc/sys/sysvi386/configure.in: Ditto.
	* libc/sys/h8300hms/configure.in: Ditto.
	* libc/sys/sparc64/configure.in: Ditto.
	* libc/sys/arc/configure.in: Ditto.
	* libc/sys/sysnec810/configure.in: Ditto.
	* libc/sys/m88kbug/configure.in: Ditto.
	* libc/sys/sysvnecv70/configure.in: Ditto.
	* libc/sys/z8ksim/configure.in: Ditto.
	* libc/sys/rtems/configure.in: Ditto.
	* libc/sys/w65/configure.in: Ditto.
	* libc/sys/sun4/configure.in: Ditto.
	* doc/configure.in: Ditto.
	* iconvdata/configure.in: Ditto.
	* configure.in: Use AC_CONFIG_HEADER instead of AM_CONFIG_HEADER.

2006-04-11  Jeff Johnston  <jjohnstn@redhat.com>

	* acinclude.m4: Properly add square brackets for
	AC_DEFUN macros.  Rewrite LIB_AC_PROG_CC to remove
	macros no longer available.  Add LIB_AM_PROG_AS to
	remove prereq of AC_PROG_CC.  Add LIB_AC_PROG_CC_GNU
	macro.  Substitute lpfx (library object prefix).
	* configure.host: Set lpfx depending on whether
	libtool is used or not.
	* configure.in: Individually specify libc and libm
	to AC_CONFIG_SUBDIRS.  Add square bracket quoting as
	necessary.
	* Makefile.am: Use $(lpfx) to get object names for
	math-library functions that should also be in libc.
	* libc/machine/configure.in: Use case statement to determine
	AC_CONFIG_SUBDIRS statement.
	* libc/sys/linux/linuxthreads/machine/configure.in: Ditto.
	* libc/sys/linux/machine/configure.in: Ditto.
	* libc/sys/configure.in: Ditto.
	* libm/machine/configure.in: Ditto.
	* libc/sys/linux/configure.in: Fix up AC_CONFIG_SUBDIRS.
	* libm/configure.in: Add AM_CONDITIONAL statement
	for HAVE_LIBM_MACHINE_DIR.
	* libc/machine/a29k/Makefile.am: Modified to work with
	latest automake.  Change includes setting AM_CCASFLAGS
	so building .S files will properly pick up flags used
	to build C files.
	* libc/machine/arm/Makefile.am: Ditto.
	* libc/machine/crx/Makefile.am: Ditto.
	* libc/machine/d10v/Makefile.am: Ditto.
	* libc/machine/d30v/Makefile.am: Ditto.
	* libc/machine/fr30/Makefile.am: Ditto.
	* libc/machine/frv/Makefile.am: Ditto.
	* libc/machine/h8300/Makefile.am: Ditto.
	* libc/machine/h8500/Makefile.am: Ditto.
	* libc/machine/hppa/Makefile.am: Ditto.
	* libc/machine/i386/Makefile.am: Ditto.
	* libc/machine/iq2000/Makefile.am: Ditto.
	* libc/machine/m32c/Makefile.am: Ditto.
	* libc/machine/m32r/Makefile.am: Ditto.
	* libc/machine/m68hc11/Makefile.am: Ditto.
	* libc/machine/m68k/Makefile.am: Ditto.
	* libc/machine/m88k/Makefile.am: Ditto.
	* libc/machine/mips/Makefile.am: Ditto.
	* libc/machine/mn10200/Makefile.am: Ditto.
	* libc/machine/mn10300/Makefile.am: Ditto.
	* libc/machine/mt/Makefile.am: Ditto.
	* libc/machine/necv70/Makefile.am: Ditto.
	* libc/machine/powerpc/Makefile.am: Ditto.
	* libc/machine/sh/Makefile.am: Ditto.
	* libc/machine/sparc/Makefile.am: Ditto.
	* libc/machine/tic4x/Makefile.am: Ditto.
	* libc/machine/tic80/Makefile.am: Ditto.
	* libc/machine/v850/Makefile.am: Ditto.
	* libc/machine/w65/Makefile.am: Ditto.
	* libc/machine/xscale/Makefile.am: Ditto.
	* libc/machine/xstormy16/Makefile.am: Ditto.
	* libc/machine/z8k/Makefile.am: Ditto.
	* libc/sys/a29khif/Makefile.am: Ditto.
	* libc/sys/arc/Makefile.am: Ditto.
	* libc/sys/arm/Makefile.am: Ditto.
	* libc/sys/d10v/Makefile.am: Ditto.
	* libc/sys/decstation/Makefile.am: Ditto.
	* libc/sys/h8300hms/Makefile.am: Ditto.
	* libc/sys/h8500hms/Makefile.am: Ditto.
	* libc/sys/linux/linuxthreads/machine/i386/Makefile.am: Ditto.
	* libc/sys/linux/machine/i386/Makefile.am: Ditto.
	* libc/sys/m88kbug/Makefile.am: Ditto.
	* libc/sys/mmixware/Makefile.am: Ditto.
	* libc/sys/netware/Makefile.am: Ditto.
	* libc/sys/rdos/Makefile.am: Ditto.
	* libc/sys/rtems/Makefile.am: Ditto.
	* libc/sys/sh/Makefile.am: Ditto.
	* libc/sys/sparc64/Makefile.am: Ditto.
	* libc/sys/sysmec/Makefile.am: Ditto.
	* libc/sys/sysnec810/Makefile.am: Ditto.
	* libc/sys/sysnecv850/Makefile.am: Ditto.
	* libc/sys/sysvi386/Makefile.am: Ditto.
	* libc/sys/sysvnecv70/Makefile.am: Ditto.
	* libc/sys/tic80/Makefile.am: Ditto.
	* libc/sys/w65/Makefile.am: Ditto.
	* libc/sys/z8ksim/Makefile.am: Ditto.
	* libm/machine/i386/Makefile.am: Ditto.
	* libc/sys/arm/Makefile.am: Ditto plus add EXTRA sources including
	trap.S so that automake will generate a .S.o suffix rule.
	* libc/argz/Makefile.am: Modified to work with
	latest automake.  Change includes adding lib_a_CFLAGS
	so automake doesn't complain about libtool and non-libtool
	libraries sharing objects.
	* libc/ctype/Makefile.am: Ditto.
	* libc/errno/Makefile.am: Ditto.
	* libc/iconv/ccs/Makefile.am: Ditto.
	* libc/iconv/ces/Makefile.am: Ditto.
	* libc/iconv/lib/Makefile.am: Ditto.
	* libc/locale/Makefile.am: Ditto.
	* libc/misc/Makefile.am: Ditto.
	* libc/posix/Makefile.am: Ditto.
	* libc/reent/Makefile.am: Ditto.
	* libc/search/Makefile.am: Ditto.
	* libc/signal/Makefile.am: Ditto.
	* libc/stdio/Makefile.am: Ditto.
	* libc/stdio64/Makefile.am: Ditto.
	* libc/stdlib/Makefile.am: Ditto.
	* libc/string/Makefile.am: Ditto.
	* libc/sys/linux/Makefile.am: Ditto.
	* libc/sys/linux/argp/Makefile.am: Ditto.
	* libc/sys/linux/cmath/Makefile.am: Ditto.
	* libc/sys/linux/dl/Makefile.am: Ditto.
	* libc/sys/linux/iconv/Makefile.am: Ditto.
	* libc/sys/linux/intl/Makefile.am: Ditto.
	* libc/sys/linux/linuxthreads/Makefile.am: Ditto.
	* libc/sys/linux/net/Makefile.am: Ditto.
	* libc/sys/linux/stdlib/Makefile.am: Ditto.
	* libc/syscalls/Makefile.am: Ditto.
	* libc/time/Makefile.am: Ditto.
	* libc/unix/Makefile.am: Ditto.
	* libm/Makefile.am: Ditto.
	* libm/common/Makefile.am: Ditto.
	* libm/math/Makefile.am: Ditto.
	* libm/mathfp/Makefile.am: Ditto.
	* Regenerate all aclocal.m4, Makefile.in, and configure files.

2006-04-07  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/time/time.c (time): Do not check for HAVE_GETTIMEOFDAY
	anymore.  Assume there is a gettimeofday syscall.

2006-03-29  Shaun Jackman  <sjackman@gmail.com>

	* libc/sys/linux/include/netinet/ip.h: Include netinet/in_systm.h
	for the declaration of n_long.

2006-03-29  Shaun Jackman  <sjackman@gmail.com>

	* libc/sys/linux/include/net/if.h: Include sys/socket.h for
	struct sockaddr.
	(IFF_SMART): Replace this define with IFF_NOTRAILERS.
	(IFF_CANTCHANGE): Replace IFF_SMART reference with IFF_NOTRAILERS.
	(IFF_NOTRAILERS): New define.
	(struct ifreq): Add ifru_netmask.
	(ifr_netmask): New define.

2006-03-29  Shaun Jackman  <sjackman@gmail.com>

	* libc/sys/linux/sys/ioccom.h (ioctl): Change declaration to
	match sys/ioctl.h.

2006-03-29  Shaun Jackman  <sjackman@gmail.com>

	* libtool.m4: Set lt_cv_deplibs_check_method=pass_all for
	linux-newlib libc implementations.

2006-03-29  Eric Blake  <ebb9@byu.net>

	* libc/stdio/freopen.c (_freopen_r) [__SCLE]: Fix typo.
	* libc/stdio64/freopen64.c (_freopen64_r) [__SCLE]: Likewise.

2006-03-29  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/io.c (__mknod): Fix declaration of
	syscall to pass a dev_t as third argument rather than
	a pointer to dev_t.

2006-03-29  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/net/name6.c: Fix struct references.

2006-03-22  Mark Mitchell  <mark@codesourcery.com>

	* configure.host: Allow hosts to set the default
	newlib_atexit_dynamic_alloc value.
	* configure.in: Likewise.
	* configure: Regenerated.

2006-03-20  Mark Mitchell  <mark@codesourcery.com>

	* acconfig.h (_ATEXIT_DYNAMIC_ALLOC): Undef.
	* configure.in (--disable-newlib-atexit-dynamic-alloc): New
	option.
	* configure: Regenerated.
	* newlib.hin: Regenerated.
	* libc/stdlib/__atexit.c (__register_exitproc): Don't call malloc
	if _ATEXIT_DYNAMIC_ALLOC is undefined.
	* libc/stdlib/__call_atexit.c (__call_exitprocs): Don't call free
	if _ATEXIT_DYNAMIC_ALLOC is undefined.

2006-03-17  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/linuxthreads/config.h: Remove definition
	of UINT32_C.

2006-03-15  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/wsetup.c (__swsetup): Don't make a buffer
	for a string I/O file that isn't using the asprintf family.

2006-03-07  Eric Blake  <ebb9@byu.net>

	* libc/stdio/freopen.c (_freopen_r) [HAVE_FCNTL]: For NULL
	filename, allow read-only or write-only FILE atop O_RDWR file
	descriptor.
	* libc/stdio64/freopen64.c (_freopen64_r) [HAVE_FCNTL]: Likewise.

2006-03-07  Jeff Johnston  <jjohnstn@redhat.com>

	* libm/common/sf_isinf.c[_DOUBLE_IS_32BITS]: Undef isinf.
	* libm/common/sf_isnan.c[_DOUBLE_IS_32BITS]: Undef isnan.

2006-03-02  Jeff Johnston  <jjohnstn@redhat.com>

	* libm/math/math.tex: Fix reference to sisnan.def which
	is now in common subdirectory.
	* libm/mathfp/mathfp.tex: Ditto.

2006-02-27  Jeff Johnston  <jjohnstn@redhat.com>

	* Makefile.am (MATHOBJS_IN_LIBC): Add s_isinfd, sf_isinff,
	s_isnand, and sf_isnanf object files.
	* Makefile.in: Regenerated.
	* libc/include/ieeefp.h: Undef isnan and isinf to avoid
	conflict if <math.h> has previously been included.
	* libc/include/math.h
	* libc/include/math.h: Make isnan and isinf macros to
	conform to C99.
	(__isinfd, __isinff, __isnand, __isnanf): New functions.
	* libm/common/Makefile.am: Add new s_isinfd, s_isnand, sf_isinff,
	and sf_isnanf files.  Also support s_isnan, sf_isnan, s_isinf, and
	sf_isinf files which have been moved from math/mathfp directories.
	* libm/common/Makefile.in: Regenerated.
	* libm/common/s_isinfd.c: New file.
	* libm/common/s_isnand.c: Ditto.
	* libm/common/sf_isinff.c: Ditto.
	* libm/common/sf_isnanf.c: Ditto.
	* libm/common/s_isinf.c: Moved from libm/math directory.
	* libm/common/s_isnan.c: Ditto.
	* libm/common/sf_isinf.c: Ditto.
	* libm/common/sf_isnan.c: Ditto.
	* libm/math/Makefile.am: Remove isinf and isnan family functions
	which have been moved into common directory.
	* libm/mathfp/Makefile.am: Ditto.
	* libm/math/Makefile.in: Regenerated.
	* libm/mathfp/Makefile.in: Ditto.
	* libm/math/s_isinf.c: Removed.
	* libm/math/s_isnan.c: Ditto.
	* libm/math/sf_isinf.c: Ditto.
	* libm/math/sf_isnan.c: Ditto.
	* libm/mathfp/s_isinf.c: Ditto.
	* libm/mathfp/s_isnan.c: Ditto.
	* libm/mathfp/sf_isinf.c: Ditto.
	* libm/mathfp/sf_isnan.c: Ditto.

2006-02-20  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/fflush.c (fflush): For an fflush on a read-only
	stream, turn off fseek/rewind optimization as per POSIX/SUSv3.
	* libc/stdio/fseek.c (_fseek_r): After a successful unoptimized
	seek, turn off the __SNPT no-optimization flag.

2006-02-16  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/aio.c: Define _GNU_SOURCE so struct aioinit
	will be defined.
	* libc/sys/linux/sys/types.h: Move <sys/config.h> ahead of
	<features.h> to preset special flags.

2006-02-15  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/time.h (struct timeval): Change member types
	according to SUSv3.
	* libc/include/sys/types.h (useconds_t): Change to unsigned
	according to SUSv3.
	(suseconds_t): Define type.

2006-02-13  Jeff Johnston  <jjohnstn@redhat.com>
	    David Carne  <davidcarne@gmail.com>

	* libc/string/strndup_r.c (_strndup_r): Use strnlen logic
	instead of strlen to determine number of bytes to copy.
	* libc/string/strnlen.c (strnlen): Fix so check for max limit occurs
	before looking at storage location.

2006-02-07  Paul Brook  <paul@codesourcery.com>

	* libc/machine/arm/setjmp.S: Add Thumb-2 support.
	* libc/sys/arm/crt0.S: Add Thumb-2 startup code.
	* libc/sys/arm/libcfunc.c (do_AngelSWI): Use AngelSWIInsn.
	* libc/sys/arm/swi.h (AngelSWIInsn, AngelSWIAsm): Define.
	* libc/sys/arm/trap.S: Disable for Thumb-2.

2006-01-31  Leif Ekblad  <leif@rdos.net>

	* configure.host: RDOS support added
	* libc/include/sys/config.h: Ditto.
	* libc/sys/rdos/Makefile.am, libc/sys/rdos/Makefile.in: New files.
	* libc/sys/rdos/aclocal.m4, libc/sys/rdos/chown.c: Ditto.
	* libc/sys/rdos/close.c, libc/sys/rdos/config.h: Ditto.
	* libc/sys/rdos/configure, libc/sys/rdos/configure.in: Ditto.
	* libc/sys/rdos/crt0.S, libc/sys/rdos/execve.c: Ditto.
	* libc/sys/rdos/fork.c, libc/sys/rdos/fstat.c: Ditto.
	* libc/sys/rdos/getenv.c, libc/sys/rdos/getpid.c: Ditto.
	* libc/sys/rdos/gettod.c, libc/sys/rdos/isatty.c: Ditto.
	* libc/sys/rdos/kill.c, libc/sys/rdos/link.c: Ditto.
	* libc/sys/rdos/lseek.c, libc/sys/rdos/open.c: Ditto.
	* libc/sys/rdos/rdos.S, libc/sys/rdos/rdos.h: Ditto.
	* libc/sys/rdos/rdoshelp.c, libc/sys/rdos/read.c: Ditto.
	* libc/sys/rdos/readlink.c, libc/sys/rdos/sbrk.c: Ditto.
	* libc/sys/rdos/stat.c, libc/sys/rdos/symlink.c: Ditto.
	* libc/sys/rdos/times.c, libc/sys/rdos/unlink.c: Ditto.
	* libc/sys/rdos/user.def, libc/sys/rdos/wait.c: Ditto.
	* libc/sys/rdos/write.c: Ditto.

2006-01-24  Jeff Johnston  <jjohnstn@redhat.com>

	* acinclude.m4: Add nodefine to AM_INIT_AUTOMAKE macro invocation
	so as not to define PACKAGE and VERSION in newlib.h.
	* aclocal.m4: Regenerated.
	* configure: Ditto.
	* newlib.hin: Ditto.

2006-01-20  Jeff Johnston  <jjohnstn@redhat.com>

	* acconfig.h: New file to generate newlib.hin from.
	* newlib.hin: Regenerated.
	* stamp-h.in: Regenerated.
	* Makefile.am: Add ACLOCAL_AMFLAGS so aclocal can be
	called automatically.
	* Makefile.in: Regenerated.
	* acinclude.m4: Add proper comment for hack in previous change.
	* aclocal.m4 */aclocal.m4: Regenerated.
	* configure */configure: Regenerated.

2006-01-11  Jeff Johnston  <jjohnstn@redhat.com>

	* acinclude.m4: Add hack to prevent INSTALL in subdirs
	from being set to "../".
	* Makefile.am: Pass INSTALL in AM_MAKEFLAGS.
	* aclocal.m4: Regenerated.
	* configure: Ditto.
	* Makefile.in: Ditto.
	* doc/aclocal.m4: Ditto.
	* doc/configure: Ditto.
	* iconvdata/aclocal.m4: Ditto.
	* iconvdata/configure: Ditto.
	* libc/*/aclocal.m4: Ditto.
	* libc/*/configure: Ditto.
	* libc/libc.texinfo: Ditto.
	* libm/*/aclocal.m4: Ditto.
	* libm/*/configure: Ditto.

2006-01-10  Eric Blake  <ebb9@byu.net>

	* libc/stdio/freopen.c (_freopen_r): Fix use of oflags.
	* libc/stdio64/freopen64.c (_freopen64_r): Likewise.

2006-01-10  Jeff Johnston  <jjohnstn@redhat.com>

	* libm/mathfp/s_frexp.c: Check for special values on
	the original input, not the manipulated output value.
	* libm/mathfp/sf_frexp.c: Ditto.
	* libm/mathfp/s_atangent.c: Don't use local value branch
	when checking for quadrant.
	* libm/mathfp/sf_atangent.c: Ditto.

2006-01-09  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/freopen.c: Switch to use isatty instead of _isatty.
	* libc/stdio64/freopen64.c: Ditto.

2006-01-09  Eric Blake  <ebb9@byu.net>

	* libc/stdio/freopen.c (_freopen_r): Accept NULL filename.
	* libc/stdio64/freopen64.c (_freopen64_r): Likewise.

2006-01-06  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/include/getopt.h: Add macros needed by
	new version of getopt.c in libc/stdlib.

2006-01-04  Gregory Pietsch  <gpietsch@comcast.net>

	* libc/stdlib/getopt.c: Replaced with version
	that adds getopt_long and getopt_long_only support.
	* libc/include/getopt.h: New file.

2005-12-16  Jeff Johnston  <jjohnstn@redhat.com>

	* NEWS: Update with 1.14.0 info.
	* README: Ditto.
	* acinclude.m4: Change version number to 1.14.0.
	* aclocal.m4: Regenerated.
	* configure: Ditto.
	* doc/aclocal.m4: Ditto.
	* doc/configure: Ditto.
	* libc/*/aclocal.m4: Ditto.
	* libc/*/configure: Ditto.
	* libc/libc.texinfo: Ditto.
	* libm/*/aclocal.m4: Ditto.
	* libm/*/configure: Ditto.
	* libm/libm.texinfo: Ditto.
	* libc/sys/linux/shared.ld: Add VERS_1.14.

2005-12-16  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/sys/stat.h: Change *stat64 prototypes to
	take a pointer to struct stat64 rather than struct stat.

2005-12-16  Ralf Corsepius <ralf.corsepius@rtems.org>

	* libc/include/stdint.h: Prefer long over int for int32_t.
	Use __have_long32 to set up int32_t.
	* libc/include/inttypes.h: Use "#if xxx" instead of "#ifdef xxx"
	(Sync with stdint.h).

2005-12-14  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/fcntl.h: Define O_SYNC unconditionally.  Fix
	typo in O_NDELAY comment.

2005-12-13  Nathan Sidwell  <nathan@codesourcery.com>

	* libc/include/machine/ieeefp.h (__mt__): Renamed from __ms1__.
	* libc/include/machine/setjmp.h (__mt__): Likewise.
	* libc/machine/mt/setjmp.S: Rename ms1 reference to mt.
	* libc/machine/configure.in: Ditto.

2005-12-12  Nathan Sidwell  <nathan@codesourcery.com>

	* configure.host: Replace ms1 arch with mt arch.
	* libc/machine/mt: Renamed from ms1 dir.

2005-12-08  Shaun Jackman  <sjackman@gmail.com>

	* libc/include/sys/types.h: Remove the ifdef armour around
	standard POSIX types.

2005-12-06  Ralf Corsepius <ralf.corsepius@rtems.org>

	* libc/sys/rtems/crt0.c: Add rtems_gxx_key_create,
	rtems_gxx_key_delete, rtems_gxx_getspecific,
	rtems_gxx_setspecific, rtems_gxx_mutex_trylock,
	rtems_gxx_recursive_mutex_init, rtems_gxx_recursive_mutex_lock,
	rtems_gxx_recursive_mutex_trylock, rtems_gxx_recursive_mutex_unlock.

2005-12-05  Christopher Faylor  <cgf@timesys.com>

	* libc/include/stdlib.h: Move cygwin declarations to cygwin-specific
	file.  Declare unsetenv and _unsetenv_r when not cygwin.

2005-11-18  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/time/strptime.c (strptime): Don't abort for %c and %Z.
	Treat %c as "%a %b %e %H:%M:%S %Y" and ignore %Z.

2005-11-18  Christopher Faylor  <cgf@timesys.com>

	* include/sys/time.h: Move more cygwin stuff to cygwin-specific header.

2005-11-18  Christopher Faylor  <cgf@timesys.com>

	* include/time.h: Remove more cygwin-specific stuff.

2005-11-18  Christopher Faylor  <cgf@timesys.com>

	* include/time.h: Move cygwin declarations to cygwin-specific header.
	* include/sys/time.h: Rename cygwin include to "sys_time.h".

2005-11-17  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/dl/dl-local.h: New file based on old dlfcn.h
	in libc/sys/linux/include.
	* libc/sys/linux/dl/dlfcn.h: Moved to libc/sys/linux/include.
	* libc/sys/linux/dl/ldsodefs.h: Include dl-local.h instead of dlfcn.h.
	* libc/sys/linux/include/dlfcn.h: Replaced with dlfcn.h formerly
	in libc/sys/linux/dl.

2005-11-11  Christopher Faylor  <cgf@timesys.com>

	* libc/include/sys/time.h: For cygwin, use general header rather than
	specific "sys/select.h".

2005-11-08  Tom Walsh  <tom@openhardware.net>

	* libc/time/tzvars.c: New file.
	* libc/time/tzset_r.c: Moved globals into tzvars.c
	so other time functions needn't link in __tzset_r and its
	dependencies.
	* libc/time/Makefile.am: Add the new file.
	* libc/time/Makefile.in: Regenerated.

2005-11-08  Christopher Faylor  <cgf@timesys.com>

	* libc/include/string.h: Add cygwin-specific function declaration.

2005-11-07  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/ieeefp.h: Add C++ guards.

2005-11-03  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/unix/getcwd.c: Don't use non-reentrant syscall names.
	* libc/unix/getlogin.c: Ditto.
	* libc/unix/getpass.c: Ditto.
	* libc/unix/getut.c: Ditto.
	* libc/unix/ttyname.c: Ditto.

2005-11-03  Shaun Jackman  <sjackman@gmail.com>

	* libc/include/sys/unistd.h (readlink, symlink): Provide these
	prototypes by default.
	* libc/sys/linux/include/unistd.h (readlink): Remove this
	prototype.
	* libc/sys/linux/sys/unistd.h (readlink, symlink): New
	prototypes.

2005-11-01  Ralf Corsepius <ralf.corsepius@rtems.org>

	* libc/include/stdint.h: Cleanup #if vs. #ifdef.

2005-10-31  Darin Johnson  <darin@usa.net>

	* libm/mathfp/s_mathcnst.c: Fix endian-ness check to be
	correct for constants.

2005-10-28  Bob Wilson  <bob.wilson@acm.org>

	* libc/stdio/siprintf.c: Wrap long lines in ANSI_SYNOPSIS.
	* libc/stdio/siscanf.c: Likewise.
	* libc/stdio/sprintf.c: Likewise.
	* libc/stdio/sscanf.c: Likewise.
	* libc/stdio/vfprintf.c: Likewise.
	* libc/stdio/vfscanf.c: Likewise.
	* libc/stdio/viprintf.c: Likewise.
	* libc/stdio/viscanf.c: Likewise.

2005-10-28  Bob Wilson  <bob.wilson@acm.org>

	* libc/sys.tex (Stubs): Format examples consistently.   Change sbrk
	example to use "_end" symbol instead of "end".  Change write  example
	to use "outbyte" instead of "writechar".

2005-10-28  Bob Wilson  <bob.wilson@acm.org>

	* libc/ctype/ctype.tex: Use hyphens as appropriate, but not  otherwise.
	* libc/ctype/islower.c: Likewise.
	* libc/ctype/isupper.c: Likewise.
	* libc/ctype/iswalnum.c: Likewise.
	* libc/ctype/iswalpha.c: Likewise.
	* libc/ctype/iswblank.c: Likewise.
	* libc/ctype/iswcntrl.c: Likewise.
	* libc/ctype/iswdigit.c: Likewise.
	* libc/ctype/iswgraph.c: Likewise.
	* libc/ctype/iswlower.c: Likewise.
	* libc/ctype/iswprint.c: Likewise.
	* libc/ctype/iswpunct.c: Likewise.
	* libc/ctype/iswspace.c: Likewise.
	* libc/ctype/iswupper.c: Likewise.
	* libc/ctype/iswxdigit.c: Likewise.
	* libc/ctype/tolower.c: Likewise.
	* libc/ctype/toupper.c: Likewise.
	* libc/ctype/towctrans.c: Likewise.
	* libc/ctype/towlower.c: Likewise.
	* libc/ctype/towupper.c: Likewise.
	* libc/string/strcasecmp.c: Likewise.
	* libc/string/strcoll.c: Likewise.
	* libc/string/strings.tex: Likewise.
	* libc/string/strlwr.c: Likewise.
	* libc/string/strncasecmp.c: Likewise.
	* libc/string/strupr.c: Likewise.
	* libc/string/wcscoll.c: Likewise.
	* libc/string/wcslcat.c: Likewise.
	* libc/string/wcslcpy.c: Likewise.
	* libc/string/wcsnlen.c: Likewise.
	* libc/string/wcsstr.c: Likewise.
	* libc/string/wcstrings.tex: Likewise.
	* libc/string/wmemchr.c: Likewise.
	* libc/string/wmemcmp.c: Likewise.
	* libc/string/wmemcpy.c: Likewise.
	* libc/string/wmemmove.c: Likewise.
	* libc/string/wmemset.c: Likewise.

2005-10-28  Bob Wilson  <bob.wilson@acm.org>

	* libc/misc/unctrl.c: Replace FUNCTION description.
	* libc/signal/signal.c: Remove documentation for raise and  _raise_r.
	* libc/stdio/getdelim.c: Fix spelling errors.
	* libc/stdio/getw.c: Put RETURNS on a separate line.  Fix  punctuation.
	* libc/stdio/putw.c: Likewise.
	* libc/stdlib/a64l.c: Fix formatting, spelling and  punctuation in
	documentation.
	* libc/stdlib/assert.c: Do not capitalize FUNCTION description.
	* libc/stdlib/efgcvt.c: Add spaces to FUNCTION description.
	* libc/stdlib/envlock.c: Use em-dash in FUNCTION description.
	* libc/stdlib/mlock.c: Likewise.
	* libc/stdlib/mstats.c: Likewise.
	* libc/time/tzlock.c: Likewise.
	* libc/stdlib/rand.c: Use "multi-threaded" and "thread-safe"  in NOTES.
	* libc/stdlib/rand48.c: Remove extra space in FUNCTION  description
	and hyphenate "pseudo-random".
	* libc/string/bcmp.c: Remove extra blank lines in  documentation.
	* libc/string/strncat.c: Likewise.
	* libc/string/memchr.c: Remove extra ">" character in  documentation.
	* libc/string/strcspn.c: Use "characters" instead of "chars".
	* libc/string/strpbrk.c: Likewise.
	* libc/string/strerror_r.c: Capitalize "GNU".
	* libc/string/strnlen.c: Likewise.
	* libc/string/strtok.c: Fix formatting, spelling and  punctuation in
	documentation.  Use "multi-threaded" and "thread-safe" in  NOTES.
	* libc/string/wcscat.c: Split PORTABILITY into two paragraphs.
	* libc/string/wcschr.c: Likewise.
	* libc/string/wcscmp.c: Likewise.
	* libc/string/wcscpy.c: Likewise.
	* libc/string/wcscspn.c: Likewise.
	* libc/string/wcslen.c: Likewise.
	* libc/string/wcsncat.c: Likewise.
	* libc/string/wcsncmp.c: Likewise.
	* libc/string/wcsncpy.c: Likewise.
	* libc/string/wcsnlen.c: Likewise.
	* libc/string/wcspbrk.c: Likewise.
	* libc/string/wcsrchr.c: Likewise.
	* libc/string/wcsspn.c: Likewise.
	* libc/string/wmemchr.c: Likewise.
	* libc/string/wmemcmp.c: Likewise.
	* libc/string/wmemcpy.c: Likewise.
	* libc/string/wmemset.c: Likewise.
	* libc/string/wmemmove.c: Likewise.  Also fix FUNCTION  description.
	* libc/string/wcswidth.c: Formatting and punctuation in  documentation.
	* libc/string/wcwidth.c: Likewise.
	* libm/common/s_modf.c: Remove extra period from documentation.
	* libm/math/s_isnan.c: Fix formatting, grammar and  punctuation in
	documentation.
	* libm/mathfp/s_isnan.c: Likewise.
	* libm/math/s_ldexp.c: Fix punctuation.
	* libm/mathfp/s_ldexp.c: Likewise.
	* libm/math/w_log.c: Likewise.
	* libm/mathfp/s_logarithm.c: Likewise.
	* libm/math/w_j0.c: Add spaces to FUNCTION description.
	* libm/mathfp/w_jn.c: Likewise.

2005-10-26  Shaun Jackman  <sjackman@gmail.com>

	* libc/posix/scandir.c (scandir): Update the function
	prototype to match the header.
	* libc/sys/linux/linuxthreads/bits/libc-lock.h: Remove an
	extraneous #endif.
	* libc/sys/linux/sys/lock.h: Do not include
	machine/weakalias.h, since it's not used by this file.

2005-10-26  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/Makefile.am: Reorder SUBLIBS so machine and sys
	directories can override properly.

2005-10-20  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/math.h (HUGE_VAL, HUGE_VALF, HUGE_VALL): When
	gcc is 3.3 or greater, use special gcc builtins.

2005-10-20  Corinna Vinschen <corinna@vinschen.de>

	* libc/include/sys/time.h: Declare futimes and lutimes for Cygwin.

2005-10-18  Corinna Vinschen <corinna@vinschen.de>

	* libc/include/sys/features.h: Define _POSIX_MEMLOCK_RANGE for Cygwin.

2005-10-14  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/math.h (HUGE_VALF, HUGE_VALL): New.
	* libm/common/Makefile.am: Add s_infconst.c support.
	* libm/common/Makefile.in: Regenerated.
	* libm/common/s_infconst.c: New file with float and
	long double infinity support added.
	* libm/math/Makefile.am: Remove s_infconst.c support.
	* libm/math/Makefile.in: Regenerated.
	* libm/math/s_infconst.c: Moved to common directory.
	* libm/mathfp/Makefile.am: Remove s_infconst.c support.
	* libm/mathfp/Makefile.in: Regenerated.
	* libm/mathfp/s_infconst.c: Moved to common directory.

2005-10-14  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/net/gethostbydns.c (dprintf): Rename to
	dbgprintf to prevent conflict with new dprintf function.

2005-10-14  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/vfprintf.c (_VFPRINTF_R): Fix up "inf" and
	"nan" processing for systems that have long double support.

2005-10-14  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/sys/types.h (int8_t): Add type.

2005-10-14  Bob Wilson  <bob.wilson@acm.org>

	* libm/common/Makefile.am (doc): Do not append to $(TARGETDOC).
	* libm/common/Makefile.in: Regenerate.
	* libm/common/common.tex: Delete file.
	* libm/math/math.tex: Include .def files from common/.
	* libm/mathfp/mathfp.tex: Likewise.

2005-10-14  Bob Wilson  <bob.wilson@acm.org>

	* libc/libc.texinfo (Top): Surround this node with @ifnottex
	instead of @ifinfo.  Update menu to add Introduction and match
	SUBDIRS order.
	(Introduction): New section.

2005-10-14  Bob Wilson  <bob.wilson@acm.org>

	* libc/reent/reent.tex (Reentrancy): Replace "Cygnus C Library"
	with "Red Hat newlib C Library".
	* libc/sys.tex (Stubs): Likewise.
	* libm/math/math.tex (Math): Likewise.
	* libm/mathfp/mathfp.tex (Math): Likewise.

2005-10-11  Shaun Jackman  <sjackman@gmail.com>

	* libc/include/stdio.h (dprintf): New declaration.
	(vdprintf): Ditto.
	* libc/stdio/Makefile.am (GENERAL_SOURCES): Add dprintf.c
	and vdprintf.c.
	* libc/stdio/Makefile.in: Regenerate.
	* libc/stdio/dprintf.c: New file.
	* libc/stdio/vdprintf.c: New file.
	* libc/stdio/stdio.tex (dprintf): New entry.

2005-10-11  David Weatherford  <weath@tensilica.com>

	* libc/stdio/vfprintf.c (_VFPRINTF_R): Recognize 'F' format.
	Print "inf" and "nan" in lowercase for e/f/g formats and in
	uppercase for E/F/G formats.

2005-10-07  Bob Wilson  <bob.wilson@acm.org>

	* libc/stdlib/mallocr.c (mALLOc, rEALLOCc, mEMALIGn): Set errno
	to ENOMEM on failure.

2005-10-06  Ralf Corsepius <ralf.corsepius@rtems.org>

	* libc/include/stdint.h: Add [u]int_fast<N>_t types.

2005-10-04  Ralf Corsepius <ralf.corsepius@rtems.org>

	* libc/include/stdint.h: Move magic to set __have_long* to the
	beginning.  Use #if __have* instead of #if defined(__have*).
	Minor typo fixes.

2005-10-04  James E Wilson  <wilson@specifix.com>

	* libc/include/sys/dirent.h (_DIRENT_H_): Delete #include_next.  Add
	#error.

2005-10-03  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/include/stdint.h: Include <sys/types.h> and
	incorporate Ralf's change below.

2005-10-03  Ralf Corsepius <ralf.corsepius@rtems.org>

	* libc/include/stdint.h:
	Use __INTMAX_TYPE__ to derive intmax_t.
	Use __UINTMAX_TYPE__ to derive uintmax_t.
	Fix minor typo.

2005-09-27  Ralf Corsepius <ralf.corsepius@rtems.org>

	* libc/include/stdint.h: Correct __STDINT_EXP macro incorrectly
	handling GCC >= 4.

2005-09-20  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/include/stdint.h: Update to match functionality
	of generic newlib stdint.h.

2005-09-20  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/stdint.h (__EXP): Rename to __STDINT_EXP
	and do not #undef the macro after it is used.  Fix typos.
	Also change 64-bit constants to use the __have_long64 and
	__have_longlong64 flags to determine if long or long long
	constants should be used.
	* libc/include/inttypes.h: Include stddef.h to get wchar_t
	type defined.

2005-09-20  Shaun Jackman  <sjackman@gmail.com>

	* libc/include/stdint.h: Fix typo in names of
	LEAST macros.

2005-09-20  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/rtems/include/inttypes.h: Moved to...
	* libc/include/inttypes.h: ...here.

2005-09-19  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/rtems/include/stdint.h: Moved to...
	* libc/include/stdint.h: ...here.

2005-09-08  Jeff Johnston  <jjohnstn@redhat.com>

	* Makefile.am: Add include files under bits sub-directory.
	* Makefile.in: Regenerated.
	* libc/sys/linux/argp/argp-fs-xinl.c: Set __OPTIMIZE__ to
	actual value of 1 to be compatible with newer glibc headers.
	* libc/sys/linux/sys/cdefs.h: Fix to be compatible with newer
	glibc headers.
	* libc/sys/linux/sys/dirent.h: Ditto.
	* libc/sys/linux/argp/argp-xinl.c: Ditto.
	* libc/sys/linux/dl/dl-runtime.c: Make sure fixup and
	profile_fixup routines are marked used so they won't be
	optimized away.
	* libc/sys/linux/dl/dl-cache.c: Don't use weak_extern macro
	to mark functions as weak.
	* libc/sys/linux/dl/dl-open.c: Ditto.
	* libc/sys/linux/iconv/gconv_open.c: Fix to obey new gcc4
	rules about lvalues.
	* libc/sys/linux/iconv/gconv_simple.c: Ditto.
	* libc/sys/linux/linuxthreads/bits/libc-lock.h: Don't use
	weak_extern macro to mark functions as weak.  Instead always
	use #pragma weak.
	* iconvdata/jis0208.h: Fix to work with gcc4.
	* libc/sys/linux/dl/dl-load.c: Ditto.
	* libc/sys/linux/dl/dl-reloc.c: Ditto.
	* libc/sys/linux/dl/do-rel.h: Ditto.
	* libc/sys/linux/dl/dynamic-link.h: Ditto.
	* libc/sys/linux/include/ltdl.h: Ditto.
	* libc/sys/linux/machine/i386/dl-machine.h: Ditto.
	* libc/sys/linux/machine/i386/weakalias.h: Ditto.
	* libc/sys/linux/net/ns_ntoa.c: Ditto.
	* libc/sys/linux/bits/initspin.h: New file.
	* libc/sys/linux/bits/libc-lock.h: Ditto.
	* libc/sys/linux/bits/pthreadtypes.h: Ditto.
	* libc/sys/linux/bits/typesizes.h: Ditto.

2005-09-08  Eric Blake  <ebb9@byu.net>

	* libc/argz/argz_insert.c (argz_insert): Don't die with EINVAL when
	before is NULL.

2005-09-08  Brian Dessent  <brian@dessent.net>

	* sf_lrint.c (lrintf): Mask 'i0' correctly when extracting
	mantissa.
	* s_lrint.c: Ditto.

2005-09-02  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/stdio.h: Add prototype for viprintf.

2005-09-01  Jeff Johnston  <jjohnstn@redhat.com>

	* libm/mathfp/s_pow.c: (pow): Change code so 0 raised to
	any positive power results in 0.
	* libm/mathfp/sf_pow.c (powf): Ditto.

2005-08-31  Paul Brook  <paul@codesourcery.com>

	* configure.host: Set have_crt0 to no for Arm targts when not
	providing syscalls.  Set sys_dir=arm unconditionally.
	Default have_crt0 based on sys_dir.
	* configure.in: Use have_crt0.
	* libc/configure.in: Ditto.
	* libc/sys/configure.in: Ditto.
	* configure: Regenerate.
	* libc/configure: Regenerate.
	* libc/sys/configure: Regenerate.
	* libc/sys/arm/Makefile.am (lib_a_SOURCES): Add aeabi_atexit.c.
	Only build other files when providing syscalls.
	* libc/sys/arm/Makefile.in: Regenerate.
	* libc/sys/arm/aeabi_atexit.c: New file.

2005-08-26  Christopher Faylor  <cgf@timesys.com>

	* libc/include/string.h: Revert previous change.

2005-08-25  Christopher Faylor  <cgf@timesys.com>

	* libc/include/string.h: For Cygwin, Define strerror_r as per ISO C.

2005-08-22  Shaun Jackman  <sjackman@gmail.com>

	* libc/include/_syslist.h: If HAVE_OPENDIR is not defined,
	define _opendir as opendir, _readdir as readdir, and
	_closedir as closedir so that the implementations in
	libc/posix will be used.

2005-08-10  DJ Delorie  <dj@redhat.com>

	* MAINTAINERS (CPU Ports): Add CPU port maintainer section.

2005-08-10  Stephen Huw Clarke  <stephen.clarke@st.com>

	* libm/common/sf_fmax.c: Fix to properly handle NaNs.
	* libm/common/s_max.c: Ditto.
	* libm/common/sf_fmin.c: Ditto.
	* libm/common/s_min.c: Ditto.

2005-08-10  DJ Delorie  <dj@redhat.com>

	* configure.host: Add m32c support.
	* libc/include/machine/ieeefp.h: Likewise.
	* libc/include/machine/setjmp.h: Likewise.
	* libc/include/sys/config.h: Likewise.
	* libc/machine/m32c: New directory, Renesas R8C/M16C/M32C support.
	* libc/machine/m32c/aclocal.m4: New file.
	* libc/machine/m32c/configure: Ditto.
	* libc/machine/m32c/configure.in: Ditto.
	* libc/machine/m32c/Makefile.am: Ditto.
	* libc/machine/m32c/Makefile.in: Ditto.
	* libc/machine/m32c/setjmp.S: Ditto.

2005-08-02  Bob Wilson  <bob.wilson@acm.org>

	* libm/math/ef_hypot.c (__ieee754_hypotf): Add missing exponent bias
	to the value for 2^126.

2005-07-26  Hans-Peter Nilsson  <hp@bitrange.com>

	* libc/machine/cris/libcdtor.c (defaultors): Mark artificially as
	used.

2005-07-20  Bob Wilson  <bob.wilson@acm.org>
	   Darin Petkov <darin@tensilica.com>

       * libm/math/ef_atan2.c (pi, pi_lo): Use round-to-nearest value of pi.

2005-07-19  Paul Brook  <paul@codesourcery.com>

	* libc/sys/arm/crt0.S: Ensure doubleword stack alignment.

2005-07-18  Joseph S. Myers  <joseph@codesourcery.com>

	* testsuite/lib/checkoutput.exp (newlib_check_output): Use test
	names after PASS and FAIL which do not depend on source directory
	name or on whether test passed or failed.
	* testsuite/lib/passfail.exp (newlib_pass_fail): Likewise.

2005-07-08  Ola Hugosson   <Ola.Hugosson@anoto.com>

	* libc/string/wcsspn.c (wcsspn): Add missing increment of q.

2005-07-07  Shaun Jackman  <sjackman@gmail.com>

	* libc/unix/ttyname.c (ttyname): Avoid calling _closedir
	twice for the same directory. _closedir calls free, and freeing
	the same pointer twice may cause a crash.

2005-07-06  Aldy Hernandez  <aldyh@redhat.com>

	* configure.host: Added entry for ms1*.
	* libc/include/machine/ieeefp.h: Handle ms1.
	* libc/include/machine/setjmp.h (_JBLEN): Define for ms1.
	* libc/machine/ms1/aclocal.m4: New.
	* libc/machine/ms1/configure: New.
	* libc/machine/ms1/configure.in: New.
	* libc/machine/ms1/Makefile.am: New.
	* libc/machine/ms1/Makefile.in: New.
	* libc/machine/ms1/setjmp.S: New.

2005-07-04  Mark Mitchell  <mark@codesourcery.com>

	* Makefile.am (site.exp): Set tmpdir.
	* Makefile.in: Regenerated.
	* testsuite/lib/checkoutput.exp (newlib_check_output): Put
	executables in $tmpdir.
	* testsuite/lib/flags.exp (libgloss_link_flags): Use the original
	libgloss version if not running in the build directory.
	* testsuite/lib/newlib.exp (newlib_init): Put testglue.o in
	$tmpdir.
	* testsuite/lib/passfail.exp (newlib_pass_fail): Put executables
	in $tmpdir.

2005-06-28  Dave Korn  <dave.korn@artimi.com>

	* libm/common/s_lrint.c (lrint):  Fix signed-vs-unsigned comparison
	and miscalculation caused by fp representation of zero.
	* libm/common/sf_lrint.c (lrintf):  Likewise.

2005-06-16  Christopher Faylor  <cgf@timesys.com>

	* libc/stdio/vfprintf.c (cvt): Don't rely on pointer aliasing to
	determine characteristics of long double.  Use a union instead.
	* ldtoa.c (_ldtoa_r): Ditto.
	(_ldcheck): Ditto.
	(_strtold): Ditto.
	(union uconv): New union.

2005-06-03  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdlib/mallocr.c (MALLOC_COPY): Switch to use memmove
	instead of memcpy.

2005-05-12  Jeff Johnston  <jjohnstn@redhat.com>

	* configure.host (mn10300-*): Add long long I/O support by default.

2005-05-12  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/getpwuid.c: Removed.
	* libc/sys/linux/getpwnam.c: Removed.
	* libc/sys/linux/getpwent.c: New file containing logic
	from files removed above.  This allows overriding of file
	in libc/unix.
	* libc/sys/linux/Makefile.am: Support changes above.
	* libc/sys/linux/Makefile.in: Regenerated.

2005-04-28  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/vfscanf.c (__svfscanf_r): Fix code thinko
	when checking for multiple flags.

2005-04-18  Hans-Peter Nilsson  <hp@axis.com>

	* configure.host <cris-*-* | crisv32-*-*>: Set
	default_newlib_io_long_long="yes".

2005-04-08  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/libgen.h: New file.

2005-04-08  Shaun Jackman  <sjackman@gmail.com>

	* libc/unix/Makefile.am: Add support for basename and dirname.
	* libc/unix/Makefile.in: Regenerated.
	* libc/unix/basename.c: New file.
	* libc/unix/dirname.c: New file.

2005-04-07  Shaun Jackman  <sjackman@gmail.com>

	* libc/sys/linux/inode.c (lchown): New function.

2005-04-07  Shaun Jackman  <sjackman@gmail.com>

	* libc/unix/Makefile.am (LIB_OBJS): Include all the ELIX objects if no
	ELIX level is defined.
	* libc/unix/Makefile.in: Regenerated.

2005-04-05  Dave Korn  <dave.korn@artimi.com>

	* libc/stdio/vfscanf.c (__svfscanf_r): If an error occurs processing
	something that looks like a "NaN", put back the characters processed.

2005-04-01  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdlib/strtod.c (_strtod_r): Never change s00.

2005-03-23  Christopher Faylor  <cgf@timesys.com>

	* configure.host: For cygwin, redefine CC with cygwin include directory
	first to mimic the behavior of the top-level configury.  Move include
	directory out of newlib_cflags.

2005-03-22  Jeff Johnston  <jjohnstn@redhat.com>

	* configure.host: For arc, set -DREENTRANT_SYSCALLS_PROVIDED flag on.
	* libc/sys/arc/syscalls.c: Change functions to use __errno_r rather
	than errno.

2005-03-22  Christopher Faylor  <cgf@timesys.com>

	* libc/include/machine/_types.h: Make trivial change to comment to
	avoid a spurious warning from gcc.

2005-03-21  Nicholas Wourms  <nwourms@netscape.net>

	* libc/stdio/vfprintf.c: Move newlib.h before _WANT_IO_POS_ARGS test,
	since _WANT_IO_POS_ARGS is now defined in there.  Remove duplicate
	reent.h include.

2005-03-18  Hans-Peter Nilsson  <hp@axis.com>
	    Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/ctype.h: Remove invalid +1 offset from
	ctype macro references to __ctype_ptr.
	(_ctype_): Move declaration outside #ifndef __cplusplus.

2005-03-18  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/machine/setjmp.h (sigsetjmp): Use GCC extension to
	evaluate first parameter only once.
	(siglongjmp): Ditto.

2005-03-17  Jeff Johnston  <jjohnstn@redhat.com>

	* configure.in: Add new check to see if compiler supports
	aliasing of arrays and define _HAVE_ARRAY_ALIASING if true.
	* configure: Regenerated.
	* Makefile.in: Ditto.
	* newlib.hin: Add _HAVE_ARRAY_ALIASING.
	* libc/ctype/ctype_.c: Check for _HAVE_ARRAY_ALIASING before
	aliasing the _ctype_ array to _ctype_b.
	* libc/include/ctype.h: Change macros to use __ctype_ptr.  Mark
	_ctype_ as deprecated.

2005-03-17  Hans-Peter Nilsson  <hp@axis.com>

	* configure.host (newlib_cflags) <cris-*-*, crisv32-*-*>: Add
	-DCOMPACT_CTYPE.

2005-03-06  Ralf Corsepius  <ralf.corsepius@rtems.org>

	* libc/sys/rtems/include/inttypes.h: New file.
	* libc/sys/rtems/include/stdint.h: Ditto.

2005-03-06  Ralf Corsepius  <ralf.corsepius@rtems.org>

	* libc/string/memcmp.c: Fix to avoid pointer signedness warning.

2005-03-06  Ralf Corsepius  <ralf.corsepius@rtems.org>

	* libc/include/machine/_types.h: New file.
	* libc/include/sys/types.h: Do not check for __rtems__
	when including <machine/_types.h>.  Remove some redundant
	declarations now that <machine/_types.h> is included.
	* libc/sys/rtems/machine/_types.h: Removed.  Replaced with
	shared header file.

2005-02-25  Ralf Corsepius  <ralf.corsepius@rtems.org>

	* libm/common/fdlibm.h (FLT_UWORD_MAX, FLT_UWORD_HALF_MAX): Add
	L qualifier for these long constants.

2005-02-25  Eric Blake  <ebb9@byu.net>

	* libc/include/time.h (__tzrule_struct): Make offset long, since
	a 16-bit int overflows on a 12-hour offset.
	* libc/sys/linux/include/time.h: Ditto.
	* libc/time/mktime.c (mktime): Use new type of __tzrule.offset.
	* libc/time/mktm_r.c: Ditto.
	* libc/time/gettzinfo.c: Ditto.
	* libc/time/strftime.c (strftime): Fix '%x' to deal with negative
	years.  Fix '%z' to use long, not int.

2005-02-24  Ralf Corsepius  <ralf.corsepius@rtems.org>

	* libm/common/s_fpclassify.c: Use __uint32_t instead of int to
	manipulate float values in integer form.
	* libm/common/sf_round.c: Ditto.

2005-02-24  Ralf Corsepius  <ralf.corsepius@rtems.org>

	* libc/include/sys/types.h [__rtems__]: Include new
	header file machine/_types.h.
	* libc/include/machine/types.h: Ditto.
	* libc/sys/rtems/machine/_types.h: New file.

2005-02-23  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/time.h (_timezone): Change to long also for Cygwin.
	(timezone): Drop cast from definition.

2005-02-23  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/time.h [!CYGWIN](_timezone): Change to long.
	(__tzrule_type, __tzinfo_type): New types.
	(__gettzinfo): New function.
	* libc/sys/linux/include/time.h: Ditto.
	* libc/time/Makefile.am: Add gettzinfo.c.
	* libc/time/Makefile.in: Regenerated.
	* libc/time/local.h: Moved __tzrule_type to time.h.
	* libc/time/mktime.c: Call __gettzinfo to reference
	__tznorth, __tzyear, and __tzrule array.
	* libc/time/mktm_r.c: Ditto.
	* libc/time/strftime.c: Ditto.
	* libc/time/tzset_r.c: Ditto.  Also remove definition
	of __tzrule which is now in gettzinfo.c.  Change _timezone
	references to not cast to time_t.
	* libc/time/gettzinfo.c: New file.

2005-02-23  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/unistd.h: Define getpeereid for Cygwin.

2005-02-22  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/unistd.h: Define fdatasync also for Cygwin.

2005-02-16  Eric Blake  <ebb9@byu.net>

	* libc/time/time.tex: Improve the documentation.
	* libc/time/strftime.c: Improve the documentation.
	(iso_year_adjust): New helper function.
	(strftime): Simplify '%E' and '%O'. Change '%c' to use
	recursion. Fix '%C', '%y', and '%Y' to deal with years with more
	than 4 characters.  Combine '%d' and '%e'. Implement '%D', '%F',
	'%g', '%G', '%n', '%R', '%t', '%T', '%u', '%V', '%X', and '%z'.
	Avoid core dumps on valid inputs (maxsize == 0, or
	tim_p->tm_isdst > 1).

2005-02-08  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/pwd.h (struct passwd): Change pw_uid and pw_gid
	members to uid_t and gid_t according to SUSv3.
	* libc/include/sys/time.h (utimes):  Change second parameter
	to const according to SUSv3.

2005-02-07  Antony King  <antony.king@st.com>

	* libc/stdio/clearerr.c (clearerr): Ensure CHECK_INIT() is
	called before _flockfile to prevent lock object use before
	initialisation. _REENT_SMALL_CHECK_INIT() and CHECK_INIT()
	take a struct _reent * instead of a FILE *.
	* libc/stdio/fclose.c (_fclose_r): Ditto.
	* libc/stdio/feof.c (feof): Ditto.
	* libc/stdio/ferror.c (ferror): Ditto.
	* libc/stdio/fflush.c (fflush): Ditto.
	* libc/stdio/fgetc.c (fgetc): Ditto.
	* libc/stdio/fgets.c (fgets): Ditto.
	* libc/stdio/fileno.c (fileno): Ditto.
	* libc/stdio/fputc.c (fputc): Ditto.
	* libc/stdio/fputs.c (fputs): Ditto.
	* libc/stdio/fread.c (fread): Ditto.
	* libc/stdio/freopen.c (_freopen_r): Ditto.
	* libc/stdio/fseek.c (_fseek_r): Ditto.
	* libc/stdio/ftell.c (_ftell_r): Ditto.
	* libc/stdio/fwrite.c (fwrite): Ditto.
	* libc/stdio/getc.c (getc): Ditto.
	* libc/stdio/getdelim.c (__getdelim): Ditto.
	* libc/stdio/putc.c (putc): Ditto.
	* libc/stdio/setvbuf.c (setvbuf): Ditto.
	* libc/stdio/ungetc.c (_ungetc_r): Ditto.
	* libc/stdio/vfprintf.c (_VFPRINTF_R): Ditto.
	* libc/stdio64/freopen64.c (_freopen64_r): Ditto.
	* libc/stdio64/fseeko64.c (_fseeko64_r): Ditto.
	* libc/stdio64/ftello64.c (_ftello64_r): Ditto.
	* libc/stdio/local.h (CHECK_INIT): Argument is now a struct
	_reent * instead of a FILE * and so replace incorrect use of
	_REENT with argument.
	* libc/sys/arm/syscalls.c (CHECK_INIT): Ditto.
	* libc/stdio/getchar.c (getchar): _REENT_SMALL_CHECK_INIT() and
	CHECK_INIT() take a struct _reent * instead of a FILE *.
	* libc/stdio/iprintf.c (iprintf, _iprintf_r): Ditto.
	* libc/stdio/iscanf.c (iscanf, _iscanf_r): Ditto.
	* libc/stdio/perror.c (perror): Ditto.
	* libc/stdio/printf.c (printf, _printf_r): Ditto.
	* libc/stdio/putchar.c (putchar): Ditto.
	* libc/stdio/puts.c (puts): Ditto.
	* libc/stdio/refill.c (__srefill): Ditto.
	* libc/stdio/scanf.c (scanf, _scanf_r): Ditto.
	* libc/stdio/vfscanf.c (VFSCANF, _VFSCANF_R): Ditto.
	* libc/stdio/viprintf.c (viprintf, _viprintf_r): Ditto.
	* libc/stdio/viscanf.c (viscanf, _viscanf_r): Ditto.
	* libc/stdio/vprintf.c (vprintf, _vprintf_r): Ditto.
	* libc/stdio/vscanf.c (vscanf, _vscanf_r): Ditto.
	* libc/stdio/wbuf.c (__swbuf): Ditto.
	* libc/stdio/wsetup.c (__swsetup): Ditto.
	* libc/stdlib/mallocr.c (malloc_stats): Ditto.
	* libc/stdlib/mstats.c (_mstats_r): Ditto.
	* libc/include/sys/reent.h (_REENT_SMALL_CHECK_INIT): Ditto.
	* libc/machine/powerpc/vfscanf.c (vfscanf): Ditto.
	* libc/stdio/fgetpos.c (_fgetpos_r): Removed unnecessary calls
	to _flockfile and _funlockfile; rely on locking in _ftell_r.
	* libc/stdio64/fgetpos64.c (_fgetpos64_r): Ditto (_ftello64_r).
	* libc/machine/powerpc/vfprintf.c (__sbprintf): Removed unnecessary
	initialision of _data field in FILE structure.
	* libc/machine/powerpc/vfprintf.c (VFPRINTF): Added CHECK_INIT() call.

2005-02-07  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/findfp.c (__sinit): Protect with new lock.
	(__sinit_lock): New lock.
	(__sinit_lock_acquire, __sinit_lock_release): New functions.
	* libc/stdio/local.h: Add reference to new __sinit locking
	functions.

2005-02-07  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/math.h (isfinite, isnormal, isunordered): Change
	input variable names to avoid mixups with nesting macros.

2005-01-27  Hans-Peter Nilsson  <hp@axis.com>

	* configure.host: Add support for cris-*-* and crisv32-*-*.
	* libc/include/machine/ieeefp.h: Ditto.
	* libc/include/machine/setjmp.h: Ditto.
	* libc/machine/cris/configure.in, libc/machine/cris/Makefile.am,
	libc/machine/cris/libcdtor.c, libc/machine/cris/setjmp.c,
	libc/machine/cris/memmove.c, libc/machine/cris/memcpy.c,
	libc/machine/cris/memset.c, libc/machine/cris/include/pthread.h,
	libc/machine/cris/sys/signal.h, libc/machine/cris/sys/fcntl.h,
	libc/machine/cris/sys/errno.h, libc/machine/cris/aclocal.m4,
	libc/machine/cris/configure, libc/machine/cris/Makefile.in: New
	files.

2005-01-27  Hans-Peter Nilsson  <hp@axis.com>

	* testsuite/newlib.string/memmove1.c: New test.

2005-01-27  Hans-Peter Nilsson  <hp@axis.com>

	* testsuite/include/check.h: Include stdlib.h.

2005-01-27  Hans-Peter Nilsson  <hp@axis.com>

	* Makefile.am (stmp-targ-include): Support include header files
	from machine directories.
	(install-data-local): Ditto.
	* Makefile.in: Regenerate.

2005-01-24  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/string.h: Remove Linux-specific declaration of
	strsignal and add #include <sys/string.h>.
	* libc/include/sys/string.h: New file.
	* libc/include/sys/linux/sys/string.h: New file with strsignal
	declaration deleted above.

2005-01-20  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/time/strftime.c (strftime): Change %r and %x to be compliant
	to POSIX standard for "C" locale.  Allow %E and %O modifiers
	to be ignored as long as they precede valid specifiers according
	to POSIX.

2005-01-19  Shaun Jackman  <sjackman@gmail.com>

	* libc/stdlib/setenv_r.c (_setenv_r): Call tzset() if the TZ
	environment variable is set.

2005-01-19  Shaun Jackman  <sjackman@gmail.com>

	* tzset_r.c (_tzname): Add a comma.

2005-01-18  Aldy Hernandez  <aldyh@redhat.com>

	* libc/machine/powerpc/vfprintf.c: Use _REENT when calling
	_VFPRINTF_R.

2005-01-07  Paul Brook  <paul@codesourcery.com>

	* configure.in: Add test for .init_array.
	* configure: Regenerate.
	* newlib.hin: Add HAVE_INITFINI_ARRAY.
	* libc/misc/Makefile.am: Add init.c
	* libc/misc/Makefile.in: Regenerate.
	* libc/misc/init.c: New file.
	* libc/sys/arm/crt0.S: Call __libc_{init,fini}_array instead of
	_init/_fini if they exist.

2005-01-06  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdlib/strtod.c (_strtod_r): Add NaN support.
	* (strtof): Ditto.
	* libc/stdio/vfscanf.c (__svfscanf_r): Ditto.
	* Makefile.am (MATHOBJS_IN_LIBC): Add s_nan and sf_nan
	functions for use by strtod and strtof.
	* Makefile.in: Regenerated.

2005-01-06  Hans-Peter Nilsson  <hp@axis.com>

	* libc/stdio/ftell.c (ftell_r): Add parenthesis for __SWR
	bit-test in combination with NULL test.

2005-01-06  Hans-Peter Nilsson  <hp@axis.com>

	* README: Fix typo of LGPL.  Change "license" to "copyright".

2004-12-17  Jeff Johnston  <jjohnstn@redhat.com>

	* NEWS: Update with 1.13.0 info.
	* README: Ditto.
	* acinclude.m4: Change version number to 1.13.0.
	* aclocal.m4: Regenerated.
	* configure: Ditto.
	* doc/aclocal.m4: Ditto.
	* doc/configure: Ditto.
	* libc/*/aclocal.m4: Ditto.
	* libc/*/configure: Ditto.
	* libc/libc.texinfo: Ditto.
	* libm/*/aclocal.m4: Ditto.
	* libm/*/configure: Ditto.
	* libm/libm.texinfo: Ditto.
	* libc/sys/linux/shared.ld: Add VERS_1.13.

2004-12-17  Christian Groessler  <chris@groessler.org>

	* libc/machine/z8k/memcmp.S: New file.
	* libc/machine/z8k/memcpy.S: Ditto.
	* libc/machine/z8k/memmove.S: Ditto.
	* libc/machine/z8k/memset.S: Ditto.
	* libc/machine/z8k/Makefile.am: Add new files.
	* libc/machine/z8k/Makefile.in: Regenerated.
	* libc/machine/z8k/setjmp.S: Fix indirect register usage in Z8002
	part.  Implement Z8002 stdcall version.

2004-12-13  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/fread.c (fread): For unbuffered I/O, attempt
	a low-level read if we don't get the full amount of bytes so
	EOF or error flags will be set.

2004-12-09  Alex Mogilnikov  <alx@intellectronika.ru>

	* libc/time/tzset_r (_tzset_r): Properly skip over
	'/' when it is detected.

2004-12-08  Alex Mogilnikov  <alx@intellectronika.ru>

	* libc/time/tzset_r (_tzset_r): Fix loop.

2004-12-08  Alex Mogilnikov  <alx@intellectronika.ru>

	* libc/time/mktm_r (_mktm_r): Fix overflow calculation for
	m_day.
	(__tzcalc_limits): Fix reference to month array to be zero-based.

2004-12-07  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/sys/unistd.h: Add prototypes for ftruncate, truncate,
	and usleep.

2004-12-03  Jeff Johnston  <jjohnstn@redhat.com>

	* Makefile.am (libc_la_LDFLAGS): Add -lgcc to handle any
	libgcc dependencies.
	(libm_la_LDFLAGS): Ditto.
	* Makefile.in: Regenerated.

2004-12-03  Shaun Jackman  <sjackman@gmail.com>

	* libc/sys/linux/linuxthreads/Makefile.am (install-data-local): Fix
	our link to use readlink so as to preserve any relative link created
	by install-toollibLIBRARIES.
	* libc/sys/linux/linuxthreads/Makefile.in: Regenerated.

2004-12-02  Shaun Jackman  <sjackman@gmail.com>

	* libc/sys/linux/stdlib/glob.c: Include <sys/types.h> which defines
	time_t before including sys/stat.h, which uses it.
	* libc/sys/linux/sys/stat.h: Include <sys/types.h> and
	<linux/time.h> just prior to definition of __KERNEL__ so as to
	allow building on Debian Linux where otherwise, mktime would
	be redefined.

2004-11-26  Paul Brook  <paul@codesourcery.com>

	* libc/sys/arm/crt0.S (_start): Add .cantunwind annotation.

2004-11-24  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/stdlib.h (putenv, _putenv_r): Change to remove
	const for value string parameter to match Single Unix and glibc.
	* libc/stdlib/putenv.c: Ditto.
	* libc/stdlib/putenv_r.c: Ditto.

2004-11-24  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/Makefile.am: Fix missing vfscanf.
	* libc/stdio/Makefile.in: Regenerated.

2004-11-23  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/stdio.h: Add new iprintf and iscanf variants.  Also
	do some reordering.
	* libc/machine/powerpc/vfscanf.c: Remove __sccl function.
	* libc/stdio/Makefile.am: Add support for new iprintf and iscanf
	family functions.
	* libc/stdio/Makefile.in: Regenerated.
	* libc/stdio/fiprintf.c: Remove doc to siprintf.c.
	* libc/stdio/iprintf.c: Ditto.
	* libc/stdio/local.h (__svfiscanf_r): New prototype.
	* libc/stdio/siprintf.c: Add docs for various iprintf family functions.
	* libc/stdio/sniprintf.c: Move docs to siprintf.c.
	* libc/stdio/stdio.tex: Add new functions.
	* libc/stdio/vfscanf.c: Split out __sccl function to separate
	file and add special name defines so this file can be used
	to build vfiscanf.o.
	* libc/stdio/asiprintf.c: New file.
	* libc/stdio/fiscanf.c: Ditto.
	* libc/stdio/iscanf.c: Ditto.
	* libc/stdio/sccl.c: Ditto.
	* libc/stdio/siscanf.c: Ditto.
	* libc/stdio/vasiprintf.c: Ditto.
	* libc/stdio/viprintf.c: Ditto.
	* libc/stdio/viscanf.c: Ditto.
	* libc/stdio/vsiprintf.c: Ditto.
	* libc/stdio/vsiscanf.c: Ditto.
	* libc/stdio/vsniprintf.c: Ditto.

2004-11-19  Shaun Jackman  <sjackman@gmail.com>

	* libc/include/stdio.h: Add sniprintf.
	* libc/stdio/Makefile.am: Add sniprintf.c.
	* libc/stdio/Makefile.in: Regenerated.
	* libc/stdio/sniprintf.c: New file.
	* libc/stdio/stdio.tex: Add sniprintf.

2004-11-17  Christopher Faylor  <cgf@timesys.com>

	* libc/stdio/refill.c (__srefill): Try again after EOF on Cygwin.  Clear
	EOF flag if successful.

2004-10-28  Christopher Faylor  <cgf@timesys.com>

	* libc/include/sys/signal.h: Move <signal.h> include to bottom of file
	so that all relevant definitions have been performed for use in the
	include.

2004-10-26  Jason Tishler  <jason@tishler.net>

	* libc/stdio/fread.c (fread): Fix return value for unbuffered
	fread.

2004-10-25  Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* libc/include/machine/setjmp.h: Add AVR support.
	* libc/sys/rtems/crt0.S [__AVR__]: Add __stack.

2004-10-08  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/signal.h: If <signal.h> didn't include
	this header file, include <signal.h> to account for
	applications that take advantage that the two header
	files are the same in glibc.

2004-10-05  Tomer Levi  <Tomer.Levi@nsc.com>

	* configure.host: Add support for crx.
	* libc/include/machine/ieeefp.h: Ditto.
	* libc/include/machine/setjmp.h: Ditto.
	* libc/machine/crx/Makefile.am: New file.
	* libc/machine/crx/configure.in: Ditto.
	* libc/machine/crx/setjmp.S: Ditto.
	* libc/machine/crx/getenv.c: Ditto.
	* libc/machine/crx/aclocal.m4: Generate.
	* libc/machine/crx/configure: Ditto.
	* libc/machine/crx/Makefile.in: Ditto.
	* libc/machine/crx/sys/asm.h: New file.
	* libc/machine/crx/sys/libh.h: Ditto.
	* libc/machine/crx/sys/syscall.h: Ditto.

2004-10-05  Jeff Johnston  <jjohnstn@redhat.com>

	* Makefile.am (stmp-targ-include): Support sys header files
	from machine directories.
	* Makefile.in: Regenerated.

2004-10-04  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/vfscanf.c (__svfscanf_r): For int conversions,
	count skipped zero characters as part of the nread count for %n.
	* libc/machine/powerpc/vfscanf.c: Ditto.

2004-09-24  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/local.h: Include <stdlib.h>.

2004-09-24  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdio/fread.c (fread): Include <malloc.h>.

2004-09-22  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/fread.c (fread):  For non-space-optimized case,
	add special code for unbuffered files to use user buffer and
	only require one low-level system read.

2004-09-21  Ian Lance Taylor  <ian@wasabisystems.com>

	* libc/machine/xscale/setjmp.S: New file, copied from
	libc/machine/arm/setjmp.S.
	* libc/machine/xscale/Makefile.am (lib_a_SOURCES): Add setjmp.S.
	* libc/machine/xscale/Makefile.in: Regenerate.

2004-09-16  Antony King  <antony.king@st.com>

	* libc/include/sys/lock.h: Replaced empty {} with (0) to conform
	with locking API.
	* libc/include/sys/stdio.h: (_flockfile)[!_SINGLE_THREAD]: Add
	check for__SSTR in _flags and if set, skip lock request.
	(_funlockfile)[!SINGLE_THREAD]: Ditto.
	* libc/stdio/local.h (CHECK_INIT): Added check that _REENT is
	not NULL.
	* libc/stdio/siprintf.c (siprintf, _siprintf_r): Added missing
	initialisation of _file to -1 in local FILE.
	* libc/stdio/snprintf.c (snprintf, _snprintf_r): Ditto.
	* libc/stdio/sscanf.c (sscanf, _sscanf_r): Ditto.
	* libc/stdio/vsnprintf.c (vsnprintf, _vsnprintf_r): Ditto.
	* libc/stdio/vsscanf.c (_vsscanf_r): Ditto.
	* libc/stdio/sscanf.c (sscanf, _sscanf_r): Added __SSTR flag to
	_flags in local FILE to prevent locking.
	* libc/stdio/vsscanf.c (_vsscanf_r): Ditto.

2004-09-16  Antony King  <antony.king@st.com>

	* libc/stdio/fwalk.c (_fwalk): Remove check for _GLOBAL_REENT
	and only walk the reentrancy parameter.
	(_fwalk_reent): Ditto.
	* libc/stdlib/exit.c: Remove out of date _REENT_ONLY check.

2004-09-16  Antony King  <antony.king@st.com>

	* libc/stdio64/freopen64.c: Remove casting of fp lock to
	_LOCK_RECURSIVE_T.

2004-09-16  Antony King  <antony.king@st.com>

	* libc/time/tzlock.c: Add default stubs that use generic
	locking code.

2004-09-16  Antony King  <antony.king@st.com>

	* libc/ctype/ctype.tex: Added missing documentation.
	* libc/stdio/stdio.tex Ditto.
	* libc/stdlib/stdlib.tex Ditto.
	* libc/string/strings.tex Ditto.
	* libc/time/time.tex: Ditto.
	* libc/stdio/setbuffer.c: Removed setlinebuf documentation.

2004-09-15  Corinna Vinschen  <vinschen@redhat.com>

	* libc/reent/impure.c (reent_data): Define as alias to impure_data
	when building for Cygwin.
	* libc/include/sys/reent.h (_GLOBAL_REENT): Revert definition to
	_global_impure_ptr.

2004-09-15  Jeff Johnston  <jjohnstn@redhat.com>

	* configure.host: Reverting 2004-09-14 change as fix has occurred on
	Cygwin side.
	* configure.in: Ditto.
	* libc/configure.in: Ditto.
	* libc/sys/configure.in: Ditto.
	* configure: Ditto.
	* libc/configure: Ditto.
	* libc/sys/configure: Ditto.
	* libc/include/sys/reent.h: Ditto.
	* libc/stdlib/__atexit.c: Ditto.
	* libc/stdlib/__call_atexit.c: Ditto.
	* libc/stdlib/cxa_atexit.c: Ditto.
	* libc/stdlib/cxa_finalize.c: Ditto.
	* libc/sys/cygwin/Makefile.am: Removed again.
	* libc/sys/cygwin/Makefile.in: Ditto.
	* libc/sys/cygwin/aclocal.m4: Ditto.
	* libc/sys/cygwin/configure: Ditto.
	* libc/sys/cygwin/configure.in: Ditto.
	* libc/sys/cygwin/dummy.c: Ditto.
	* libc/sys/cygwin/sys/reent.h: Ditto.

2004-09-14  Jeff Johnston  <jjohnstn@redhat.com>

	* configure.host: Add Cygwin sys directory.
	* configure.in: Do not set CRT0 for cygwin.
	* libc/configure.in: Ditto.
	* libc/sys/configure.in: Ditto.
	* configure: Regenerated.
	* libc/configure: Ditto.
	* libc/sys/configure: Ditto.
	* libc/include/sys/reent.h: Add __REENT_HAS_CXA_SUPPORT flag.
	* libc/stdlib/__atexit.c: Keep cxa support protected by new
	__REENT_HAS_CXA_SUPPORT flag.
	* libc/stdlib/__call_atexit.c: Ditto.
	* libc/stdlib/cxa_atexit.c: Ditto.
	* libc/stdlib/cxa_finalize.c: Ditto.
	* libc/sys/cygwin/Makefile.am: New file.
	* libc/sys/cygwin/Makefile.in: Ditto.
	* libc/sys/cygwin/aclocal.m4: Ditto.
	* libc/sys/cygwin/configure: Ditto.
	* libc/sys/cygwin/configure.in: Ditto.
	* libc/sys/cygwin/dummy.c: Ditto.
	* libc/sys/cygwin/sys/reent.h: Ditto.  This file is stabilized
	version of reent.h.

2004-09-13 Artem B. Bityuckiy  <dedekind@oktetlabs.ru>

	* libc/iconv/iconv.tex: Updated with new content.
	* libc/iconv/lib/iconvnls.c: Reference ICONV_DEFAULT_NLSPATH
	instead of NLS_DEFAULT_NLSPATH.
	* libc/iconv/lib/iconvnls.h: Fix typo.
	* libc/include/sys/iconvnls.h: New file.

2004-09-09  Paul Brook  <paul@codesourcery.com>

	* libc/include/sys/reent.h (struct _on_exit_args): Add _dso_handle
	and _is_cxa.
	(struct _atexit): Add _next when _REENT_SMALL.
	(struct _reent): Add _atexit0 when _REENT_SMALL.
	(_REENT_INIT_PTR): Adjust.
	* libc/stdlib/Makefile.am (GENERAL_SOURCES): Add __atexit.c and
	__call_exit.c.
	(EXTENDED_SOURCES): Add cxa_atexit.c and cxa_finalize.c.
	* libc/stdlib/Makefile.in: Regenerate.
	* libc/stdlib/__atexit.c: New file.
	* libc/stdlib/__call_atexit.c: New file.
	* libc/stdlib/atexit.h: Remove old definitions.  Add new.
	* libc/stdlib/atexit.c (atexit): Use __register_exitproc.
	* libc/stdlib/cxa_atexit.c: New file.
	* libc/stdlib/cxa_finalize.c: New file.
	* libc/stdlib/exit.c (exit): Use __call_exitprocs.
	* libc/stdlib/on_exit.c (on_exit): Use __register_exitproc.
	2004-09-09  Jeff Johnston  <jjohnstn@redhat.com>
	* libc/reent/reent.c [_REENT_SMALL]: Fix reference to
	_on_exit_args_ptr.

2004-08-23  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/unistd.h (getpass): Change prototype to use
	const instead of __const.

2004-08-16  Nathan Sidwell  <nathan@codesourcery.com>

	* libc/stdio/vfscanf.c (_NO_LONGLONG): Move out of FLOATING_POINT
	#if.

2004-08-12  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/sys/types.h (u64): New typedef to allow building
	on linux systems with glibc 2.3.3 installed.
	* libc/sys/linux/dl/dl-runtime.c: Fix prototypes for fixup and
	profile_fixup so newlib can build on fc3 system.

2004-07-30  Alexandre Oliva  <aoliva@redhat.com>

	Introduce SH2a support.
	2004-03-16  Corinna Vinschen  <vinschen@redhat.com>
	* libc/include/machine/ieeefp.h: Define _DOUBLE_IS_32BITS for
	__SH2A_SINGLE_ONLY__, too.
	* libc/machine/sh/asm.h: Define DELAYED_BRANCHES for __SH2A__, too.
	2004-02-24  Corinna Vinschen  <vinschen@redhat.com>
	* libc/sys/sh/crt0.S (start_l): Support sh2a-nofpu.  Fix comments.
	2004-02-10  DJ Delorie  <dj@redhat.com>
	* libc/sys/sh/crt0.S (start_l): Support sh2a.

2004-07-29  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/time/strptime.c: Correct full-name of "March" typo.

2004-07-16  Anil Paranjpe  <anilp1@kpitcummins.com>

	* configure.host (h8300*-*-*): Default long long printing support.

2004-07-16  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/fvwrite.c (_sfvwrite):  For asprintf family
	calls, if realloc fails, free up buffer as it is no longer
	used.

2004-07-07  Artem B. Bityuckiy  <dedekind@oktetlabs.ru>

	* libc/iconv/iconv.tex: Updated to represent recent changes.
	* libc/iconv/lib/iconv.c: Documentation updated.

2004-07-07  Nick Clifton  <nickc@redhat.com>

	* configure.host (newlib_cflags): Define PREFER_SIZE_OVER_SPEED
	for xStormy16.

2004-07-06  Chris Demetriou  <cgd@broadcom.com>

	* configure.host (mips*-*-elf*): Default long long printing
	support.

2004-07-05  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/Makefile.am (libc.dvi): Add target and specify
	same dependencies as libc.info.
	* libc/Makefile.in: Regenerated.
	* libm/Makefile.am (libm.dvi): Add target and specify
	same dependencies as libm.info.
	* libm/Makefile.in: Regenerated.

2004-06-29  Artem B. Bityuckiy  <dedekind@oktetlabs.ru>

	* acinclude.m4: Move --enable-newlib-iconv option back here.
	* configure.in: Remove --enable-newlib-iconv option.  Don't
	tie iconv support to --enable-newlib-mb.
	* aclocal.m4: Regenerated.
	* configure: Ditto.
	* doc/aclocal.m4, doc/configure: Ditto.
	* iconvdata/aclocal.m4, iconvdata/configure: Ditto.
	* libm/*/aclocal.m4: Ditto.
	* libm/*/configure: Ditto.
	* libc/*/aclocal.m4: Ditto.
	* libc/*/configure: Ditto.

2004-06-25  Artem B. Bityuckiy  <dedekind@oktetlabs.ru>

	* acinclude.m4: Move iconv options into configure.in.
	* aclocal.m4: Regenerated.
	* configure: Ditto.
	* configure.in: Add iconv options.
	* newlib.hin: Add new iconv encodings and remove deleted ones.
	* doc/aclocal.m4: Regenerated.
	* doc/configure: Ditto.
	* iconvdata/aclocal.m4: Ditto.
	* iconvdata/configure: Ditto.
	* libc/iconv: Design change.  New size-optimized ccs format.
	* libc/iconv/AUTHORS: Removed.
	* libc/iconv/COPYING: Ditto.
	* libc/iconv/README.ORIGINAL: Ditto.
	* libc/iconv/README.TODO: Ditto.
	* libc/iconv/charset.aliases: Ditto.
	* libc/iconv/encoding.aliases: New file.
	* libc/iconv/Makefile.am: Updated.
	* libc/iconv/Makefile.in: Regenerated.
	* libc/iconv/iconv.tex: Updated.
	* libc/iconv/ccs/Makefile.am: Ditto.
	* libc/iconv/ccs/Makefile.in: Regenerated.
	* libc/iconv/ccs/big5.c: Updated.
	* libc/iconv/ccs/cns11643_plane1.c: Ditto.
	* libc/iconv/ccs/cns11643_plane14.c: Ditto.
	* libc/iconv/ccs/cns11643_plane2.c: Ditto.
	* libc/iconv/ccs/cp775.c: Ditto.
	* libc/iconv/ccs/cp850.c: Ditto.
	* libc/iconv/ccs/cp852.c: Ditto.
	* libc/iconv/ccs/cp855.c: Ditto.
	* libc/iconv/ccs/cp866.c: Ditto.
	* libc/iconv/ccs/iso_8859_1.c: Ditto.
	* libc/iconv/ccs/README.CCS.SOURCES: Removed.
	* libc/iconv/ccs/gb_2312_80.c: Ditto.
	* libc/iconv/ccs/iconv_mktbl: Ditto.
	* libc/iconv/ccs/jis_x0201.c: Ditto.
	* libc/iconv/ccs/jis_x0208_1983.c: Ditto.
	* libc/iconv/ccs/shift_jis.c: Ditto.
	* libc/iconv/ccs/us_ascii.c: Ditto.
	* libc/iconv/ccs/ccs.h: New file.
	* libc/iconv/ccs/ccsbi.c: Ditto.
	* libc/iconv/ccs/ccsbi.h: Ditto.
	* libc/iconv/ccs/ccsnames.h: Ditto.
	* libc/iconv/ccs/iso_8859_10.c: Ditto.
	* libc/iconv/ccs/iso_8859_11.c: Ditto.
	* libc/iconv/ccs/iso_8859_13.c: Ditto.
	* libc/iconv/ccs/iso_8859_14.c: Ditto.
	* libc/iconv/ccs/iso_8859_3.c: Ditto.
	* libc/iconv/ccs/iso_8859_6.c: Ditto.
	* libc/iconv/ccs/iso_8859_7.c: Ditto.
	* libc/iconv/ccs/iso_8859_8.c: Ditto.
	* libc/iconv/ccs/iso_8859_9.c: Ditto.
	* libc/iconv/ccs/iso_ir_111.c: Ditto.
	* libc/iconv/ccs/jis_x0201_1976.c: Ditto.
	* libc/iconv/ccs/jis_x0208_1990.c: Ditto.
	* libc/iconv/ccs/koi8_ru.c: Ditto.
	* libc/iconv/ccs/koi8_uni.c: Ditto.
	* libc/iconv/ccs/mktbl.pl: Ditto.
	* libc/iconv/ccs/win_1250.c: Ditto.
	* libc/iconv/ccs/win_1251.c: Ditto.
	* libc/iconv/ccs/win_1252.c: Ditto.
	* libc/iconv/ccs/win_1253.c: Ditto.
	* libc/iconv/ccs/win_1254.c: Ditto.
	* libc/iconv/ccs/win_1255.c: Ditto.
	* libc/iconv/ccs/win_1256.c: Ditto.
	* libc/iconv/ccs/win_1257.c: Ditto.
	* libc/iconv/ccs/win_1258.c: Ditto.
	* libc/iconv/ccs/iso_8859_15.c: Updated.
	* libc/iconv/ccs/iso_8859_2.c: Ditto.
	* libc/iconv/ccs/iso_8859_4.c: Ditto.
	* libc/iconv/ccs/iso_8859_5.c: Ditto.
	* libc/iconv/ccs/jis_x0212_1990.c: Ditto.
	* libc/iconv/ccs/koi8_r.c: Ditto.
	* libc/iconv/ccs/koi8_u.c: Ditto.
	* libc/iconv/ccs/ksx1001.c: Ditto.
	* libc/iconv/ccs/binary/gb_2312_80.cct: Removed.
	* libc/iconv/ccs/binary/jis_x0201.cct: Ditto.
	* libc/iconv/ccs/binary/shift_jis.cct: Ditto.
	* libc/iconv/ccs/binary/us_ascii.cct: Ditto.
	* libc/iconv/ccs/binary/jis_x0208_1983.cct: Ditto.
	* libc/iconv/ccs/binary/Makefile.am: Updated.
	* libc/iconv/ccs/binary/Makefile.in: Regenerated.
	* libc/iconv/ccs/binary/big5.cct: Updated.
	* libc/iconv/ccs/binary/cns11643_plane1.cct: Ditto.
	* libc/iconv/ccs/binary/cns11643_plane14.cct: Ditto.
	* libc/iconv/ccs/binary/cns11643_plane2.cct: Ditto.
	* libc/iconv/ccs/binary/cp775.cct: Updated.: Ditto.
	* libc/iconv/ccs/binary/cp850.cct: Ditto.: Ditto.
	* libc/iconv/ccs/binary/cp852.cct: Ditto.: Ditto.
	* libc/iconv/ccs/binary/cp855.cct: Ditto.: Ditto.
	* libc/iconv/ccs/binary/cp866.cct: Ditto.: Ditto.
	* libc/iconv/ccs/binary/iso_8859_1.cct: Ditto.
	* libc/iconv/ccs/binary/iso_8859_15.cct: Ditto.
	* libc/iconv/ccs/binary/iso_8859_4.cct: Ditto.
	* libc/iconv/ccs/binary/iso_8859_5.cct: Ditto.
	* libc/iconv/ccs/binary/iso_8859_2.cct: Ditto.
	* libc/iconv/ccs/binary/jis_x0212_1990.cct: Ditto.
	* libc/iconv/ccs/binary/koi8_r.cct: Ditto.
	* libc/iconv/ccs/binary/koi8_u.cct: Ditto.
	* libc/iconv/ccs/binary/ksx1001.cct: Ditto.
	* libc/iconv/ccs/binary/iso_8859_10.cct: New file.
	* libc/iconv/ccs/binary/iso_8859_11.cct: Ditto.
	* libc/iconv/ccs/binary/iso_8859_13.cct: Ditto.
	* libc/iconv/ccs/binary/iso_8859_14.cct: Ditto.
	* libc/iconv/ccs/binary/iso_8859_3.cct: Ditto.
	* libc/iconv/ccs/binary/iso_8859_6.cct: Ditto.
	* libc/iconv/ccs/binary/iso_8859_7.cct: Ditto.
	* libc/iconv/ccs/binary/iso_8859_8.cct: Ditto.
	* libc/iconv/ccs/binary/iso_8859_9.cct: Ditto.
	* libc/iconv/ccs/binary/iso_ir_111.cct: Ditto.
	* libc/iconv/ccs/binary/jis_x0201_1976.cct: Ditto.
	* libc/iconv/ccs/binary/jis_x0208_1990.cct: Ditto.
	* libc/iconv/ccs/binary/koi8_ru.cct: Ditto.
	* libc/iconv/ccs/binary/koi8_uni.cct: Ditto.
	* libc/iconv/ccs/binary/win_1250.cct: Ditto.
	* libc/iconv/ccs/binary/win_1251.cct: Ditto.
	* libc/iconv/ccs/binary/win_1252.cct: Ditto.
	* libc/iconv/ccs/binary/win_1253.cct: Ditto.
	* libc/iconv/ccs/binary/win_1254.cct: Ditto.
	* libc/iconv/ccs/binary/win_1255.cct: Ditto.
	* libc/iconv/ccs/binary/win_1256.cct: Ditto.
	* libc/iconv/ccs/binary/win_1257.cct: Ditto.
	* libc/iconv/ccs/binary/win_1258.cct: Ditto.
	* libc/iconv/ces/Makefile.am: Updated.
	* libc/iconv/ces/Makefile.in: Regenerated.
	* libc/iconv/ces/ucs-2-internal.c: Updated.
	* libc/iconv/ces/ucs-4-internal.c: Ditto.
	* libc/iconv/ces/utf-16.c: Ditto.
	* libc/iconv/ces/utf-8.c: Ditto.
	* libc/iconv/ces/cesbi.c: New file.
	* libc/iconv/ces/cesbi.h: Ditto.
	* libc/iconv/ces/cesdeps.h: Ditto.
	* libc/iconv/ces/euc.c: Ditto.
	* libc/iconv/ces/mkdeps.pl: Ditto.
	* libc/iconv/ces/table-pcs.c: Ditto.
	* libc/iconv/ces/table.c: Ditto.
	* libc/iconv/ces/ucs-2.c: Ditto.
	* libc/iconv/ces/ucs-4.c: Ditto.
	* libc/iconv/ces/us-ascii.c: Ditto.
	* libc/iconv/ces/euc-jp.c: Removed.
	* libc/iconv/ces/euc-kr.c: Ditto.
	* libc/iconv/ces/euc-tw.c: Ditto.
	* libc/iconv/ces/gb2312.c: Ditto.
	* libc/iconv/ces/iso-10646-ucs-2.: Ditto.c
	* libc/iconv/ces/iso-10646-ucs-4.c: Ditto.
	* libc/iconv/lib/Makefile.am: Updated.
	* libc/iconv/lib/Makefile.in: Regenerated.
	* libc/iconv/lib/endian.h: Updated.
	* libc/iconv/lib/iconv.c: Ditto.
	* libc/iconv/lib/local.h: Ditto.
	* libc/iconv/lib/aliases.c: Removed.
	* libc/iconv/lib/bialiasesi.c: Ditto.
	* libc/iconv/lib/biccs.c: Ditto.
	* libc/iconv/lib/bices.c: Ditto.
	* libc/iconv/lib/ccs.c: Ditto.
	* libc/iconv/lib/ces.c: Ditto.
	* libc/iconv/lib/ces_euc.c: Ditto.
	* libc/iconv/lib/ces_iso2022.c: Ditto.
	* libc/iconv/lib/ces_table.c: Ditto.
	* libc/iconv/lib/converter.c: Ditto.
	* libc/iconv/lib/deps.h: Ditto.
	* libc/iconv/lib/loaddata.c: Ditto.
	* libc/iconv/lib/aliasesbi.c: New file.
	* libc/iconv/lib/aliasesi.c: Ditto.
	* libc/iconv/lib/conv.h: Ditto.
	* libc/iconv/lib/encnames.h: Ditto.
	* libc/iconv/lib/encoding.deps: Ditto.
	* libc/iconv/lib/iconvnls.c: Ditto.
	* libc/iconv/lib/iconvnls.h: Ditto.
	* libc/iconv/lib/nullconv.c: Ditto.
	* libc/iconv/lib/ucsconv.c: Ditto.
	* libc/iconv/lib/ucsconv.h: Ditto.
	* libc/include/iconv.h: Update copyright.
	* libc/*/aclocal.m4: Regenerated.
	* libc/*/configure: Ditto.
	* libm/*/aclocal.m4: Ditto.
	* libm/*/configure: Ditto.

2004-06-22  Alexandre Oliva  <aoliva@redhat.com>

	* libc/include/machine/setjmp.h [__H8300__] (_JBTYPE): Define,
	instead of typedefing jmp_buf.

	2003-07-02  Richard Sandiford  <rsandifo@redhat.com>
	* libc/machine/h8300/Makefile.am (lib_a_SOURCES): Add h8sx_strcpy.S.
	* libc/machine/h8300/defines.h (LEN): New macro.
	* libc/machine/h8300/memcpy.S: Add h8sx version.
	* libc/machine/h8300/memset.S: Likewise.
	* libc/machine/h8300/strcmp.S: Likewise.
	* libc/machine/h8300/setjmp.S: Use h8sx move instructions.
	* libc/machine/h8300/h8sx_strcpy.S: New file.
	2003-06-30  Richard Sandiford  <rsandifo@redhat.com>
	* libc/include/machine/ieeefp.h: Extend __H8300S__ handling to
	__H8300SX__.
	* libc/include/machine/setjmp.h: Likewise.
	* libc/include/sys/config.h: Likewise.
	* libc/machine/h8300/defines.h: Likewise.
	* libc/machine/h8300/setjmp.S: Likewise.
	* libc/machine/h8300/strcmp.S: Likewise.
	* libc/sys/h8300hms/close.S: Likewise.
	* libc/sys/h8300hms/fstat.S: Likewise.
	* libc/sys/h8300hms/lseek.S: Likewise.
	* libc/sys/h8300hms/read.S: Likewise.
	* libc/sys/h8300hms/write.S: Likewise.
	* libc/sys/h8300hms/crt0.S: Likewise.
	* libc/machine/h8300/setarch.h: Use .h8300sx or .h8300sxn if
	__H8300SX__ is defined.
	* libc/sys/h8300hms/setarch.h: Likewise.

2004-06-17  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/reent.h (_GLOBAL_REENT): Back
	out change which set _GLOBAL_REENT to _global_impure_ptr until
	we understand why Cygwin breaks because of it.

2004-06-14  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/machine/i386/syscall.h: For now, set up
	__syscall_return macro for systems with vsyscall.

2004-06-11  Antony King  <antony.king@st.com>

	* libc/include/sys/_types.h: Include <sys/lock.h> and change
	_flock_t to be of type _LOCK_RECURSIVE_T.
	* libc/include/sys/reent.h: (_REENT_INIT): Reformat.
	(_REENT_INIT_PTR): Ditto.  Use memset where appropriate.
	(_global_impure_ptr): New declaration.
	(_GLOBAL_REENT): Change to be _global_impure_ptr.
	* libc/include/sys/stdio.h: Include <sys/lock.h> and
	<sys/reent.h>.
	(_flockfile)[!_SINGLE_THREAD]: Add code for lock call.
	(_funlockfile)[!SINGLE_THREAD]: Ditto.
	* libc/reent/impure.c: Set _global_impure_ptr to _impure_ptr.
	* libc/stdio/fclose.c: Remove casting of fp lock to
	_LOCK_RECURSIVE_T.
	* libc/stdio/findfp.c: Ditto.
	* libc/stdio/fopen.c: Ditto.
	* libc/stdio/freopen.c: Ditto.
	* libc/stdio/vfprintf.c: Ditto.
	* libc/stdio64/fopen64.c: Ditto.
	* libc/stdlib/envlock.c: Add default stubs that use generic
	locking code.
	* libc/stdlib/mlock.c: Ditto.

	Jeff Johnston  <jjohnstn@redhat.com>
	* libc/sys/linux/sys/_types.h (__flock_mutex_t): New subtype.
	(_flock_t): Change to be a struct containing a single member
	named mutex which is of type __flock_mutex_t.

2004-06-09  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/Makefile.am: Change siglist.inc to be generated
	from /usr/include/asm/signal.h instead of kernel sources.  Also
	default max to 32 if not found in header file.
	* libc/sys/linux/Makefile.in: Regenerated.
	* libc/sys/linux/machine/i386/socketcall.h: Fix for Fedora Core 2
	systems where __syscall_return is not defined.
	* libc/sys/linux/machine/i386/syscall.h: Change for Fedora Core 2
	systems to use syscall() function instead of assembler interrupt.

2004-06-09  Toralf Lund  <toralf@procaptura.com>

	* libc/sys/arm/setjmp.S, libc/sys/arm/access.c: Move
	files from libc/sys/arm to libc/machine/arm.
	* libc/machine/arm/Makefile.am, libc/machine/arm/Makefile.in: Add
	library build support for files moved from libc/sys/arm.
	* libc/sys/arm/Makefile.am, libc/sys/arm/Makefile.in:  Remove
	references to access and setjmp.
	* configure.host: Add checks for newlib_may_supply_syscalls to
	determine whether or not to use sys/arm directory and use
	special compiler flags: ARM_RDI_MONITOR and ARM_RDP_MONITOR.

2004-06-02  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/vfscanf.c (__svfscanf_r): For CT_INT conversions,
	reset digit flags appropriately after we have discovered "0x".
	* libc/machine/powerpc/vfscanf.c (__svfscanf_r): Ditto.

2004-05-27  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/vfprintf.c (_VFPRINTF): Move file locking
	from here ...
	(_VFPRINTF_R): ... to here so all I/O printf routines
	are covered.

2004-05-26  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/search/hash_buf.c: Protect MAX and MIN macros from
	redefinition.
	* libc/search/hash.c: Ditto.

2004-05-25  Artem B. Bityuckiy  <abitytsky@softminecorp.com>

	* newlib.hin: (_WANT_IO_POS_ARGS): New define.
	(_WANT_IO_LONG_LONG): Ditto.
	(_WANT_IO_LONG_DOUBLE): Ditto.
	* configure.in: Add new configuration options
	--enable-newlib-io-long-long and --enable-newlib-io-long-double
	which tie to new defines in newlib.hin.
	* configure: Regenerated.
	* configure.host: Add checks for new configuration options.  Also
	fix up check for --enable-newlib-io-pos-args so configuration
	option will override any default for a given platform.
	Remove defining compiler flags for the _WANT_IO* options.
	* libc/stdio/vfprintf.c: Change to use new newlib.hin defines
	instead of looking for old compiler flags.
	* libc/stdio/vfscanf.c: Ditto.
	* libc/stdio/vfieeefp.h: Ditto.
	* libc/machine/powerpc/vfprintf.c: Ditto.
	* libc/machine/powerpc/vfscanf.c: Ditto.

2004-05-25  Jeff Johnston  <jjohnstn@redhat.com>

	* testsuite/include/check.h: Add include of <stdio.h>.

2004-05-17  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/grp.h: Declare getgrnam_r and getgrgid_r also on Cygwin.

2004-05-11  Artem B. Bityuckiy  <abitytsky@softminecorp.com>

	* libc/stdio/vfprintf.c (VFPRINTF_R): Use _free_r instead
	of free.

2004-05-07  Artem B. Bityuckiy  <abitytsky@softminecorp.com>

	* libc/stdio/iprintf.c (_iprintf_r): Fix old-style argument
	list for reentrant pointer.  Call _vfiprintf_r.
	* libc/stdio/siprintf.c (_siprintf_r): New function.
	* libc/stdio/vfprintf.c (__sbprintf): Add reetrant struct
	pointer argument.  Change all callers.  Call _VFPRINTF_R.
	* libc/include/stdio.h (_siprintf_r, _vfiprintf_r): New
	prototypes.

2004-05-07  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/param.h: Remove endian info and include
	<machine/endian.h> instead.
	* libc/include/machine/endian.h: New file.
	* libc/include/machine/param.h: Ditto.
	* libc/machine/arm/machine/endian.h: Ditto.
	* libc/machine/arm/machine/param.h: Ditto.
	* libc/sys/arm/sys/param.h: Removed.
	* libc/sys/sysvi386/sys/param.h: Ditto.
	* libc/sys/rtems/sys/param.h: Modified to include <machine/endian.h>.

2004-05-03  Artem B. Bityuckiy  <abitytsky@softminecorp.com>

	* libc/stdio/vfprintf.c (_VFPRINTF_R): Set error flag when
	multibyte functions return failure for %C, %S, %lc, and %ls
	format specifiers.

2004-05-03  Artem B. Bityuckiy  <abitytsky@softminecorp.com>

	* testsuite/include/check.h (CHECK): Add flush of stdout.

2004-05-03  Artem B. Bityuckiy  <abitytsky@softminecorp.com>

	* libc/include/stdio.h (_ungetc_r): New prototype.
	* libc/stdio/ungetc.c (_ungetc_r): New reentrant function.
	(__submore): Add reentrant struct pointer argument.
	(ungetc): Change to call _ungetc_r.

2004-04-28  Artem B. Bityuckiy  <abitytsky@softminecorp.com>

	* libc/stdio/local.h (_fwalk_reent): Specify prototype of
	function pointer argument.
	* libc/stdio/fwalk.c (_fwalk, _fwalk_reent): Change prototypes
	to specify function pointer arguments.
	(__fwalk, __fwalk_reent): Ditto.

2004-04-26  Aldy Hernandez  <aldyh@redhat.com>

	* libc/machine/powerpc/vfscanf.c (__svfscanf_r): Fix typo in
	CT_INT case.

2004-04-23  Artem B. Bityuckiy  <abitytsky@softminecorp.com>

	* configure.in: Define _MB_CAPABLE if mb supported.
	* configure: Regenerated.
	* configure.host: Remove manual setting of MB_CAPABLE compiler
	flag.
	* newlib.hin: Add _MB_CAPABLE flag.
	* libc/ctype/iswalpha.c, libc/ctype/iswblank.c: Include <newlib.h>
	and check for _MB_CAPABLE flag instead of MB_CAPABLE.
	* libc/ctype/iswcntrl.c, libc/ctype/iswprint.c: Ditto.
	* libc/ctype/iswpunct.c, libc/ctype/iswspace.c: Ditto.
	* libc/ctype/jp2uc.c: Ditto.
	* libc/ctype/towlower.c, libc/ctype/towupper.c: Ditto.
	* libc/locale/locale.c: Ditto
	* libc/machine/powerpc/vfscanf.c: Ditto
	* libc/stdio/vfprintf.c, libc/stdio/vfscanf.c: Ditto
	* libc/stdlib/mblen.c: Ditto
	* libc/stdlib/mblen_r.c, libc/stdlib/mbrlen.c: Ditto
	* libc/stdlib/mbrtowc.c, libc/stdlib/mbsrtowcs.c: Ditto
	* libc/stdlib/mbstowcs.c, libc/stdlib/mbtowc.c: Ditto
	* libc/stdlib/mbtowc_r.c, libc/stdlib/wcrtomb.c: Ditto
	* libc/stdlib/wcsrtombs.c, libc/stdlib/wcstombs.c: Ditto
	* libc/stdlib/wctomb.c, libc/sys/linux/intl/dcigettext.c: Ditto
	* libc/sys/linux/intl/explodename.c: Ditto
	* libc/sys/linux/intl/finddomain.c: Ditto
	* libc/sys/linux/intl/l10nflist.c: Ditto
	* libc/sys/linux/intl/loadmsgcat.c: Ditto
	* libc/sys/linux/intl/localealias.c: Ditto

2004-04-23  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/machine/powerpc/vfscanf.c (NNZDIGITS): New define.
	(__svfscanf_r): In integer conversions, leave out leading zeroes
	which are not part of a base prefix.
	Keep track of width truncation to fit into buf, not counting left-out
	zeroes against width till the truncation has been compensated for.
	This is based on Joern's patch of 04/21 for libc/stdio/vfscanf.c.

2004-04-23  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/stdio.h: (_ftell_r, _fseek_r): New prototypes.

2004-04-23  Artem B. Bityuckiy  <abitytsky@softminecorp.com>

	* libc/stdio/asprintf.c libc/stdio/clearerr.c,
	libc/stdio/fclose.c libc/stdio/fcloseall.c libc/stdio/fdopen.c,
	libc/stdio/feof.c libc/stdio/ferror.c libc/stdio/fflush.c,
	libc/stdio/fgetc.c libc/stdio/fgetpos.c libc/stdio/fgets.c,
	libc/stdio/fileno.c libc/stdio/findfp.c libc/stdio/fiprintf.c,
	libc/stdio/flags.c libc/stdio/fopen.c libc/stdio/fprintf.c,
	libc/stdio/fputc.c libc/stdio/fputs.c libc/stdio/fread.c,
	libc/stdio/freopen.c libc/stdio/fscanf.c libc/stdio/fseek.c,
	libc/stdio/fseeko.c libc/stdio/fsetpos.c libc/stdio/ftell.c,
	libc/stdio/ftello.c libc/stdio/fvwrite.c libc/stdio/fwalk.c,
	libc/stdio/fwrite.c libc/stdio/getc.c libc/stdio/getc_u.c,
	libc/stdio/getchar.c libc/stdio/getchar_u.c,
	libc/stdio/getdelim.c libc/stdio/getline.c libc/stdio/gets.c,
	libc/stdio/getw.c libc/stdio/iprintf.c libc/stdio/local.h,
	libc/stdio/makebuf.c libc/stdio/mktemp.c libc/stdio/perror.c,
	libc/stdio/printf.c libc/stdio/putc.c libc/stdio/putc_u.c,
	libc/stdio/putchar.c libc/stdio/putchar_u.c libc/stdio/puts.c,
	libc/stdio/putw.c libc/stdio/refill.c libc/stdio/remove.c,
	libc/stdio/rename.c libc/stdio/rewind.c libc/stdio/rget.c,
	libc/stdio/scanf.c libc/stdio/setbuf.c libc/stdio/setbuffer.c,
	libc/stdio/setlinebuf.c libc/stdio/setvbuf.c,
	libc/stdio/siprintf.c libc/stdio/snprintf.c,
	libc/stdio/sprintf.c libc/stdio/sscanf.c libc/stdio/stdio.c,
	libc/stdio/tmpfile.c libc/stdio/tmpnam.c libc/stdio/ungetc.c,
	libc/stdio/vasprintf.c libc/stdio/vfieeefp.h,
	libc/stdio/vfprintf.c libc/stdio/vfscanf.c,
	libc/stdio/vprintf.c libc/stdio/vscanf.c,
	libc/stdio/vsnprintf.c libc/stdio/vsprintf.c,
	libc/stdio/vsscanf.c libc/stdio/wbuf.c,
	libc/stdio/wsetup.c: Perform minor formatting changes.  Move
	copyright notices to top of file, ensure that <_ansi.h> is
	included, be consistent with open parentheses, use _DEFUN macro,
	include "local.h" where needed, and remove various compiler
	warnings.

2004-04-21  J"orn Rennecke <joern.rennecke@superh.com>

	* libc/stdio/vfscanf.c (NNZDIGITS): New define.
	(__svfscanf_r): In integer conversions, leave out leading zeroes
	which are not part of a base prefix.
	Keep track of width truncation to fit into buf, not counting left-out
	zeroes against width till the truncation has been compensated for.

2004-04-20  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/unistd.h (ttyname_r): Add missing comma.

2004-04-20  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/unistd.h (ttyname_r): Add declaration for Cygwin.

2004-04-10  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/unistd.h (sync): Define void on Cygwin according
	to SUSv3.

2004-04-08  Artem B. Bityuckiy  <abitytsky@softminecorp.com>

	* libc/stdio/fclose.c (_fclose_r): New function.
	* libc/stdio/freopen.c (_freopen_r): Call _fclose_r.
	* libc/stdio/fcloseall.c (_fcloseall_r): Call _fwalk_reent.
	* libc/stdio64/freopen64.c (_freopen64_r): Use _fclose_r.
	* libc/include/stdio.h (_fclose_r): New prototype.
	* libc/stdio/fopen.c: Fix typo in comment.

2004-04-08  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/fwalk.c (_fwalk_reent): New version of _fwalk
	to handle _r reentrant functions.

2004-04-08  Eric Christopher  <echristo@redhat.com>

	* libc/include/machine/setjmp.h: Fix endif locations.

2004-04-01  Artem B. Bityuckiy  <abitytsky@softminecorp.com>

	* libc/time/strptime.c: Add standard includes to avoid
	warning messages at compilation time.

2004-04-01  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/vfscanf.c (__svfscanf_r): Add locking/unlocking
	of file.

2004-03-30  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/machine/h8300/Makefile.am: Reformat slightly.
	* libc/machine/h8300/Makefile.in: Regenerate.

2004-03-30  Thomas Pfaff  <tpfaff@gmx.net>

	* libc/stdio/findfp.c (__fp_lock_all): Add call to
	__sfp_lock_acquire.
	(__fp_unlock_all): Add call to __sfp_lock_release.

2004-03-25  Thomas Pfaff  <tpfaff@gmx.net>

	* libc/stdio/fclose.c (fclose): Protect file pointer list when
	releasing a file.
	 * libc/stdio/fcloseall.c (_fcloseall_r): Close all files via
	fwalk.
	* libc/stdio/fdopen.c (_fdopen_r): Add calls to
	_flockfile/_funlockfile.
	* libc/stdio/findfp.c: Move __sfp_lock. Change __sfp_lock type
	to recursive.
	Change __lock_acquire/__lock_release calls for __sfp_lock to
	__sfp_lock_acquire/__sfp_lock_release throughout.
	(std): Make sure that file lock is only initialized once.
	(__sfp): Move _file initialization. Initialize file lock.
	(__sfp_lock_acquire): New function.
	(__sfp_lock_release): Ditto.
	(__fp_lock_all): Remove __sfp_lock_acquire call.
	(__fp_unlock_all): Remove __sfp_lock_release call.
	* libc/stdio/fopen.c (_fopen_r): Protect file pointer list.
	Add calls to _flockfile/_funlockfile. Remove
	__lock_init_recursive call.
	* libc/stdio/freopen.c (_freopen_r): Protect file pointer list.
	* libc/stdio/fwalk.c (__fwalk): New static function.
	(_fwalk): Protect file pointer list. Use __fwalk to walk through
	file pointers.
	* libc/stdio/local.h: Add defines for
	__sfp_lock_acquire/__sfp_lock_release when
	single threaded. Add function prototypes otherwise.
	* libc/stdio64/fdopen64.c (_fdopen64_r): Add calls to
	_flockfile/_funlockfile.
	* libc/stdio/fopen64.c (_fopen64_r): Protect file pointer list.
	Add calls to _flockfile/_funlockfile. Remove
	 __lock_init_recursive call.
	* libc/stdio/freopen64.c (_freopen64_r): Protect file pointer
	list.

2004-03-25  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/sys/lock.h: Turn on __USE_GNU flag if not already
	defined.  Change __LOCK_RECURSIVE_INIT to be __LOCK_INIT_RECURSIVE.
	* libc/sys/linux/dl/dl-support.c: Change __LOCK_RECURSIVE_INIT
	to be __LOCK_INIT_RECURSIVE.

2004-03-11  Kazu Hirata  <kazu@cs.umass.edu>

	* libc/sys/h8300hms/Makefile.am (lib_a_SOURCES): Replace
	_exit.c with _exit.S.
	* libc/sys/h8300hms/Makefile.in: Regenerate.
	* libc/sys/h8300hms/_exit.c: Remove.
	* libc/sys/h8300hms/_exit.S: New.

2004-03-09  Thomas Pfaff  <tpfaff@gmx.net>

	* libc/stdio/findfp.c (__sfp): Rename lock to __sfp_lock.
	Change __sfp_lock to static global.
	(__fp_lock): New static function.
	(__fp_unlock): Ditto.
	(__fp_lock_all): New function.
	(__fp_unlock_all): Ditto.

2004-02-10  Christopher Faylor  <cgf@redhat.com>

	* libm/mathfp/er_gamma.c (gamma): Add new non-reentrant function.
	* libm/mathfp/er_lgamma.c (lgamma): Ditto.
	* libm/mathfp/erf_gamma.c (gammaf): Ditto.
	* libm/mathfp/erf_lgamma.c (lgammaf): Ditto.

2004-02-09  Christopher Faylor  <cgf@redhat.com>

	* libc/include/time.h (TIMER_RELTIME): New define.

2004-02-09  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdlib/Makefile.am: Add mallstatsr to LIBADD_OBJS.
	* libc/stdlib/Makefile.in: Regenerated.

2004-02-08  Christopher Faylor  <cgf@redhat.com>

	* libc/include/sys/features.h: Add _POSIX_TIMERS define for __CYGWIN__.
	* libc/include/sys/reent.h (__getreent): Protect against possibly being
	defined.
	* libc/include/sys/unistd.h (fdatasync): Don't define for __CYGWIN__.

2004-02-05  Paul Brook  <paul@codesourcery.com>

	* libc/include/machine/ieeefp.h[__arm__][__VFP_FP__]: Set
	IEEE_{BIG,LITTLE} based on __ARMEL__ flag.

2004-02-02  Jeff Johnston  <jjohnstn@redhat.com>

	* NEWS: Update with 1.12.0 info.
	* README: Ditto.
	* acinclude.m4: Change version number to 1.12.0.
	* aclocal.m4: Regenerated.
	* configure: Ditto.
	* doc/aclocal.m4: Ditto.
	* doc/configure: Ditto.
	* libc/*/aclocal.m4: Ditto.
	* libc/*/configure: Ditto.
	* libc/libc.texinfo: Ditto.
	* libm/*/aclocal.m4: Ditto.
	* libm/*/configure: Ditto.
	* libm/libm.texinfo: Ditto.
	* libc/sys/linux/shared.ld: Add VERS_1.12.

2004-02-02  Joel Sherrill  <joel@oarcorp.com>

	* configure.host: Add support for tic4x.
	* libc/include/machine/ieeefp.h: Ditto.
	* libc/include/machine/setjmp.h: Ditto.
	* libc/machine/tic4x/Makefile.am: New file.
	* libc/machine/tic4x/configure.in: Ditto.
	* libc/machine/tic4x/setjmp.S: Ditto.
	* libc/machine/tic4x/aclocal.m4: Generated.
	* libc/machine/tic4x/configure: Ditto.
	* libc/machine/tic4x/Makefile.in: Ditto.

2004-01-30  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/fwalk.c (_fwalk.c): Don't traverse the
	file chain on the passed in reentrancy struct if it
	is _GLOBAL_REENT.

2004-01-30  Artem B. Bityuckiy  <abitytsky@softminecorp.com>
	    Jeff Johnston  <jjohnstn@redhat.com>

	* libc/iconv/iconv.tex: Updated with more information.

2004-01-30  Thomas Pfaff  <tpfaff@gmx.net>
	    Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/fwalk.c (_fwalk): Traverse the given reentrancy
	struct for std streams and traverse the global reeentrancy
	struct for all other streams.

2004-01-27  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdlib/atexit.c: Protect global atexit list with a
	lock when newlib is multithreaded.

2004-01-27  Artem B. Bityuckiy  <abitytsky@softminecorp.com>

	* configure.in: Add support to generate iconv converter flags
	for newlib.h
	* newlib.hin: Add iconv converter flags.
	* configure: Regenerated.
	* libc/Makefile.in: Ditto.
	* libc/configure.in: Moved iconv converter parsing logic to
	top level newlib configure.in.
	* libc/configure: Regenerated.
	* libc/iconv/Makefile.in: Ditto.
	* libc/iconv/README.TODO
	* libc/iconv/charset.aliases: Remove wrong BE aliases for
	UCS2/UCS4/UTF8.
	* libc/iconv/ccs/Makefile.am: Remove C flag setting now that
	newlib.h can be used.
	* libc/iconv/ces/Makefile.am: Ditto.
	* libc/iconv/lib/Makefile.am: Ditto.
	* libc/iconv/ccs/Makefile.in: Regenerated.
	* libc/iconv/ces/Makefile.in: Ditto.
	* libc/iconv/lib/Makefile.in: Ditto.
	* libc/iconv/ccs/README.CCS.SOURCES: Updated.
	* libc/iconv/ccs/iconv_mktbl: Don't write junk strings to binaries.
	* libc/iconv/ccs/big5.c: Switch to use new underscored flags
	defined in newlib.h.
	* libc/iconv/ccs/cns11643_plane1.c: Ditto.
	* libc/iconv/ccs/cns11643_plane14.c: Ditto.
	* libc/iconv/ccs/cns11643_plane2.c: Ditto.
	* libc/iconv/ccs/cp775.c: Ditto.
	* libc/iconv/ccs/cp850.c: Ditto.
	* libc/iconv/ccs/cp852.c: Ditto.
	* libc/iconv/ccs/cp855.c: Ditto.
	* libc/iconv/ccs/cp866.c: Ditto.
	* libc/iconv/ccs/gb_2312_80.c: Ditto.
	* libc/iconv/ccs/iso_8859_1.c: Ditto.
	* libc/iconv/ccs/iso_8859_15.c: Ditto.
	* libc/iconv/ccs/iso_8859_2.c: Ditto.
	* libc/iconv/ccs/iso_8859_4.c: Ditto.
	* libc/iconv/ccs/iso_8859_5.c: Ditto.
	* libc/iconv/ccs/jis_x0201.c: Ditto.
	* libc/iconv/ccs/jis_x0208_1983.c: Ditto.
	* libc/iconv/ccs/jis_x0212_1990.c: Ditto.
	* libc/iconv/ccs/koi8_r.c: Ditto.
	* libc/iconv/ccs/koi8_u.c: Ditto.
	* libc/iconv/ccs/ksx1001.c: Ditto.
	* libc/iconv/ccs/shift_jis.c: Ditto.
	* libc/iconv/ccs/us_ascii.c: Ditto.
	* libc/iconv/ccs/binary/big5.cct: Newly generated.
	* libc/iconv/ccs/binary/cns11643_plane1.cct: Ditto.
	* libc/iconv/ccs/binary/cns11643_plane14.cct: Ditto.
	* libc/iconv/ccs/binary/cns11643_plane2.cct: Ditto.
	* libc/iconv/ccs/binary/cp775.cct: Ditto.
	* libc/iconv/ccs/binary/cp850.cct: Ditto.
	* libc/iconv/ccs/binary/cp852.cct: Ditto.
	* libc/iconv/ccs/binary/cp855.cct: Ditto.
	* libc/iconv/ccs/binary/cp866.cct: Ditto.
	* libc/iconv/ccs/binary/gb_2312_80.cct: Ditto.
	* libc/iconv/ccs/binary/iso_8859_1.cct: Ditto.
	* libc/iconv/ccs/binary/iso_8859_15.cct: Ditto.
	* libc/iconv/ccs/binary/iso_8859_2.cct: Ditto.
	* libc/iconv/ccs/binary/iso_8859_4.cct: Ditto.
	* libc/iconv/ccs/binary/iso_8859_5.cct: Ditto.
	* libc/iconv/ccs/binary/jis_x0201.cct: Ditto.
	* libc/iconv/ccs/binary/jis_x0208_1983.cct: Ditto.
	* libc/iconv/ccs/binary/jis_x0212_1990.cct: Ditto.
	* libc/iconv/ccs/binary/koi8_r.cct: Ditto.
	* libc/iconv/ccs/binary/koi8_u.cct: Ditto.
	* libc/iconv/ccs/binary/ksx1001.cct: Ditto.
	* libc/iconv/ccs/binary/shift_jis.cct: Ditto.
	* libc/iconv/ccs/binary/us_ascii.cct: Ditto.
	* libc/iconv/lib/bialiasesi.c: Sync with charset.aliases.
	* libc/iconv/ces/euc-jp.c: Use newlib.h macros.
	* libc/iconv/ces/euc-kr.c: Ditto.
	* libc/iconv/ces/euc-tw.c: Ditto.
	* libc/iconv/ces/gb2312.c: Ditto.
	* libc/iconv/ces/iso-10646-ucs-2.c: Ditto.
	* libc/iconv/ces/iso-10646-ucs-4.c: Ditto.
	* libc/iconv/ces/ucs-2-internal.c: Ditto.
	* libc/iconv/ces/ucs-4-internal.c: Ditto.
	* libc/iconv/ces/utf-16.c: Ditto.
	* libc/iconv/ces/utf-8.c: Ditto.
	* libc/iconv/lib/aliases.c: Ditto.
	* libc/iconv/lib/biccs.c: Ditto.
	* libc/iconv/lib/bices.c: Ditto.
	* libc/iconv/lib/ccs.c: Ditto.
	* libc/iconv/lib/ces.c: Ditto.
	* libc/iconv/lib/ces_euc.c: Ditto.
	* libc/iconv/lib/ces_iso2022.c: Ditto.
	* libc/iconv/lib/ces_table.c: Ditto.
	* libc/iconv/lib/converter.c: Ditto.
	* libc/iconv/lib/deps.h: Ditto.
	* libc/iconv/lib/endian.h: Ditto.
	* libc/iconv/lib/iconv.c: Ditto.
	* libc/iconv/lib/loaddata.c: Ditto.
	* libc/iconv/lib/local.h: Include newlib.h.
	* libc/argz/Makefile.in: Regenerated.
	* libc/ctype/Makefile.in: Ditto.
	* libc/errno/Makefile.in: Ditto.
	* libc/iconv/ccs/binary/Makefile.in: Ditto.
	* libc/locale/Makefile.in: Ditto.
	* libc/misc/Makefile.in: Ditto.
	* libc/posix/Makefile.in: Ditto.
	* libc/reent/Makefile.in: Ditto.
	* libc/search/Makefile.in: Ditto.
	* libc/signal/Makefile.in: Ditto.
	* libc/stdio/Makefile.in: Ditto.
	* libc/stdio64/Makefile.in: Ditto.
	* libc/stdlib/Makefile.in: Ditto.
	* libc/string/Makefile.in: Ditto.
	* libc/syscalls/Makefile.in: Ditto.
	* libc/time/Makefile.in: Ditto.
	* libc/unix/Makefile.in: Ditto.
	* testsuite/newlib.iconv/iconv.exp: New file.
	* testsuite/newlib.iconv/iconvjp.c: Ditto.
	* testsuite/newlib.iconv/iconvnm.c: Ditto.
	* testsuite/newlib.iconv/iconvru.c: Ditto.

2004-01-23  Artem B. Bityuckiy  <abitytsky@softminecorp.com>

	* acinclude.m4 (--enable-newlib-iconv): New configuration option.
	(--enable-newlib-builtin-converters): Ditto.
	* configure.in: Add code to set _ICONV_ENABLED flag.
	Set _MB_LEN_MAX to 1 if not mb enabled.
	* configure: Regenerated.
	* aclocal.m4: Ditto.
	* Makefile.in: Ditto.
	* newlib.hin: Add _ICONV_ENABLED flag.
	* libc/Makefile.am: Add support for iconv.
	* libc/configure.in: Ditto.
	* libc/Makefile.in: Regenerated.
	* libc/aclocal.m4: Ditto.
	* libc/configure: Ditto.
	* libc/libc.texinfo: Add iconv documentation.
	* libc/iconv/AUTHORS, libc/iconv/COPYING, libc/iconv/Makefile.am,
	libc/iconv/Makefile.in, libc/iconv/README.ORIGINAL,
	libc/iconv/README.TODO, libc/iconv/charset.aliases,
	libc/iconv/iconv.tex, libc/iconv/ccs/Makefile.am,
	libc/iconv/ccs/Makefile.in, libc/iconv/ccs/README.CCS.SOURCES,
	libc/iconv/ccs/big5.c, libc/iconv/ccs/cns11643_plane1.c,
	libc/iconv/ccs/cns11643_plane14.c, libc/iconv/ccs/cns11643_plane2.c,
	libc/iconv/ccs/cp775.c, libc/iconv/ccs/cp850.c,
	libc/iconv/ccs/cp852.c, libc/iconv/ccs/cp855.c,
	libc/iconv/ccs/cp866.c, libc/iconv/ccs/gb_2312_80.c,
	libc/iconv/ccs/iconv_mktbl, libc/iconv/ccs/iso_8859_1.c,
	libc/iconv/ccs/iso_8859_15.c, libc/iconv/ccs/iso_8859_2.c,
	libc/iconv/ccs/iso_8859_4.c, libc/iconv/ccs/iso_8859_5.c,
	libc/iconv/ccs/jis_x0201.c, libc/iconv/ccs/jis_x0208_1983.c,
	libc/iconv/ccs/jis_x0212_1990.c, libc/iconv/ccs/koi8_r.c,
	libc/iconv/ccs/koi8_u.c, libc/iconv/ccs/ksx1001.c,
	libc/iconv/ccs/shift_jis.c, libc/iconv/ccs/us_ascii.c,
	libc/iconv/ccs/binary/Makefile.am, libc/iconv/ccs/binary/Makefile.in,
	libc/iconv/ccs/binary/big5.cct,
	libc/iconv/ccs/binary/cns11643_plane1.cct,
	libc/iconv/ccs/binary/cns11643_plane14.cct,
	libc/iconv/ccs/binary/cns11643_plane2.cct,
	libc/iconv/ccs/binary/cp775.cct, libc/iconv/ccs/binary/cp850.cct,
	libc/iconv/ccs/binary/cp852.cct, libc/iconv/ccs/binary/cp855.cct,
	libc/iconv/ccs/binary/cp866.cct, libc/iconv/ccs/binary/gb_2312_80.cct,
	libc/iconv/ccs/binary/iso_8859_1.cct,
	libc/iconv/ccs/binary/iso_8859_15.cct,
	libc/iconv/ccs/binary/iso_8859_2.cct,
	libc/iconv/ccs/binary/iso_8859_4.cct,
	libc/iconv/ccs/binary/iso_8859_5.cct,
	libc/iconv/ccs/binary/jis_x0201.cct,
	libc/iconv/ccs/binary/jis_x0208_1983.cct,
	libc/iconv/ccs/binary/jis_x0212_1990.cct,
	libc/iconv/ccs/binary/koi8_r.cct, libc/iconv/ccs/binary/koi8_u.cct,
	libc/iconv/ccs/binary/ksx1001.cct,
	libc/iconv/ccs/binary/shift_jis.cct,
	libc/iconv/ccs/binary/us_ascii.cct,
	libc/iconv/ces/Makefile.am, libc/iconv/ces/Makefile.in,
	libc/iconv/ces/euc-jp.c, libc/iconv/ces/euc-kr.c,
	libc/iconv/ces/euc-tw.c, libc/iconv/ces/gb2312.c,
	libc/iconv/ces/iso-10646-ucs-2.c, libc/iconv/ces/iso-10646-ucs-4.c,
	libc/iconv/ces/ucs-2-internal.c, libc/iconv/ces/ucs-4-internal.c,
	libc/iconv/ces/utf-16.c, libc/iconv/ces/utf-8.c,
	libc/iconv/lib/Makefile.am, libc/iconv/lib/Makefile.in,
	libc/iconv/lib/aliases.c, libc/iconv/lib/bialiasesi.c,
	libc/iconv/lib/biccs.c, libc/iconv/lib/bices.c,
	libc/iconv/lib/ccs.c, libc/iconv/lib/ces.c,
	libc/iconv/lib/ces_euc.c, libc/iconv/lib/ces_iso2022.c,
	libc/iconv/lib/ces_table.c, libc/iconv/lib/converter.c,
	libc/iconv/lib/deps.h, libc/iconv/lib/endian.h,
	libc/iconv/lib/iconv.c, libc/iconv/lib/loaddata.c,
	libc/iconv/lib/local.h, libc/include/iconv.h: New files.
	* libc/sys/linux/include/iconv.h: Ditto.
	* libc/include/sys/_types.h (_iconv_t): Added.
	* doc/aclocal.m4: Regenerated.
	* doc/configure: Ditto.
	* doc/Makefile.in: Ditto.
	* iconvdata/Makefile.in: Ditto.
	* iconvdata/aclocal.m4: Ditto.
	* iconvdata/configure: Ditto.
	* libc/*aclocal.m4: Ditto.
	* libc/*Makefile.in: Ditto.
	* libc/*configure: Ditto.
	* libm/*aclocal.m4: Ditto.
	* libm/*Makefile.in: Ditto.
	* libm/*configure: Ditto.

2004-01-22  Thomas Pfaff  <tpfaff@gmx.net>

	* libc/stdio/findfp.c (__sfp): Protect global FILE pointer list
	by a lock when newlib is multithreaded.

2004-01-21  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdlib/mbrtowc.c (_mbrtowc_r): Fix case where s is null
	pointer to match C99 spec.
	* libc/stdlib/mbsrtowcs.c (_mbsrtowc_r): Fix to ignore len when
	dst is NULL.  Also fix to not alter src pointer when dst is NULL
	and call _mbrtowc_r instead of _mbtowc_r.
	* libc/stdlib/wcsrtombs.c (_wcsrtombs_r): Call _wcrtomb_r instead
	of _wctomb_r.

2004-01-19  Thomas Pfaff  <tpfaff@gmx.net>

	* libc/stdio/fclose.c (fclose): Release FILE as the last step.
	* libc/stdio/freopen.c (freopen): Ditto.

2004-01-16  Christopher Faylor  <cgf@redhat.com>

	* libc/stdio/vfprintf.c: Add sys/lock.h include.

2004-01-16  Thomas Pfaff  <tpfaff@gmx.net>

	* libc/stdio/findfp.c (__sfp): Remove unnecessary memset.
	* libc/stdio/vfprintf.c (__sbprintf): Ditto.
	Add calls to __lock_init_recursive and __lock_close_recursive
	instead.

2004-01-15  Thomas Pfaff  <tpfaff@gmx.net>

	* libc/stdio/fclose.c: Include sys/lock.h.
	(fclose): Destroy lock when file is closed.
	* libc/stdio/findfp.c (__sfp): Initialize file pointers _lock
	member.
	* libc/stdio/freopen.c: Include sys/lock.h.
	(_freopen_r): Destroy lock when file is closed.
	* libc/stdio/vfprintf.c (__sbprintf): Initialize file pointers
	_lock member.

2004-01-08  Joel Sherrill  <joel@oarcorp.com>

	* libc/ctype/iswctype.c, include/sys/reent.h, libc/stdlib/a64l.c:
	Remove warnings.

2004-01-08  Joel Sherrill  <joel@oarcorp.com>

	* libc/sys/rtems/sys/queue.h: New file.
	* libc/include/sys/signal.h: Reflect renumbering of signals to
	fit into 32-bit mask.
	* libc/include/sys/unistd.h: Add fdatasync() prototype.
	* libc/sys/rtems/crt0.c: Add more symbols which may be implicitly
	required.  In particular, add the reentrant variants of libc calls.
	* libc/sys/rtems/sys/dirent.h: Add scandir() prototype.

2004-01-06  Mark Mitchell  <mark@codesourcery.com>

	* libc/sys/arm/syscalls.c (unistd.h): Include it.
	(remap_handle): Use STDIN_FILENO instead of __sfileno(stdin).
	Similarly for stdout and stderr.

2004-01-06  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/libc.texinfo: Correct escape character for @ sign
	so file will be processed by make info.  Update copyright years.
	* libm/libm.texinfo: Ditto.

2003-12-05  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/stat.h: No longer include stat-dj.h.
	* libc/include/sys/stat-dj.h: Removed.

2003-12-05  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/wchar.h: Include <sys/reent.h>.

2003-12-05  Christopher Faylor  <cgf@redhat.com>

	* libc/stdlib/mbrlen.c: Change include order to prevent compiler errors
	when defining _mbrtowc.
	* libc/stdlib/mbsinit.c: Ditto.
	* libc/stdlib/mbsrtowcs.c: Ditto.
	* libc/stdlib/wcrtomb.c: Ditto.
	* libc/stdlib/wcsrtombs.c: Ditto.
	* libc/stdlib/wctob.c: Ditto.

2003-12-05  Christopher Faylor  <cgf@redhat.com>

	* libc/stdlib/mbrlen.c: Change include order to prevent compiler
	errors when defining _mbrtowc.
	* libc/stdlib/mbsinit.c: Ditto.
	* libc/stdlib/mbsrtowcs.c: Ditto.

2003-12-05  Christopher Faylor  <cgf@redhat.com>

	* libc/stdlib/mbrtowc.c: Change include order to prevent compiler
	errors when defining _mbrtowc.

2003-12-04  Artem B. Bityuckiy  <abitytsky@softminecorp.com>

	* libc/stdio/vfprintf.c (_VFPRINTF_R): Use _r versions
	of mb routines for %lc and %ls support.
	* libc/stdio/vfscanf.c (_svfscanf_r): Add %lc, %C,
	%ls, and %S support.  Remove CYGNUS_NEC markers and
	code within.

2003-12-04  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/wchar.h: Add prototypes for _mbrtowc_r,
	_wcrtomb_r, and _wcsrtombs_r.

2003-12-01  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/fcntl.h: Don't define struct flock when on
	Cygwin.  This is done in winsup/cygwin/include/cygwin/types.h now.

2003-11-28  Christopher Faylor  <cgf@redhat.com>

	* libc/include/sys/signal.h: Use system specific signal file when
	building on cygwin.

2003-11-27  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/stdlib.h (_atoi_r): New prototype.
	* libc/stdlib/atoi.c (_atoi_r): New reentrant function.

2003-11-27  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/stdlib.h (_atoll_r, _atol_r): New prototypes.
	* libc/stdlib/atol.c (_atol_r): New reentrant function.
	* libc/stdlib/atoll.c (_atoll_r): Ditto.

2003-11-27  Artem B. Bityuckiy  <abitytsky@softminecorp.com>
	    Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/stdlib.h (lldiv_t): New type.
	(atoll, llabs, lldiv): New prototypes.
	* libc/stdlib/Makefile.am: Add support for atoll, llabs, and lldiv.
	* libc/stdlib/stdlib.tex: Ditto.
	* libc/stdlib/Makefile.in: Regenerated.
	* libc/stdlib/atoll.c: New file.
	* libc/stdlib/llabs.c: Ditto.
	* libc/stdlib/lldiv.c: Ditto.

2003-11-26  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/fcntl.h: Declare syscalls only when building newlib.
	* libc/include/unistd.h: Ditto.
	* libc/include/stat.h: Ditto.  Also declare struct stat64.

2003-11-24  Artem B. Bityuckiy  <abitytsky@softminecorp.com>

	* libc/stdio/vfprintf.c (_VFPRINTF_R): Fix check for 'C' format
	specifier to use ch instead of *fmt.

2003-11-21  Artem B. Bityuckiy  <abitytsky@softminecorp.com>

	* libc/stdio/vfprintf.c (_VFPRINTF_R, get_arg): Move mb-specific
	code within checks for MB_CAPABLE.  For non-mb-capable platforms,
	use simple byte logic.

2003-11-21  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/vfscanf.c (__svfscanf_r)[!_NO_LONGDBL]: Don't use
	_strtold routine for processing floats and doubles since it
	is not as fast as _strtod_r.

2003-11-20 Dhananjay Deshpande <dhananjayd@kpitcummins.com>

	* libc/machine/h8300/defines.h : Correct pointer register defines
	for normal mode.
	* libc/machine/h8300/memcpy.S : Use add/sub instead of adds/subs
	for normal mode.
	* libc/machine/h8300/reg_memcpy.S : Likewise.
	* libc/machine/h8300/reg_memset.S : Likewise.
	* libc/machine/h8300/strcmp.S : Likewise.

2003-11-19  Nicholas Wourms  <nwourms@netscape.net>

	* configure.host: Enable positional arguments for printf
	family for Cygwin.
	* libc/stdio/vfprintf.c (_VFPRINTF_R): Remove extraneous
	pointer reference for quad_ptr_t.

2003-11-19  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/scanf.c: Don't include local.h more than once.

2003-11-18  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/fcntl.h: Declare _open64.
	* libc/include/sys/stat.h: Declare _fstat64.
	* libc/include/sys/unistd.h: Declare _lseek64.

2003-11-17  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/stdlib.h (getprogname): Declare for Cygwin.
	(setprogname): Ditto.

2003-11-10  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/machine/powerpc/ufix64toa.c (_ufix64to_r): Fix shifts
	to use (Ebits + 1) which accounts for the sign-bit.

2003-11-07  Jeff Johnston  <jjohnstn@redhat.com>

	* configure.host: Remove -DLOOSE_KERNEL_NAMES flag for linux
	x86 build.
	* iconvdata/Makefile.am: Make dependent on newlib's configure.host
	and set up default flags to pass to aclocal.
	* iconvdata/Makefile.in: Regenerated.
	* libc/sys/linux/Makefile.am: Add _ELIX_LEVEL_4 getlogin, getpwnam,
	and getpwuid routines.
	* libc/sys/linux/Makefile.in: Regenerated.
	* libc/sys/linux/getlogin.c: New stub file to allow x86-linux
	applications to link with newlib's shared libc library.
	* libc/sys/linux/getpwnam.c: Ditto.
	* libc/sys/linux/getpwuid.c: Ditto.
	* libc/sys/linux/sys/types.h: Include <features.h> and supply types
	that were formerly supplied by /usr/include/linux/types.h with
	kernel types.
	* testsuite/newlib.wctype/twctype.c: Fix testcase to properly
	test _ELIX_LEVEL macro.

2003-11-07  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/vfprintf.c (_VFPRINTF_R): Fix typos that should be
	referring to _NO_LONGLONG macro.

2003-11-06  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/linuxthreads/td_init.c: Replace function name
	in LOG() macro so this will compile on gcc 3.4 and up.
	* libc/sys/linux/linuxthreads/td_log.c: Ditto.
	* libc/sys/linux/linuxthreads/td_ta_clear_event.c: Ditto.
	* libc/sys/linux/linuxthreads/td_ta_delete.c: Ditto.
	* libc/sys/linux/linuxthreads/td_ta_enable_stats.c: Ditto.
	* libc/sys/linux/linuxthreads/td_ta_event_addr.c: Ditto.
	* libc/sys/linux/linuxthreads/td_ta_event_getmsg.c: Ditto.
	* libc/sys/linux/linuxthreads/td_ta_get_nthreads.c: Ditto.
	* libc/sys/linux/linuxthreads/td_ta_get_ph.c: Ditto.
	* libc/sys/linux/linuxthreads/td_ta_get_stats.c: Ditto.
	* libc/sys/linux/linuxthreads/td_ta_map_id2thr.c: Ditto.
	* libc/sys/linux/linuxthreads/td_ta_map_lwp2thr.c: Ditto.
	* libc/sys/linux/linuxthreads/td_ta_new.c: Ditto.
	* libc/sys/linux/linuxthreads/td_ta_reset_stats.c: Ditto.
	* libc/sys/linux/linuxthreads/td_ta_set_event.c: Ditto.
	* libc/sys/linux/linuxthreads/td_ta_setconcurrency.c: Ditto.
	* libc/sys/linux/linuxthreads/td_ta_thr_iter.c: Ditto.
	* libc/sys/linux/linuxthreads/td_ta_tsd_iter.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_clear_event.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_dbresume.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_dbsuspend.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_event_enable.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_event_getmsg.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_get_info.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_getfpregs.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_getgregs.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_getxregs.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_getxregsize.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_set_event.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_setfpregs.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_setgregs.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_setprio.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_setsigpending.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_setxregs.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_sigsetmask.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_tsd.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_validate.c: Ditto.

2003-11-05  Jeff Johnston  <jjohnstn@redhat.com>
	    Artem B. Bityuckiy  <abitytsky@softminecorp.com>

	* libc/stdio/vfprintf.c (_VFPRINTF_R): Add support for
	%ls, %S, %lc, and %C format specifiers.
	(get_arg): Ditto.
	* libc/stdio/sprintf.c: Add documentation regarding new
	format specifiers added in vfprintf.c.

2003-11-05  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdlib/wcsrtombs.c (_wcsrtombs_r): Numerous fixes
	to make code work as specified in standard.

2003-10-23  Jeff Johnston  <jjohnstn@redhat.com>

	* configure.in: Use absolute newlib basedir when forming
	CC_FOR_NEWLIB include options.
	* configure: Regenerated.

2003-10-23  Artem B. Bityuckiy  <abitytsky@softminecorp.com>

	* libc/string/wcsnlen.c: New file.
	* libc/include/wchar.h: Add wcsnlen prototype.
	* libc/string/Makefile.am: Add wcsnlen support.
	* libc/string/Makefile.in: Regenerated.
	* libc/string/wcstrings.tex: Add wcsnlen documentation.

2003-10-22  Richard Sandiford  <rsandifo@redhat.com>

	* libc/stdlib/exit.c (exit): Handle null _GLOBAL_REENT->_atexits.

2003-10-20  Bob Wilson  <bob.wilson@acm.org>

	* libc/locale/locale.c: Use double quotes in code.
	* libc/locale/locale.tex: Likewise.
	* libc/libc.texinfo: Hyphenate "floating-point".
	* libc/machine/necv70/necv70.tex: Likewise.
	* libc/stdio/sprintf.c: Likewise.
	* libc/stdio/sscanf.c: Likewise.
	* libc/stdlib/atof.c: Likewise.
	* libc/stdlib/ldtoa.c: Fix comment typo.
	* libc/stdlib/div.c: Use @ifnottex instead of @ifinfo.
	* libc/stdlib/ldiv.c: Likewise.
	* libm/common/s_expm1.c: Likewise.
	* libm/common/s_ilogb.c: Hyphenate "floating-point".  Use "nonzero".
	* libm/common/s_infinity: Hyphenate "double- and single-precision".
	* libm/common/s_nan.c: Likewise.  Also correct the FUNCTION summary.
	* libm/common/s_nextafter.c: Fix typo.  Hyphenate "double-precision"
	and "floating-point".
	* libm/common/s_scalbn.c: Correct the FUNCTION summary.
	* libm/math/e_pow.c: Fix comment typo.
	* libm/math/math.tex: Hyphenate "single-precision" and "floating-point".
	* libm/math/s_asinh.c: Use @ifnottex instead of @ifinfo.
	* libm/math/s_atan.c: Likewise.
	* libm/math/s_frexp.c: Likewise.  Also use "nonzero".
	* libm/math/s_isnan.c: Hyphenate "single-precision" and
	"floating-point".  Use "nonzero".
	* libm/math/s_ldexp.c: Use @ifnottex instead of @ifinfo.
	* libm/math/w_acos.c: Likewise.
	* libm/math/w_acosh.c: Likewise.
	* libm/math/w_asin.c: Likewise.
	* libm/math/w_atan2.c: Likewise.
	* libm/math/w_atanh.c: Likewise.
	* libm/math/w_cosh.c: Likewise.
	* libm/math/w_exp.c: Likewise.
	* libm/math/w_exp2.c: Likewise.  Add missing @end and missing @tex
	version of 2^x in the description.
	* libm/math/w_fmod.c: Use @ifnottex instead of @ifinfo.
	* libm/math/w_gamma.c: Likewise.
	* libm/math/w_hypot.c: Likewise.
	* libm/math/w_j0.c: Likewise.
	* libm/math/w_sinh.c: Likewise.
	* libm/math/w_pow.c: Replace "exp1.0nt" with "exponent".
	* libm/mathfp/mathfp.tex: Hyphenate "single-precision" and
	"floating-point".
	* libm/mathfp/e_acosh.c: Use @ifnottex instead of @ifinfo.
	* libm/mathfp/e_atanh.c: Likewise.
	* libm/mathfp/e_hypot.c: Likewise.
	* libm/mathfp/er_lgamma.c: Likewise.
	* libm/mathfp/s_acos.c: Likewise.
	* libm/mathfp/s_asine.c: Likewise.
	* libm/mathfp/s_asinh.c: Likewise.
	* libm/mathfp/s_atan.c: Likewise.
	* libm/mathfp/s_atan2.c: Likewise.
	* libm/mathfp/s_atangent.c: Likewise.
	* libm/mathfp/s_cosh.c: Likewise.
	* libm/mathfp/s_exp.c: Likewise.
	* libm/mathfp/s_fmod.c: Likewise.
	* libm/mathfp/s_frexp.c: Likewise.  Also use "nonzero".
	* libm/mathfp/s_isnan.c: Hyphenate "single-precision" and
	"floating-point".  Use "nonzero".
	* libm/math/s_pow.c: Replace "exp1.0nt" with "exponent".
	* libm/mathfp/s_ldexp.c: Use @ifnottex instead of @ifinfo.
	* libm/mathfp/s_sineh.c: Likewise.
	* libm/mathfp/w_jn.c: Likewise.

2003-10-15  Alexandre Oliva  <aoliva@redhat.com>

	* Makefile.am: Add $(MAKE) comments to multido and multiclean
	lines, to enable parallel make.
	* Makefile.in: Rebuilt.

2003-10-14  Christopher Faylor  <cgf@redhat.com>

	* libc/time/clock.c: Clarify documentation of return value when no
	measurement is available.

2003-09-29  Ian Lance Taylor  <ian@wasabisystems.com>

	* libm/configure.in: Check libm_machine_dir, not machine_dir.
	* libm/configure: Regenerate.
	* libm/Makefile.in: Ditto.

2003-09-29  J"orn Rennecke <joern.rennecke@superh.com>

	* libc/machine/sh/strncpy.S: New file.
	* libc/machine/sh/Makefile.am: Add entry & rule for new file.
	* libc/machine/sh/Makefile.in: Regenerate.

2003-09-11  James E Wilson  <wilson@specifixinc.com>

	* MAINTAINERS: Update my e-mail address.

2003-09-10  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/unistd.h: Declare function daemon for Cygwin.

2003-09-09  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/machine/powerpc/fix64.h: Fix typo for _simdldcheck
	prototype.
	* libc/machine/powerpc/simdldtoa.c: Remove prototype for
	_simdldcheck().  Also add unsigned cast for index variable in
	for loop using sizeof operators.
	* libc/machine/powerpc/strtoufix32.c: Remove unused variable.
	* libc/machine/powerpc/strtosfix64.c: Fix call to _simdldcheck.
	* libc/machine/powerpc/strtoufix64.c (_strtoufix64_r): Ditto
	plus fix shift calculation for determining if there is a
	carry from word2.

2003-09-09  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/grp.h: Don't define setgrfile, group_from_gid and
	setgroupent for Cygwin.

2003-09-05  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdlib/exit.c (exit): Setting of struct _atexit ptr p
	is different for _REENT_SMALL than when using regular reent
	struct.

2003-09-05  Ben Elliston  <bje@wasabisystems.com>

	* libc/ctype/wctype.c (_DEFUN): Remove empty default case, as
	modern versions of GCC issue a warning.

	* libc/machine/xscale/memcmp.c (memcmp): Strip trailing whitespace
	after continuation characters that induces a warning from modern
	versions of GCC.

2003-09-04  Ben Elliston  <bje@wasabisystems.com>

	* libc/stdlib/mstats.c[_ELIX_LEVEL]: Fix guards.  #ifndef FOO ||
	FOO >= 2 is invalid; use #if !defined (FOO) || FOO >= 2 instead.

2003-09-02  Thomas Pfaff  <tpfaff@gmx.net>

	* libc/stdlib/atexit.c: Rename _REENT to _GLOBAL_REENT throughout.
	* libc/stdlib/exit.c : Ditto.
	* libc/stdlib/on_exit.c: Ditto.

2003-08-27  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/reent.h: Define stat64 as __stat64 when
	compiling newlib for Cygwin.

2003-08-26  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/stat.h[__CYGWIN__]: Only define stat64 as
	__stat64 when compiling newlib.

2003-08-26  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/stdio.h: Allow the io64 function prototypes for
	Cygwin when compiling newlib.
	* libc/include/sys/stat.h[__CYGWIN__]: Define stat64 as __stat64
	to expose the Cygwin struct __stat64 type.
	* libc/stdio64/fseeko64.c: Use _fstat64_r and pass a struct stat64
	pointer.
	* libc/stdio64/tmpfile64.c(_tmpfile64_r): Call _fopen64_r.

2003-08-23  Christopher Faylor  <cgf@redhat.com>

	* libc/stdio64/fseeko64.c (fseeko64_r): Rename second fseeko64_r
	definition to fseeko64.

2003-08-22  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/reent.h: Add _GLOBAL_REENT macro.
	* libc/stdio: Globally remove/replace all references to fp->_data.
	Replace with _REENT or _GLOBAL_REENT where appropriate.
	* libc/stdio/asprintf.c: Ditto.
	* libc/stdio/fclose.c: Ditto.
	* libc/stdio/fvwrite.c: Ditto.
	* libc/stdio/makebuf.c: Ditto.
	* libc/stdio/refill.c: Ditto.
	* libc/stdio/local.h: Ditto.
	* libc/stdio/setvbuf.c: Ditto.
	* libc/stdio/sscanf.c: Ditto.
	* libc/stdio/stdio.c: Ditto.
	* libc/stdio/ungetc.c: Ditto.
	* libc/stdio/vfscanf.c: Ditto.
	* libc/stdio/vsscanf.c: Ditto.
	* libc/stdio/fopen.c: Ditto.  Also use _fseek_r in _fopen_r.
	* libc/stdio/vasprintf.c: Ditto.  Also call _vfprintf_r directly.
	* libc/stdio/vsnprintf.c: Ditto.
	* libc/stdio/vsprintf.c: Ditto.
	* libc/stdio/fcloseall.c(fcloseall): Use _GLOBAL_REENT macro
	instead of _REENT to walk file list.
	* libc/stdio/fflush.c: Ditto.
	* libc/stdio/fgetpos.c: Add reentrant version and have regular
	version call reentrant version with _REENT argument.
	* libc/stdio/fsetpos.c: Ditto.
	* libc/stdio/fseek.c: Ditto.
	* libc/stdio/fseeko.c: Ditto.
	* libc/stdio/ftell.c: Ditto.
	* libc/stdio/ftello.c: Ditto.
	* libc/stdio/freopen.c: Ditto.
	* libc/stdio/findfp.c: Use _GLOBAL_REENT pointer when adding
	new files to chain.  Also use _GLOBAL_REENT pointer for
	cleaning up.
	* libc/stdio/fiprintf.c: Reformatted to minimize duplicate code.
	* libc/stdio/siprintf.c: Ditto.
	* libc/stdio/iprintf.c: Ditto.
	* libc/stdio/fprintf.c: Ditto.
	* libc/stdio/printf.c: Ditto.
	* libc/stdio/snprintf.c: Call _vfprintf_r directly.
	* libc/stdio/sprintf.c: Ditto.
	* libc/stdio/vprintf.c: Ditto.  Also add _REENT_ONLY check.
	* libc/stdio/rewind.c: Call _fseek_r directly.
	* libc/stdio/tmpfile.c: Call _fopen_r and _remove_r directly.
	* libc/stdio/vfprintf.c (_VFPRINTF_R): Change _r routines to use
	data pointer.
	(get_arg): Add extra struct _reent pointer argument.
	* libc/stdio64/fgetpos64.c: Add _r versions, remove any reference
	to fp->_data.
	* libc/stdio64/fopen64.c: Ditto.
	* libc/stdio64/freopen64.c: Ditto.
	* libc/stdio64/fsetpos64.c: Ditto.
	* libc/stdio64/ftello64.c: Ditto.
	* libc/stdio64/local64.h: Ditto.
	* libc/stdio64/stdio64.c: Ditto.
	* libc/stdio64/fseeko64.c: Ditto plus use _fstat_r instead of
	_fstat64_r for the meantime.

2003-08-19  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdlib/mallocr.c (mALLOc, rEALLOc, mEMEALIGn): Enhance
	overflow detection.

2003-08-13  Aldy Hernandez  <aldyh@redhat.com>

	* libc/machine/powerpc/machine/stdlib.h: Wrap SPE functions in
	extern "C".

2003-08-13  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/math.h: Add prototypes for __signbitf and
	__signbitd.

2003-07-31  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/ctype/iswalpha.c: Fix calls to __jp2uc to pass the
	correct type of conversion when dealing with EUCJP or SJIS.
	* libc/ctype/iswblank.c: Ditto.
	* libc/ctype/iswcntrl.c: Ditto.
	* libc/ctype/iswprint.c: Ditto.
	* libc/ctype/iswpunct.c: Ditto.
	* libc/ctype/iswspace.c: Ditto.
	* libc/ctype/towlower.c: Ditto.
	* libc/ctype/towupper.c: Ditto.

2003-07-31  Nick Clifton  <nickc@redhat.com>

	* libc/sys/sysnecv850/crt0.S (_start): Allocate 4 slots on stack
	before calling main, in case it saves its argument registers.
	Remove reference to deleted v850ea port.
	* configure.host: Remove reference to deleted v850ea port.
	Do not use -mv850 when building for v850e target.  This
	prevents the ctbp system register from being initialised.

2003-07-29  Honda Hiroki  <hhonda@ipflex.com>

	* libc/stdio/vfprintf.c: Set output size to 1 when
	we have %f format with precision 0 and # flag not specified.

2003-07-29  Alexandre Oliva  <aoliva@redhat.com>

	* libc/machine/mn10300/setjmp.S: Never emit both .am33 and
	.am33_2.

2003-07-25  Christopher Faylor  <cgf@redhat.com>

	* libc/stdio64/fdopen64.c: Include sys/lock.h.

2003-07-25  Christopher Faylor  <cgf@redhat.com>

	* configure.host: Find cygwin include directory, when appropriate.

2003-07-24  Christopher Faylor  <cgf@redhat.com>

	* libc/stdio64/fdopen64.c: New file.
	* libc/stdio64/Makefile.am (LIB_OBJS): Add fdopen64.o
	* libc/stdio64/Makefile.in: Regenerate.
	* libc/include/stdio.h (fdopen64): Define.
	* libc/include/stdio.h (_fdopen64_r): Ditto.

2003-07-10  Alexandre Oliva  <aoliva@redhat.com>

	2000-04-27  Alexandre Oliva  <aoliva@cygnus.com>
	* libc/include/machine/setjmp.h (_JBLEN, AM33/2.0): Set to 26.
	* libc/machine/mn10300/setjmp.S (setjmp, longjmp): Save and
	restore callee-saved FP registers.

2003-07-10  J"orn Rennecke <joern.rennecke@superh.com>

	* libc/include/sys/unistd.h (ftruncate, truncate): Also declare
	for __sh__.
	* libc/sys/sh/Makefile.am (lib_a_SOURCES): Add ftruncate.c and
	truncate.c.
	* libc/sys/sh/Makefile.in: Regenerate.
	* libc/sys/sh/sys/syscall.h: (SYS_truncate, SYS_ftruncate): Define.
	* libc/sys/sh/ftruncate.c: New file.
	* libc/sys/sh/truncate.c: Likewise.

2003-07-09  Alexandre Oliva  <aoliva@redhat.com>

	* libc/include/math.h (nan, nanf): Update prototype to C99.
	* libm/common/s_nan.c (nan): Likewise.
	* libm/common/s_nanf.c (nanf, nan): Likewise.
	* libc/sys/linux/cmath/math_private.h (nan, nanf): Likewise.

2003-07-07  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/stdbool.h: Removed as this is defined by gcc.

2003-07-03  Shaun Jackman  <sjackman@pathwayconnect.com>

	* libc/include/stdbool.h: New header file defined by C99.

2003-07-02  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/types.h (int8_t): Make signed.

2003-07-02  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/include/mqueue.h: Add include of <sys/fcntl.h>.

2003-06-27  Jose Goncalves  <jose.goncalves@inov.pt>

	* libc/sys/linux/mq_open.c (mq_open): Only set created flag
	on if we actually created the shared memory file exclusively.

2003-06-27  Joe Vornehm  <joev@mitre.org>

	* libm/common/s_fpclassify.c (__fpclassifyf): Fix
	comparisons to account for unsigned internal value w.

2003-06-26  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/mq_open.c (mq_open): Must allocate rdbuf and
	wrbuf for a non-creating open.

2003-06-24  Kazu Hirata  <kazu@cs.umass.edu>

	* libc/machine/h8300/setarch.h: New.
	* libc/machine/h8300/memcpy.S: Use it.
	* libc/machine/h8300/memset.S: Likewise.
	* libc/machine/h8300/reg_memcpy.S: Likewise.
	* libc/machine/h8300/reg_memset.S: Likewise.
	* libc/machine/h8300/setjmp.S: Likewise.
	* libc/machine/h8300/strcmp.S: Likewise.

2003-06-24  Richard Sandiford  <rsandifo@redhat.com>

	* libc/sys/h8300hms/crt0.S (_start): Fix register sizes in call
	to atexit().

2003-06-20  Jeff Johnston  <jjohnstn@redhat.com>

	* configure.host (iq2000): Add tabs.

2003-06-20  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/reent.h (_REENT_INIT_PTR): Fix macros
	to handle latest on_exit change.
	* libc/sys/linux/Makefile.am: Remove special compilation
	for malloc.c and mcheck.c.
	* libc/sys/linux/Makefile.in: Regenerated.
	* libc/sys/linux/mntent.c: Add definition of _LIBC flag
	after including <features.h>.
	* libc/sys/linux/mcheck.c: Ditto.
	* libc/sys/linux/malloc.c: Ditto plus define _GNU_SOURCE
	for <features.h>.
	* libc/sys/linux/intl/Makefile.am: Remove -D_LIBC and
	add -DNOT_IN_libc to C flags.
	* libc/sys/linux/intl/Makefile.in: Regenerated.
	* libc/sys/linux/intl/config.h: Add definition of _LIBC.
	* libc/sys/linux/linuxthreads/semaphore.h: Include
	<bits/pthreadtypes.h>.
	* libc/sys/linux/sys/dirent.h: Define _LIBC and NOT_IN_libc after
	including <features.h>.
	* libc/sys/linux/sys/lock.h: Ditto.

2003-06-11  Nick Clifton  <nickc@redhat.com>

	* libc/reent/reent.c (reclaim_reent): Fix typo in code to free
	_on_exit_args_ptr.

2003-06-10  Stan Cox  <scox@redhat.com>
	    Anthony Green  <green@redhat.com>

	* configure.host: Add iq2000 support.
	* newlib/libc/include/machine/ieeefp.h: Ditto.
	* newlib/libc/include/machine/setjmp.h: Ditto.
	* libc/machine/iq2000, libc/machine/iq2000/setjmp.S,
	libc/machine/iq2000/aclocal.m4, libc/machine/iq2000/configure,
	libc/machine/iq2000/configure.in, libc/machine/iq2000/Makefile.am,
	libc/machine/iq2000/Makefile.in: New files.

2003-06-10  Richard Sandiford  <rsandifo@redhat.com>

	* libc/sys/h8300hms/setarch.h: New file.
	* libc/sys/h8300hms/close.S, libc/sys/h8300hms/fstat.S,
	libc/sys/h8300hms/lseek.S, libc/sys/h8300hms/open.S,
	libc/sys/h8300hms/read.S, libc/sys/h8300hms/stat.S,
	libc/sys/h8300hms/write.S, libc/sys/h8300hms/crt0.S: Use it.

2003-06-06  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/argz/argz_add.c: Change to use _DEFUN macro for function
	definition.
	* libc/argz/argz_add_sep.c: Ditto.
	* libc/argz/argz_append.c libc/argz/argz_count.c: Ditto.
	* libc/argz/argz_create.c libc/argz/argz_create_sep.c: Ditto.
	* libc/argz/argz_delete.c libc/argz/argz_extract.c: Ditto.
	* libc/argz/argz_insert.c libc/argz/argz_next.c: Ditto.
	* libc/argz/argz_replace.c libc/argz/argz_stringify.c: Ditto.
	* libc/argz/envz_add.c libc/argz/envz_entry.c: Ditto.
	* libc/argz/envz_get.c libc/argz/envz_merge.c: Ditto.
	* libc/argz/envz_remove.c libc/argz/envz_strip.c: Ditto.
	* libc/locale/nl_langinfo.c libc/misc/ffs.c: Ditto.
	* libc/posix/closedir.c libc/posix/creat.c: Ditto.
	* libc/posix/execl.c libc/posix/execle.c: Ditto.
	* libc/posix/execlp.c libc/posix/execve.c: Ditto.
	* libc/posix/isatty.c libc/posix/opendir.c: Ditto.
	* libc/posix/popen.c libc/posix/readdir.c: Ditto.
	* libc/posix/readdir_r.c libc/posix/rewinddir.c: Ditto.
	* libc/posix/scandir.c libc/posix/seekdir.c: Ditto.
	* libc/posix/telldir.c libc/search/hcreate.c: Ditto.
	* libc/search/tdelete.c libc/search/tdestroy.c: Ditto.
	* libc/search/tfind.c libc/search/tsearch.c: Ditto.
	* libc/search/twalk.c libc/signal/signal.c: Ditto.

2003-06-05  Nick Clifton  <nickc@redhat.com>

	* libc/include/sys/reent.h (struct _on_exit_args): New
	structure containing fields used by the on_exit() function.
	(struct _atexit): Include struct _on_exit_args.  For
	_REENT_SMALL do his via a pointer that is initialised when
	needed.
	* libc/reent/reent.c (_reclaim_reent): Free the _on_exit_args
	structure, if one has been allocated.
	* libc/stdlib/atexit.c (atexit): Update indirection to
	_fntypes field.
	* libc/stdlib/on_exit.c (on_exit): Indirect via the
	_on_exit_args structure.  For _REENT_SMALL, allocate a
	structure if one does not exist.
	* libc/stdlib/exit.c (exit): Indirect via the _on_exit_args
	structure.

2003-06-04  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/net/Makefile.am: Remove extraneous markers.
	* libc/sys/linux/net/Makefile.in: Regenerated.

2003-06-03  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/reent/execr.c: Use _DEFUN macro for function declaration.
	* libc/reent/fcntlr.c: Ditto.
	* libc/reent/fstat64r.c: Ditto.
	* libc/reent/linkr.c: Ditto.
	* libc/reent/lseek64r.c: Ditto.
	* libc/reent/lseekr.c: Ditto.
	* libc/reent/openr.c: Ditto.
	* libc/reent/readr.c: Ditto.
	* libc/reent/reent.c: Ditto.
	* libc/reent/sbrkr.c: Ditto.
	* libc/reent/signalr.c: Ditto.
	* libc/reent/signgam.c: Ditto.
	* libc/reent/statr.c: Ditto.
	* libc/reent/timer.c: Ditto.
	* libc/reent/unlinkr.c: Ditto.
	* libc/reent/writer.c: Ditto.
	* libc/syscalls/sysclose.c: Ditto.
	* libc/syscalls/sysexecve.c: Ditto.
	* libc/syscalls/sysfcntl.c: Ditto.
	* libc/syscalls/sysfork.c: Ditto.
	* libc/syscalls/sysfstat.c: Ditto.
	* libc/syscalls/sysgetpid.c: Ditto.
	* libc/syscalls/sysgettod.c: Ditto.
	* libc/syscalls/syskill.c: Ditto.
	* libc/syscalls/syslink.c: Ditto.
	* libc/syscalls/syslseek.c: Ditto.
	* libc/syscalls/sysopen.c: Ditto.
	* libc/syscalls/sysread.c: Ditto.
	* libc/syscalls/syssbrk.c: Ditto.
	* libc/syscalls/sysstat.c: Ditto.
	* libc/syscalls/systimes.c: Ditto.
	* libc/syscalls/sysunlink.c: Ditto.
	* libc/syscalls/syswait.c: Ditto.
	* libc/syscalls/syswrite.c: Ditto.

2003-06-03  Till Straumann  <strauman@SLAC.Stanford.EDU>

	* libc/time/tzset_r.c: Change local variables that are
	set via sscanf using the %h format specifier to be unsigned short
	instead of int.

2003-05-30  Kelley Cook  <kelleycook@wideopenwest.com>

	* configure.host:  Allow i[34567]86 variant.
	* configure.in: Likewise.
	* README: Likewise to the docs.
	* configure: Regenerated.
	* Makefile.in: Ditto.

2003-05-28  Jeff Johnston  <jjohnstn@redhat.com>
	    Tom Fitzsimmons  <fitzsim@redhat.com>

	* configure.in: Add iconvdata support for x86 linux.
	* configure: Regenerated.
	* libc/sys/linux/Makefile.am: Add EL/IX level 3 network, dynamic
	library, iconv, and linuxthreads support.
	* libc/sys/linux/configure.in: Ditto.
	* libc/sys/linux/Makefile.in: Regenerated.
	* libc/sys/linux/configure: Ditto.
	* iconvdata/EUC-JP.irreversible: New file.
	* iconvdata/Makefile.am: Ditto.
	* iconvdata/Makefile.in: Ditto.
	* iconvdata/SJIS.irreversible: Ditto.
	* iconvdata/aclocal.m4: Ditto.
	* iconvdata/configure: Ditto.
	* iconvdata/configure.in: Ditto.
	* iconvdata/dummy.c: Ditto.
	* iconvdata/euc-jp.c: Ditto.
	* iconvdata/gconv-modules: Ditto.
	* iconvdata/jis0201.c: Ditto.
	* iconvdata/jis0201.h: Ditto.
	* iconvdata/jis0208.c: Ditto.
	* iconvdata/jis0208.h: Ditto.
	* iconvdata/jis0212.c: Ditto.
	* iconvdata/jis0212.h: Ditto.
	* iconvdata/sjis.c: Ditto.
	* libc/include/errno.h: Protect definition of error_t.
	* libc/sys/linux/gethostid.c: New file.
	* libc/sys/linux/sethostid.c: Ditto.
	* libc/sys/linux/dl/Makefile.am: Ditto.
	* libc/sys/linux/dl/Makefile.in: Ditto.
	* libc/sys/linux/dl/abi-tag.h: Ditto.
	* libc/sys/linux/dl/atomicity.h: Ditto.
	* libc/sys/linux/dl/dl-addr.c: Ditto.
	* libc/sys/linux/dl/dl-cache.c: Ditto.
	* libc/sys/linux/dl/dl-cache.h: Ditto.
	* libc/sys/linux/dl/dl-close.c: Ditto.
	* libc/sys/linux/dl/dl-debug.c: Ditto.
	* libc/sys/linux/dl/dl-deps.c: Ditto.
	* libc/sys/linux/dl/dl-dst.h: Ditto.
	* libc/sys/linux/dl/dl-error.c: Ditto.
	* libc/sys/linux/dl/dl-fini.c: Ditto.
	* libc/sys/linux/dl/dl-init.c: Ditto.
	* libc/sys/linux/dl/dl-iteratephdr.c: Ditto.
	* libc/sys/linux/dl/dl-libc.c: Ditto.
	* libc/sys/linux/dl/dl-librecon.h: Ditto.
	* libc/sys/linux/dl/dl-load.c: Ditto.
	* libc/sys/linux/dl/dl-lookup.c: Ditto.
	* libc/sys/linux/dl/dl-lookupcfg.h: Ditto.
	* libc/sys/linux/dl/dl-minimal.c: Ditto.
	* libc/sys/linux/dl/dl-misc.c: Ditto.
	* libc/sys/linux/dl/dl-object.c: Ditto.
	* libc/sys/linux/dl/dl-open.c: Ditto.
	* libc/sys/linux/dl/dl-osinfo.h: Ditto.
	* libc/sys/linux/dl/dl-profile.c: Ditto.
	* libc/sys/linux/dl/dl-profstub.c: Ditto.
	* libc/sys/linux/dl/dl-reloc.c: Ditto.
	* libc/sys/linux/dl/dl-runtime.c: Ditto.
	* libc/sys/linux/dl/dl-support.c: Ditto.
	* libc/sys/linux/dl/dl-sym.c: Ditto.
	* libc/sys/linux/dl/dl-version.c: Ditto.
	* libc/sys/linux/dl/dlfcn.h: Ditto.
	* libc/sys/linux/dl/do-lookup.h: Ditto.
	* libc/sys/linux/dl/do-rel.h: Ditto.
	* libc/sys/linux/dl/dynamic-link.h: Ditto.
	* libc/sys/linux/dl/kernel-features.h: Ditto.
	* libc/sys/linux/dl/ldsodefs.h: Ditto.
	* libc/sys/linux/dl/libintl.h: Ditto.
	* libc/sys/linux/dl/trusted-dirs.h: Ditto.
	* libc/sys/linux/dl/unsecvars.h: Ditto.
	* libc/sys/linux/iconv/Makefile.am: Ditto.
	* libc/sys/linux/iconv/Makefile.in: Ditto.
	* libc/sys/linux/iconv/categories.def: Ditto.
	* libc/sys/linux/iconv/dummy-repertoire.c: Ditto.
	* libc/sys/linux/iconv/gconv.c: Ditto.
	* libc/sys/linux/iconv/gconv_builtin.c: Ditto.
	* libc/sys/linux/iconv/gconv_builtin.h: Ditto.
	* libc/sys/linux/iconv/gconv_cache.c: Ditto.
	* libc/sys/linux/iconv/gconv_charset.h: Ditto.
	* libc/sys/linux/iconv/gconv_close.c: Ditto.
	* libc/sys/linux/iconv/gconv_conf.c: Ditto.
	* libc/sys/linux/iconv/gconv_db.c: Ditto.
	* libc/sys/linux/iconv/gconv_dl.c: Ditto.
	* libc/sys/linux/iconv/gconv_int.h: Ditto.
	* libc/sys/linux/iconv/gconv_open.c: Ditto.
	* libc/sys/linux/iconv/gconv_simple.c: Ditto.
	* libc/sys/linux/iconv/gconv_trans.c: Ditto.
	* libc/sys/linux/iconv/hash-string.h: Ditto.
	* libc/sys/linux/iconv/iconv.c: Ditto.
	* libc/sys/linux/iconv/iconv.h: Ditto.
	* libc/sys/linux/iconv/iconv_charmap.c: Ditto.
	* libc/sys/linux/iconv/iconv_close.c: Ditto.
	* libc/sys/linux/iconv/iconv_open.c: Ditto.
	* libc/sys/linux/iconv/iconvconfig.c: Ditto.
	* libc/sys/linux/iconv/iconvconfig.h: Ditto.
	* libc/sys/linux/iconv/loadinfo.h: Ditto.
	* libc/sys/linux/iconv/localeinfo.h: Ditto.
	* libc/sys/linux/iconv/loop.c: Ditto.
	* libc/sys/linux/iconv/skeleton.c: Ditto.
	* libc/sys/linux/iconv/strtab.c: Ditto.
	* libc/sys/linux/include/dl-hash.h: Ditto.
	* libc/sys/linux/include/dlfcn.h: Ditto.
	* libc/sys/linux/include/fnmatch.h: Ditto.
	* libc/sys/linux/include/gconv.h: Ditto.
	* libc/sys/linux/include/glob.h: Ditto.
	* libc/sys/linux/include/hesiod.h: Ditto.
	* libc/sys/linux/include/ifaddrs.h: Ditto.
	* libc/sys/linux/include/libc_private.h: Ditto.
	* libc/sys/linux/include/link.h: Ditto.
	* libc/sys/linux/include/namespace.h: Ditto.
	* libc/sys/linux/include/netconfig.h: Ditto.
	* libc/sys/linux/include/netdb.h: Ditto.
	* libc/sys/linux/include/nsswitch.h: Ditto.
	* libc/sys/linux/include/regex.h: Ditto.
	* libc/sys/linux/include/resolv.h: Ditto.
	* libc/sys/linux/include/rune.h: Ditto.
	* libc/sys/linux/include/runetype.h: Ditto.
	* libc/sys/linux/include/semaphore.h: Ditto.
	* libc/sys/linux/include/setlocale.h: Ditto.
	* libc/sys/linux/include/un-namespace.h: Ditto.
	* libc/sys/linux/include/wordexp.h: Ditto.
	* libc/sys/linux/include/arpa/ftp.h: Ditto.
	* libc/sys/linux/include/arpa/inet.h: Ditto.
	* libc/sys/linux/include/arpa/nameser.h: Ditto.
	* libc/sys/linux/include/arpa/nameser_compat.h: Ditto.
	* libc/sys/linux/include/arpa/telnet.h: Ditto.
	* libc/sys/linux/include/arpa/tftp.h: Ditto.
	* libc/sys/linux/include/net/bpf.h: Ditto.
	* libc/sys/linux/include/net/bpf_compat.h: Ditto.
	* libc/sys/linux/include/net/bpfdesc.h: Ditto.
	* libc/sys/linux/include/net/bridge.h: Ditto.
	* libc/sys/linux/include/net/ethernet.h: Ditto.
	* libc/sys/linux/include/net/fddi.h: Ditto.
	* libc/sys/linux/include/net/if.h: Ditto.
	* libc/sys/linux/include/net/if_arc.h: Ditto.
	* libc/sys/linux/include/net/if_arp.h: Ditto.
	* libc/sys/linux/include/net/if_atm.h: Ditto.
	* libc/sys/linux/include/net/if_dl.h: Ditto.
	* libc/sys/linux/include/net/if_gif.h: Ditto.
	* libc/sys/linux/include/net/if_ieee80211.h: Ditto.
	* libc/sys/linux/include/net/if_llc.h: Ditto.
	* libc/sys/linux/include/net/if_media.h: Ditto.
	* libc/sys/linux/include/net/if_mib.h: Ditto.
	* libc/sys/linux/include/net/if_ppp.h: Ditto.
	* libc/sys/linux/include/net/if_pppvar.h: Ditto.
	* libc/sys/linux/include/net/if_slvar.h: Ditto.
	* libc/sys/linux/include/net/if_sppp.h: Ditto.
	* libc/sys/linux/include/net/if_stf.h: Ditto.
	* libc/sys/linux/include/net/if_tap.h: Ditto.
	* libc/sys/linux/include/net/if_tapvar.h: Ditto.
	* libc/sys/linux/include/net/if_tun.h: Ditto.
	* libc/sys/linux/include/net/if_tunvar.h: Ditto.
	* libc/sys/linux/include/net/if_types.h: Ditto.
	* libc/sys/linux/include/net/if_var.h: Ditto.
	* libc/sys/linux/include/net/if_vlan_var.h: Ditto.
	* libc/sys/linux/include/net/intrq.h: Ditto.
	* libc/sys/linux/include/net/iso88025.h: Ditto.
	* libc/sys/linux/include/net/net_osdep.h: Ditto.
	* libc/sys/linux/include/net/netisr.h: Ditto.
	* libc/sys/linux/include/net/pfil.h: Ditto.
	* libc/sys/linux/include/net/pfkeyv2.h: Ditto.
	* libc/sys/linux/include/net/ppp_comp.h: Ditto.
	* libc/sys/linux/include/net/ppp_defs.h: Ditto.
	* libc/sys/linux/include/net/radix.h: Ditto.
	* libc/sys/linux/include/net/raw_cb.h: Ditto.
	* libc/sys/linux/include/net/route.h: Ditto.
	* libc/sys/linux/include/net/slcompress.h: Ditto.
	* libc/sys/linux/include/net/slip.h: Ditto.
	* libc/sys/linux/include/net/zlib.h: Ditto.
	* libc/sys/linux/include/netinet/icmp6.h: Ditto.
	* libc/sys/linux/include/netinet/icmp_var.h: Ditto.
	* libc/sys/linux/include/netinet/if_atm.h: Ditto.
	* libc/sys/linux/include/netinet/if_ether.h: Ditto.
	* libc/sys/linux/include/netinet/igmp.h: Ditto.
	* libc/sys/linux/include/netinet/igmp_var.h: Ditto.
	* libc/sys/linux/include/netinet/in.h: Ditto.
	* libc/sys/linux/include/netinet/in_gif.h: Ditto.
	* libc/sys/linux/include/netinet/in_pcb.h: Ditto.
	* libc/sys/linux/include/netinet/in_systm.h: Ditto.
	* libc/sys/linux/include/netinet/in_var.h: Ditto.
	* libc/sys/linux/include/netinet/ip.h: Ditto.
	* libc/sys/linux/include/netinet/ip6.h: Ditto.
	* libc/sys/linux/include/netinet/ip_dummynet.h: Ditto.
	* libc/sys/linux/include/netinet/ip_ecn.h: Ditto.
	* libc/sys/linux/include/netinet/ip_encap.h: Ditto.
	* libc/sys/linux/include/netinet/ip_flow.h: Ditto.
	* libc/sys/linux/include/netinet/ip_fw.h: Ditto.
	* libc/sys/linux/include/netinet/ip_icmp.h: Ditto.
	* libc/sys/linux/include/netinet/ip_mroute.h: Ditto.
	* libc/sys/linux/include/netinet/ip_var.h: Ditto.
	* libc/sys/linux/include/netinet/ipprotosw.h: Ditto.
	* libc/sys/linux/include/netinet/tcp.h: Ditto.
	* libc/sys/linux/include/netinet/tcp_debug.h: Ditto.
	* libc/sys/linux/include/netinet/tcp_fsm.h: Ditto.
	* libc/sys/linux/include/netinet/tcp_seq.h: Ditto.
	* libc/sys/linux/include/netinet/tcp_timer.h: Ditto.
	* libc/sys/linux/include/netinet/tcp_var.h: Ditto.
	* libc/sys/linux/include/netinet/tcpip.h: Ditto.
	* libc/sys/linux/include/netinet/udp.h: Ditto.
	* libc/sys/linux/include/netinet/udp_var.h: Ditto.
	* libc/sys/linux/include/netinet6/ah.h: Ditto.
	* libc/sys/linux/include/netinet6/ah6.h: Ditto.
	* libc/sys/linux/include/netinet6/esp.h: Ditto.
	* libc/sys/linux/include/netinet6/esp6.h: Ditto.
	* libc/sys/linux/include/netinet6/esp_rijndael.h: Ditto.
	* libc/sys/linux/include/netinet6/icmp6.h: Ditto.
	* libc/sys/linux/include/netinet6/in6.h: Ditto.
	* libc/sys/linux/include/netinet6/in6_gif.h: Ditto.
	* libc/sys/linux/include/netinet6/in6_ifattach.h: Ditto.
	* libc/sys/linux/include/netinet6/in6_pcb.h: Ditto.
	* libc/sys/linux/include/netinet6/in6_prefix.h: Ditto.
	* libc/sys/linux/include/netinet6/in6_var.h: Ditto.
	* libc/sys/linux/include/netinet6/ip6.h: Ditto.
	* libc/sys/linux/include/netinet6/ip6_ecn.h: Ditto.
	* libc/sys/linux/include/netinet6/ip6_fw.h: Ditto.
	* libc/sys/linux/include/netinet6/ip6_mroute.h: Ditto.
	* libc/sys/linux/include/netinet6/ip6_var.h: Ditto.
	* libc/sys/linux/include/netinet6/ip6protosw.h: Ditto.
	* libc/sys/linux/include/netinet6/ipcomp.h: Ditto.
	* libc/sys/linux/include/netinet6/ipcomp6.h: Ditto.
	* libc/sys/linux/include/netinet6/ipsec.h: Ditto.
	* libc/sys/linux/include/netinet6/ipsec6.h: Ditto.
	* libc/sys/linux/include/netinet6/mld6_var.h: Ditto.
	* libc/sys/linux/include/netinet6/nd6.h: Ditto.
	* libc/sys/linux/include/netinet6/pim6.h: Ditto.
	* libc/sys/linux/include/netinet6/pim6_var.h: Ditto.
	* libc/sys/linux/include/netinet6/raw_ip6.h: Ditto.
	* libc/sys/linux/include/netinet6/scope6_var.h: Ditto.
	* libc/sys/linux/include/netinet6/tcp6_var.h: Ditto.
	* libc/sys/linux/include/netinet6/udp6_var.h: Ditto.
	* libc/sys/linux/include/netns/idp.h: Ditto.
	* libc/sys/linux/include/netns/idp_var.h: Ditto.
	* libc/sys/linux/include/netns/ns.h: Ditto.
	* libc/sys/linux/include/netns/ns_error.h: Ditto.
	* libc/sys/linux/include/netns/ns_if.h: Ditto.
	* libc/sys/linux/include/netns/ns_pcb.h: Ditto.
	* libc/sys/linux/include/netns/sp.h: Ditto.
	* libc/sys/linux/include/netns/spidp.h: Ditto.
	* libc/sys/linux/include/netns/spp_debug.h: Ditto.
	* libc/sys/linux/include/netns/spp_timer.h: Ditto.
	* libc/sys/linux/include/netns/spp_var.h: Ditto.
	* libc/sys/linux/include/rpc/Makefile: Ditto.
	* libc/sys/linux/include/rpc/auth.h: Ditto.
	* libc/sys/linux/include/rpc/auth_des.h: Ditto.
	* libc/sys/linux/include/rpc/auth_kerb.h: Ditto.
	* libc/sys/linux/include/rpc/auth_unix.h: Ditto.
	* libc/sys/linux/include/rpc/clnt.h: Ditto.
	* libc/sys/linux/include/rpc/clnt_soc.h: Ditto.
	* libc/sys/linux/include/rpc/clnt_stat.h: Ditto.
	* libc/sys/linux/include/rpc/des.h: Ditto.
	* libc/sys/linux/include/rpc/des_crypt.h: Ditto.
	* libc/sys/linux/include/rpc/nettype.h: Ditto.
	* libc/sys/linux/include/rpc/pmap_clnt.h: Ditto.
	* libc/sys/linux/include/rpc/pmap_prot.h: Ditto.
	* libc/sys/linux/include/rpc/pmap_rmt.h: Ditto.
	* libc/sys/linux/include/rpc/raw.h: Ditto.
	* libc/sys/linux/include/rpc/rpc.h: Ditto.
	* libc/sys/linux/include/rpc/rpc_com.h: Ditto.
	* libc/sys/linux/include/rpc/rpc_msg.h: Ditto.
	* libc/sys/linux/include/rpc/rpcb_clnt.h: Ditto.
	* libc/sys/linux/include/rpc/rpcb_prot.h: Ditto.
	* libc/sys/linux/include/rpc/rpcb_prot.x: Ditto.
	* libc/sys/linux/include/rpc/rpcent.h: Ditto.
	* libc/sys/linux/include/rpc/svc.h: Ditto.
	* libc/sys/linux/include/rpc/svc_auth.h: Ditto.
	* libc/sys/linux/include/rpc/svc_dg.h: Ditto.
	* libc/sys/linux/include/rpc/svc_soc.h: Ditto.
	* libc/sys/linux/include/rpc/types.h: Ditto.
	* libc/sys/linux/include/rpc/xdr.h: Ditto.
	* libc/sys/linux/intl/Makefile.am: Ditto.
	* libc/sys/linux/intl/Makefile.in: Ditto.
	* libc/sys/linux/intl/bindtextdom.c: Ditto.
	* libc/sys/linux/intl/catgets.c: Ditto.
	* libc/sys/linux/intl/catgetsinfo.h: Ditto.
	* libc/sys/linux/intl/config.h: Ditto.
	* libc/sys/linux/intl/dcgettext.c: Ditto.
	* libc/sys/linux/intl/dcigettext.c: Ditto.
	* libc/sys/linux/intl/dcngettext.c: Ditto.
	* libc/sys/linux/intl/dgettext.c: Ditto.
	* libc/sys/linux/intl/dngettext.c: Ditto.
	* libc/sys/linux/intl/explodename.c: Ditto.
	* libc/sys/linux/intl/finddomain.c: Ditto.
	* libc/sys/linux/intl/gettext.c: Ditto.
	* libc/sys/linux/intl/gettext.h: Ditto.
	* libc/sys/linux/intl/gettextP.h: Ditto.
	* libc/sys/linux/intl/hash-string.h: Ditto.
	* libc/sys/linux/intl/l10nflist.c: Ditto.
	* libc/sys/linux/intl/loadinfo.h: Ditto.
	* libc/sys/linux/intl/loadmsgcat.c: Ditto.
	* libc/sys/linux/intl/locale.alias: Ditto.
	* libc/sys/linux/intl/localealias.c: Ditto.
	* libc/sys/linux/intl/ngettext.c: Ditto.
	* libc/sys/linux/intl/open_catalog.c: Ditto.
	* libc/sys/linux/intl/plural.c: Ditto.
	* libc/sys/linux/intl/plural.y: Ditto.
	* libc/sys/linux/intl/stpcpy.c: Ditto.
	* libc/sys/linux/intl/textdomain.c: Ditto.
	* libc/sys/linux/linuxthreads/LICENSE: Ditto.
	* libc/sys/linux/linuxthreads/Makefile.am: Ditto.
	* libc/sys/linux/linuxthreads/Makefile.in: Ditto.
	* libc/sys/linux/linuxthreads/aclocal.m4: Ditto.
	* libc/sys/linux/linuxthreads/attr.c: Ditto.
	* libc/sys/linux/linuxthreads/barrier.c: Ditto.
	* libc/sys/linux/linuxthreads/bp-sym.h: Ditto.
	* libc/sys/linux/linuxthreads/cancel.c: Ditto.
	* libc/sys/linux/linuxthreads/condvar.c: Ditto.
	* libc/sys/linux/linuxthreads/config.h: Ditto.
	* libc/sys/linux/linuxthreads/configure: Ditto.
	* libc/sys/linux/linuxthreads/configure.in: Ditto.
	* libc/sys/linux/linuxthreads/defs.awk: Ditto.
	* libc/sys/linux/linuxthreads/ecmutex.c: Ditto.
	* libc/sys/linux/linuxthreads/events.c: Ditto.
	* libc/sys/linux/linuxthreads/getcpuclockid.c: Ditto.
	* libc/sys/linux/linuxthreads/getreent.c: Ditto.
	* libc/sys/linux/linuxthreads/internals.h: Ditto.
	* libc/sys/linux/linuxthreads/join.c: Ditto.
	* libc/sys/linux/linuxthreads/joinrace.c: Ditto.
	* libc/sys/linux/linuxthreads/kernel-features.h: Ditto.
	* libc/sys/linux/linuxthreads/libc-internal.h: Ditto.
	* libc/sys/linux/linuxthreads/libc-symbols.h: Ditto.
	* libc/sys/linux/linuxthreads/linuxthreads.texi: Ditto.
	* libc/sys/linux/linuxthreads/lockfile.c: Ditto.
	* libc/sys/linux/linuxthreads/manager.c: Ditto.
	* libc/sys/linux/linuxthreads/mq_notify.c: Ditto.
	* libc/sys/linux/linuxthreads/mutex.c: Ditto.
	* libc/sys/linux/linuxthreads/no-tsd.c: Ditto.
	* libc/sys/linux/linuxthreads/oldsemaphore.c: Ditto.
	* libc/sys/linux/linuxthreads/posix-timer.h: Ditto.
	* libc/sys/linux/linuxthreads/prio.c: Ditto.
	* libc/sys/linux/linuxthreads/proc_service.h: Ditto.
	* libc/sys/linux/linuxthreads/pt-machine.c: Ditto.
	* libc/sys/linux/linuxthreads/ptclock_gettime.c: Ditto.
	* libc/sys/linux/linuxthreads/ptclock_settime.c: Ditto.
	* libc/sys/linux/linuxthreads/ptfork.c: Ditto.
	* libc/sys/linux/linuxthreads/pthread.c: Ditto.
	* libc/sys/linux/linuxthreads/ptlongjmp.c: Ditto.
	* libc/sys/linux/linuxthreads/queue.h: Ditto.
	* libc/sys/linux/linuxthreads/reent.c: Ditto.
	* libc/sys/linux/linuxthreads/reqsyscalls.c: Ditto.
	* libc/sys/linux/linuxthreads/restart.h: Ditto.
	* libc/sys/linux/linuxthreads/rwlock.c: Ditto.
	* libc/sys/linux/linuxthreads/semaphore.c: Ditto.
	* libc/sys/linux/linuxthreads/semaphore.h: Ditto.
	* libc/sys/linux/linuxthreads/shlib-compat.h: Ditto.
	* libc/sys/linux/linuxthreads/signals.c: Ditto.
	* libc/sys/linux/linuxthreads/specific.c: Ditto.
	* libc/sys/linux/linuxthreads/spinlock.c: Ditto.
	* libc/sys/linux/linuxthreads/spinlock.h: Ditto.
	* libc/sys/linux/linuxthreads/sysctl.c: Ditto.
	* libc/sys/linux/linuxthreads/td_init.c: Ditto.
	* libc/sys/linux/linuxthreads/td_log.c: Ditto.
	* libc/sys/linux/linuxthreads/td_symbol_list.c: Ditto.
	* libc/sys/linux/linuxthreads/td_ta_clear_event.c: Ditto.
	* libc/sys/linux/linuxthreads/td_ta_delete.c: Ditto.
	* libc/sys/linux/linuxthreads/td_ta_enable_stats.c: Ditto.
	* libc/sys/linux/linuxthreads/td_ta_event_addr.c: Ditto.
	* libc/sys/linux/linuxthreads/td_ta_event_getmsg.c: Ditto.
	* libc/sys/linux/linuxthreads/td_ta_get_nthreads.c: Ditto.
	* libc/sys/linux/linuxthreads/td_ta_get_ph.c: Ditto.
	* libc/sys/linux/linuxthreads/td_ta_get_stats.c: Ditto.
	* libc/sys/linux/linuxthreads/td_ta_map_id2thr.c: Ditto.
	* libc/sys/linux/linuxthreads/td_ta_map_lwp2thr.c: Ditto.
	* libc/sys/linux/linuxthreads/td_ta_new.c: Ditto.
	* libc/sys/linux/linuxthreads/td_ta_reset_stats.c: Ditto.
	* libc/sys/linux/linuxthreads/td_ta_set_event.c: Ditto.
	* libc/sys/linux/linuxthreads/td_ta_setconcurrency.c: Ditto.
	* libc/sys/linux/linuxthreads/td_ta_thr_iter.c: Ditto.
	* libc/sys/linux/linuxthreads/td_ta_tsd_iter.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_clear_event.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_dbresume.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_dbsuspend.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_event_enable.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_event_getmsg.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_get_info.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_getfpregs.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_getgregs.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_getxregs.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_getxregsize.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_set_event.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_setfpregs.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_setgregs.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_setprio.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_setsigpending.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_setxregs.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_sigsetmask.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_tsd.c: Ditto.
	* libc/sys/linux/linuxthreads/td_thr_validate.c: Ditto.
	* libc/sys/linux/linuxthreads/testrtsig.h: Ditto.
	* libc/sys/linux/linuxthreads/thread_db.h: Ditto.
	* libc/sys/linux/linuxthreads/thread_dbP.h: Ditto.
	* libc/sys/linux/linuxthreads/timer_create.c: Ditto.
	* libc/sys/linux/linuxthreads/timer_delete.c: Ditto.
	* libc/sys/linux/linuxthreads/timer_getoverr.c: Ditto.
	* libc/sys/linux/linuxthreads/timer_gettime.c: Ditto.
	* libc/sys/linux/linuxthreads/timer_routines.c: Ditto.
	* libc/sys/linux/linuxthreads/timer_settime.c: Ditto.
	* libc/sys/linux/linuxthreads/tst-cancel.c: Ditto.
	* libc/sys/linux/linuxthreads/tst-context.c: Ditto.
	* libc/sys/linux/linuxthreads/tststack.c: Ditto.
	* libc/sys/linux/linuxthreads/unload.c: Ditto.
	* libc/sys/linux/linuxthreads/weaks.c: Ditto.
	* libc/sys/linux/linuxthreads/wrapsyscall.c: Ditto.
	* libc/sys/linux/linuxthreads/bits/initspin.h: Ditto.
	* libc/sys/linux/linuxthreads/bits/libc-lock.h: Ditto.
	* libc/sys/linux/linuxthreads/bits/libc-tsd.h: Ditto.
	* libc/sys/linux/linuxthreads/bits/local_lim.h: Ditto.
	* libc/sys/linux/linuxthreads/bits/posix_opt.h: Ditto.
	* libc/sys/linux/linuxthreads/bits/pthreadtypes.h: Ditto.
	* libc/sys/linux/linuxthreads/bits/sigthread.h: Ditto.
	* libc/sys/linux/linuxthreads/machine/Makefile.am: Ditto.
	* libc/sys/linux/linuxthreads/machine/Makefile.in: Ditto.
	* libc/sys/linux/linuxthreads/machine/aclocal.m4: Ditto.
	* libc/sys/linux/linuxthreads/machine/configure: Ditto.
	* libc/sys/linux/linuxthreads/machine/configure.in: Ditto.
	* libc/sys/linux/linuxthreads/machine/generic/generic-sysd: Ditto.ep.h
	* libc/sys/linux/linuxthreads/machine/i386/Makefile.am: Ditto.
	* libc/sys/linux/linuxthreads/machine/i386/Makefile.in: Ditto.
	* libc/sys/linux/linuxthreads/machine/i386/aclocal.m4: Ditto.
	* libc/sys/linux/linuxthreads/machine/i386/bp-asm.h: Ditto.
	* libc/sys/linux/linuxthreads/machine/i386/clone.S: Ditto.
	* libc/sys/linux/linuxthreads/machine/i386/configure: Ditto.
	* libc/sys/linux/linuxthreads/machine/i386/configure.in: Ditto.
	* libc/sys/linux/linuxthreads/machine/i386/i386-sysdep.S: Ditto.
	* libc/sys/linux/linuxthreads/machine/i386/i386-sysdep.h: Ditto.
	* libc/sys/linux/linuxthreads/machine/i386/pspinlock.c: Ditto.
	* libc/sys/linux/linuxthreads/machine/i386/pt-machine.h: Ditto.
	* libc/sys/linux/linuxthreads/machine/i386/sigcontextinfo.h: Ditto.
	* libc/sys/linux/linuxthreads/machine/i386/stackinfo.h: Ditto.
	* libc/sys/linux/linuxthreads/machine/i386/sysdep.S: Ditto.
	* libc/sys/linux/linuxthreads/machine/i386/sysdep.h: Ditto.
	* libc/sys/linux/linuxthreads/machine/i386/useldt.h: Ditto.
	* libc/sys/linux/machine/i386/dl-machine.h: Ditto.
	* libc/sys/linux/net/Makefile.am: Ditto.
	* libc/sys/linux/net/Makefile.in: Ditto.
	* libc/sys/linux/net/addr2ascii.3: Ditto.
	* libc/sys/linux/net/addr2ascii.c: Ditto.
	* libc/sys/linux/net/ascii2addr.c: Ditto.
	* libc/sys/linux/net/base64.c: Ditto.
	* libc/sys/linux/net/bindresvport.c: Ditto.
	* libc/sys/linux/net/byteorder.3: Ditto.
	* libc/sys/linux/net/ether_addr.c: Ditto.
	* libc/sys/linux/net/ethers.3: Ditto.
	* libc/sys/linux/net/getaddrinfo.3: Ditto.
	* libc/sys/linux/net/getaddrinfo.c: Ditto.
	* libc/sys/linux/net/gethostbydns.c: Ditto.
	* libc/sys/linux/net/gethostbyht.c: Ditto.
	* libc/sys/linux/net/gethostbyname.3: Ditto.
	* libc/sys/linux/net/gethostbynis.c: Ditto.
	* libc/sys/linux/net/gethostnamadr.c: Ditto.
	* libc/sys/linux/net/getifaddrs.3: Ditto.
	* libc/sys/linux/net/getifaddrs.c: Ditto.
	* libc/sys/linux/net/getipnodebyname.3: Ditto.
	* libc/sys/linux/net/getnameinfo.3: Ditto.
	* libc/sys/linux/net/getnameinfo.c: Ditto.
	* libc/sys/linux/net/getnetbydns.c: Ditto.
	* libc/sys/linux/net/getnetbyht.c: Ditto.
	* libc/sys/linux/net/getnetbynis.c: Ditto.
	* libc/sys/linux/net/getnetent.3: Ditto.
	* libc/sys/linux/net/getnetnamadr.c: Ditto.
	* libc/sys/linux/net/getproto.c: Ditto.
	* libc/sys/linux/net/getprotoent.3: Ditto.
	* libc/sys/linux/net/getprotoent.c: Ditto.
	* libc/sys/linux/net/getprotoname.c: Ditto.
	* libc/sys/linux/net/getservbyname.c: Ditto.
	* libc/sys/linux/net/getservbyport.c: Ditto.
	* libc/sys/linux/net/getservent.3: Ditto.
	* libc/sys/linux/net/getservent.c: Ditto.
	* libc/sys/linux/net/herror.c: Ditto.
	* libc/sys/linux/net/hesiod.3: Ditto.
	* libc/sys/linux/net/hesiod.c: Ditto.
	* libc/sys/linux/net/if_indextoname.3: Ditto.
	* libc/sys/linux/net/ifname.c: Ditto.
	* libc/sys/linux/net/inet.3: Ditto.
	* libc/sys/linux/net/inet6_option_s: Ditto.pace.3
	* libc/sys/linux/net/inet6_rthdr_space.3: Ditto.
	* libc/sys/linux/net/inet_addr.c: Ditto.
	* libc/sys/linux/net/inet_lnaof.c: Ditto.
	* libc/sys/linux/net/inet_makeaddr.c: Ditto.
	* libc/sys/linux/net/inet_net.3: Ditto.
	* libc/sys/linux/net/inet_net_ntop.c: Ditto.
	* libc/sys/linux/net/inet_net_pton.c: Ditto.
	* libc/sys/linux/net/inet_neta.c: Ditto.
	* libc/sys/linux/net/inet_netof.c: Ditto.
	* libc/sys/linux/net/inet_network.c: Ditto.
	* libc/sys/linux/net/inet_ntoa.c: Ditto.
	* libc/sys/linux/net/inet_ntop.c: Ditto.
	* libc/sys/linux/net/inet_pton.c: Ditto.
	* libc/sys/linux/net/innetgr-stub.c: Ditto.
	* libc/sys/linux/net/ip6opt.c: Ditto.
	* libc/sys/linux/net/iso_addr.3: Ditto.
	* libc/sys/linux/net/iso_addr.c: Ditto.
	* libc/sys/linux/net/issetugid-stub.c: Ditto.
	* libc/sys/linux/net/linkaddr.3: Ditto.
	* libc/sys/linux/net/linkaddr.c: Ditto.
	* libc/sys/linux/net/map_v4v6.c: Ditto.
	* libc/sys/linux/net/name6.c: Ditto.
	* libc/sys/linux/net/namespace.h: Ditto.
	* libc/sys/linux/net/ns.3: Ditto.
	* libc/sys/linux/net/ns_addr.c: Ditto.
	* libc/sys/linux/net/ns_name.c: Ditto.
	* libc/sys/linux/net/ns_netint.c: Ditto.
	* libc/sys/linux/net/ns_ntoa.c: Ditto.
	* libc/sys/linux/net/ns_parse.c: Ditto.
	* libc/sys/linux/net/ns_print.c: Ditto.
	* libc/sys/linux/net/ns_ttl.c: Ditto.
	* libc/sys/linux/net/nsap_addr.c: Ditto.
	* libc/sys/linux/net/nsdispatch.3: Ditto.
	* libc/sys/linux/net/nsdispatch.c: Ditto.
	* libc/sys/linux/net/nslexer.c: Ditto.
	* libc/sys/linux/net/nslexer.l: Ditto.
	* libc/sys/linux/net/nsparser.c: Ditto.
	* libc/sys/linux/net/nsparser.h: Ditto.
	* libc/sys/linux/net/nsparser.y: Ditto.
	* libc/sys/linux/net/rcmd.3: Ditto.
	* libc/sys/linux/net/rcmd.c: Ditto.
	* libc/sys/linux/net/rcmdsh.3: Ditto.
	* libc/sys/linux/net/rcmdsh.c: Ditto.
	* libc/sys/linux/net/recv.c: Ditto.
	* libc/sys/linux/net/res_comp.c: Ditto.
	* libc/sys/linux/net/res_config.h: Ditto.
	* libc/sys/linux/net/res_data.c: Ditto.
	* libc/sys/linux/net/res_debug.c: Ditto.
	* libc/sys/linux/net/res_init.c: Ditto.
	* libc/sys/linux/net/res_mkquery.c: Ditto.
	* libc/sys/linux/net/res_mkupdate.c: Ditto.
	* libc/sys/linux/net/res_query.c: Ditto.
	* libc/sys/linux/net/res_send.c: Ditto.
	* libc/sys/linux/net/res_update.c: Ditto.
	* libc/sys/linux/net/resolver.3: Ditto.
	* libc/sys/linux/net/rthdr.c: Ditto.
	* libc/sys/linux/net/send.c: Ditto.
	* libc/sys/linux/net/un-namespace.h: Ditto.
	* libc/sys/linux/net/vars.c: Ditto.
	* libc/sys/linux/stdlib/COPYRIGHT: Ditto.
	* libc/sys/linux/stdlib/Makefile.am: Ditto.
	* libc/sys/linux/stdlib/Makefile.in: Ditto.
	* libc/sys/linux/stdlib/cclass.h: Ditto.
	* libc/sys/linux/stdlib/cname.h: Ditto.
	* libc/sys/linux/stdlib/collate.c: Ditto.
	* libc/sys/linux/stdlib/collate.h: Ditto.
	* libc/sys/linux/stdlib/collcmp.c: Ditto.
	* libc/sys/linux/stdlib/engine.c: Ditto.
	* libc/sys/linux/stdlib/fnmatch.3: Ditto.
	* libc/sys/linux/stdlib/fnmatch.c: Ditto.
	* libc/sys/linux/stdlib/glob.3: Ditto.
	* libc/sys/linux/stdlib/glob.c: Ditto.
	* libc/sys/linux/stdlib/reallocf.c: Ditto.
	* libc/sys/linux/stdlib/regcomp.c: Ditto.
	* libc/sys/linux/stdlib/regerror.c: Ditto.
	* libc/sys/linux/stdlib/regex.3: Ditto.
	* libc/sys/linux/stdlib/regex2.h: Ditto.
	* libc/sys/linux/stdlib/regexec.c: Ditto.
	* libc/sys/linux/stdlib/regfree.c: Ditto.
	* libc/sys/linux/stdlib/utils.h: Ditto.
	* libc/sys/linux/stdlib/wordexp.c: Ditto.
	* libc/sys/linux/stdlib/wordfree.c: Ditto.
	* libc/sys/linux/sys/dlfcn.h: Ditto.
	* libc/sys/linux/sys/elfclass.h: Ditto.
	* libc/sys/linux/sys/event.h: Ditto.
	* libc/sys/linux/sys/ioccom.h: Ditto.
	* libc/sys/linux/sys/libc-tsd.h: Ditto.
	* libc/sys/linux/sys/link.h: Ditto.
	* libc/sys/linux/sys/lock.h: Ditto.
	* libc/sys/linux/sys/param.h: Ditto.
	* libc/sys/linux/sys/socket.h: Ditto.
	* libc/sys/linux/sys/sockio.h: Ditto.

2003-05-28  Dhananjay Deshpande  <dhananjayd@kpitcummins.com>

	* newlib/libc/machine/h8300/memcpy.S: Use .h8300hn and .h8300sn for
	normal mode
	* newlib/libc/machine/h8300/memset.S: Likewise
	* newlib/lib/machine/h8300/reg_memcpy.S: Likewise
	* newlib/lib/machine/h8300/reg_memset.S: Likewise
	* newlib/lib/machine/h8300/setjmp.S: Likewise
	* newlib/lib/machine/h8300/strcmp.S: Likewise
	* newlib/lib/sys/h8300hms/crt0.S: Likewise

2003-05-13  Corinna Vinschen  <corinna@vinschen.de>

	* libc/ctype/ctype_.c: Remove checks for deprecated __CYGWIN32__.
	* libc/include/stdio.h: Ditto.
	* libc/include/sys/config.h: Ditto.
	* libc/stdio/mktemp.c: Ditto.

2003-05-13  Corinna Vinschen  <corinna@vinschen.de>

	* libc/locale/ldpart.c (__part_load_locale): Substitute
	__CYGWIN_USE_BIG_TYPES__ by __USE_INTERNAL_STAT64.
	* libc/search/hash.c (__hash_open): Ditto.
	(init_hash): Ditto.
	* libc/stdio/fseek.c (fseek): Ditto.
	* libc/stdio/makebuf.c (__smakebuf): Ditto.
	* libc/stdio/mktemp.c (_gettemp): Ditto.

2003-05-12  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/stdio.h: Change one __CYGWIN__ to __CYGWIN32__.

2003-05-12  Corinna Vinschen  <corinna@vinschen.de>

	* configure.host: Accomodate removing the libc/sys/cygwin dir.
	* libc/locale/ldpart.c (__part_load_locale): Use 64 bit stat call
	if __CYGWIN_USE_BIG_TYPES__ is set.
	* libc/search/hash.c (__hash_open): Ditto.
	(init_hash): Ditto.
	* libc/stdio/fseek.c (fseek): Ditto.
	* libc/stdio/makebuf.c (__smakebuf): Ditto.
	* libc/stdio/mktemp.c (_gettemp): Ditto.
	* libc/sys/cygwin/Makefile.am: Remove.
	* libc/sys/cygwin/Makefile.in: Remove.
	* libc/sys/cygwin/aclocal.m4: Remove.
	* libc/sys/cygwin/configure: Remove.
	* libc/sys/cygwin/configure.in: Remove.
	* libc/sys/cygwin/crt0.c: Move to winsup/cygwin directory.
	* libc/sys/cygwin/sys/dirent.h: Move to winsup/cygwin/include/sys
	directory.
	* libc/sys/cygwin/sys/param.h: Ditto.
	* libc/sys/cygwin/sys/utime.h: Ditto.
	* libc/sys/cygwin/sys/utmp.h: Ditto.

2003-05-11  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/types.h: Don't define key_t for Cygwin.

2003-05-10  Christopher Faylor  <cgf@redhat.com>

	* libc/sys/cygwin/sys/dirent.h (struct dirent): Accommodate (slightly)
	64 bit inodes.

2003-05-09  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/config.h: Remove all Cygwin specific configuration.
	Include cygwin/config.h instead.

2003-04-16  Jeff Johnston  <jjohnstn@redhat.com>

	* newlib/libc/machine/powerpc (ato*fix*.c,strto*fix*.c): Shield
	all code with #ifdef __SPE__ test.
	* newlib/libc/machine/powerpc (simdldtoa.c, ufix64toa.c): Ditto.

2003-04-15  Chris January <chris@atomice.net>

	* newlib/libc/include/sys/unistd.h: add declaration for gethostid on
	Cygwin.

2003-04-09  J"orn Rennecke <joern.rennecke@superh.com>

	* libc/machine/sh/memset.S: Avoid clobbering volatile
	objects following a tiny to-be-set array in the same quadword.

2001-04-09  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/wchar.h: Add definitions for wcswidth and wcwidth.
	* libc/string/Makefile.am: Add wcswidth.c and wcwidth.c
	* libc/string/Makefile.in: Regenerated.
	* libc/string/wcswidth.c: New file.
	* libc/string/wcwidth.c: New file.
	* libc/string/wcstrings.tex: Add wcswidth and wcwidth.

Thu Apr  3 14:01:16 2003  J"orn Rennecke <joern.rennecke@superh.com>

	* libc/machine/sh/memset.S: Fix problem with alloco region
	exceeding destination region for length >= 88 bytes, start
	& 0x16 == 0, end & 0x1f == 18.

2001-04-03  Corinna Vinschen  <corinna@vinschen.de>

	* libc/string/wcscoll.c: Fix comment.

2001-04-02  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/wchar.h: Add definition for wcscoll.
	* libc/string/Makefile.am: Add wcscoll.c.
	* libc/string/Makefile.in: Regenerated.
	* libc/string/wcscoll.c: New file.
	* libc/string/wcstrings.tex: Add wcscoll.

2003-04-01  Corinna Vinschen  <corinna@vinschen.de>

	* libc/stdio/sscanf.c: Update flags description.
	* libc/stdio/vfscanf.c: Add CHAR flag value to denote 8 bit target
	type.
	(__svfscanf_r): Add 'hh' and 'll' handling.

2003-04-01  Corinna Vinschen  <corinna@vinschen.de>

	* libc/sys/cygwin/sys/dirent.h (struct DIR): Change type of
	__d_position member to _off_t.

2003-03-20  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/vfscanf.c (__svfscanf_r): For floating point conversion,
	count all characters used to create number against maximum width.
	* libc/machine/powerpc/vfscanf.c (__svfscanf_r): Ditto.

2003-03-18  D.Venkatasubramanian  <dvenkat@noida.hcltech.com>

	* libc/include/sys/h8300hms/crt0.S[__SIMULATOR__]: Add commandline
	support.
	* configure.host (h8300*-*-*): Added comment regarding -D__SIMULATOR__
	flag to support simulator only extensions.

2003-03-17  Bob Cassels  <bcassels@abinitio.com>

	* libc/string/wcschr.c: (wcschr): Look for character first,
	then for end of string, so you can do wcschr(x, '\0').

2003-03-10  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/stdio.h: Declare fgetpos, fsetpos, fseeko and ftello
	with internal (_fpos_t and _off_t) datatypes when compiling newlib.
	* libc/include/sys/unistd.h: Declare _lseek using _off_t.
	* libc/reent/lseekr.c (_lseek_r): Use _off_t instead of off_t.
	* libc/stdio/fseeko.c (fseeko): Ditto.
	* libc/stdio/ftello.c (ftello): Ditto.
	* libc/stdio/stdio.c (__swrite): Ditto.
	(__sseek): Ditto.
	* libc/stdio/fgetpos.c (fgetpos): Use _fpos_t instead of fpos_t.
	* libc/stdio/fseek.c (fseek): Ditto.
	* libc/stdio/fsetpos.c (fsetpos): Ditto.
	* libc/stdio/ftell.c (ftell): Ditto.
	* libc/stdio/local.h: Declare __sseek using _off_t.

2003-03-09  Corinna Vinschen  <corinna@vinschen.de>

	* libc/reent/lseekr.c (lseek_r): Use _off_t instead of off_t.

2003-03-09  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/config.h: Define __CYGWIN_USE_BIG_TYPES__ for
	Cygwin.

2003-03-09  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/pwd.h: Add guards to avoid type clashes when compiling
	Cygwin.
	* libc/include/sys/stat.h: Ditto.
	* libc/include/sys/unistd.h: Ditto.
	* libc/sys/cygwin/sys/dirent.h: Ditto.

2003-03-07  Christopher Faylor  <cgf@redhat.com>

	* libc/include/sys/unistd.h: Guard getopt.h call to force only
	declaration of getopt and avoid getopt_long declaration.
	* libc/sys/cygwin/include/unistd.h: Remove.

2003-03-07  Corinna Vinschen  <corinna@vinschen.de>

	* configure.host: Define stdio64_dir for Cygwin.
	* libc/include/stdio.h: Change definition of fpos_t to fulfill
	Cygwin 64bit file access requirements.
	Drop definition of f*64() functions when compiled for Cygwin.
	* libc/include/sys/config.h: Define __LARGE64_FILES for Cygwin.
	* libc/reent/lseek64r.c: Use _off64_t instead of off64_t.
	* libc/stdio64/local64.h: Use _fpos64_t instead of fpos64_t.

2003-03-07   Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/reent.h: Remove extraneous _sig_func
	declaration.

2003-02-25   D.Venkatasubramanian <dvenkat@noida.hcltech.com>

	* libc/sys/h8300hms/Makefile.am: Add support for new files.
	* libc/sys/h8300hms/Makefile.in: Regenerated.
	* libc/sys/h8300hms/close.S: New file.
	* libc/sys/h8300hms/fstat.S: Ditto.
	* libc/sys/h8300hms/lseek.S: Ditto.
	* libc/sys/h8300hms/open.S: Ditto.
	* libc/sys/h8300hms/stat.S: Ditto.
	* libc/sys/h8300hms/read.S: New file to replace read.c.
	* libc/sys/h8300hms/read.c: Removed.
	* libc/sys/h8300hms/syscalls.c: Removed functions _open,
	_lseek, _close, _stat, _fstat.
	* libc/sys/h8300hms/write.S: New file to replace write.c.
	* libc/sys/h8300hms/write.c: Removed.

2003-02-20  Nick Clifton  <nickc@redhat.com>

	* Add support for Cirrus Maverick ARM co-processor:

	2000-09-13  Aldy Hernandez  <aldyh@redhat.com>

		* libc/include/machine/ieeefp.h: Set IEEE_BIG_ENDIAN or
		IEEE_LITTLE_ENDIAN depending on endian mode (cirrus).

	2000-08-11  Aldy Hernandez  <aldyh@redhat.com>

		* configure.host: set sys_dir, syscall_dir, and
		newlib_cflags for ep9312 host.

	* configure.host: Restore alpha sorting of entries in case
	statements.

2003-02-19  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdlib/mallocr.c (unlink): Revert 02/18 fix.

2003-02-18  Christian Groessler  <chris@groessler.org>

	* libc/machine/z8k/setjmp.S (_setjmp / _longjmp): Fix to
	support z8001 segmented mode.

2003-02-18  Earnie Boyd  <earnie@users.sf.net>

	* libc/stdlib/mallocr.c (unlink): Don't assign a value to a pointer
	with a NULL value.

2003-02-10  Christopher Faylor  <cgf@redhat.com>

	* libc/include/sys/types.h: Don't define __MS_types__ for Cygwin.
	Don't define some types under cygwin.

2003-02-07  Jeff Johnston  <jjohnstn@redhat.com>

	* acinclude.m4 (--disable-newlib-supplied-syscalls): New configuration
	option to allow disabling of syscalls being supplied in newlib.
	* aclocal.m4: Regenerated.
	* configure: Ditto.
	* configure.host: Add support of new configuration option and add
	-D__NO_SYSCALLS__ if newlib supplied syscalls are disabled.
	* doc/aclocal.m4: Regenerated.
	* doc/configure: Ditto.
	* libc/*aclocal.m4: Ditto.
	* libc/*configure: Ditto.
	* libm/*aclocal.m4: Ditto.
	* libm/*configure: Ditto.
	* libc/sys/arm/Makefile.am: Don't build syscalls.o if new option
	is disabled.
	* libc/sys/arm/Makefile.in: Regenerated.

2003-02-05  Jonathan Larmour  <jifl@eCosCentric.com>

	* libc/stdio/vsprintf.c (vsprintf, _vsprintf_r): Set _file fd to
	-1 to be sure it cannot later match a valid file fd causing
	isatty() to return 1.
	* libc/stdio/asprintf.c (asprintf, _asprintf_r): Ditto.
	* libc/stdio/sprintf.c (sprintf, _sprintf_r): Ditto.
	* libc/stdio/vasprintf.c (vasprintf, _vasprintf_r): Ditto.

2003-02-03  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdlib/ldtoa.c (_ldtoa_r): Fix code to allocate the format
	buffer based on the precision, after we have processed the input value
	in a local buffer and know its relative magnitude.

2003-01-31  Michael Snyder  <msnyder@redhat.com>

	* libc/sys/h8300hms/_exit.c (_exit, __exit):  Slip a magic cookie
	into registers r1 and r2, so that the simulator can distinguish
	this trap from a breakpoint trap.  Copied from libgloss.

2003-01-31  Michael Snyder  <msnyder@redhat.com>

	* libc/sys/h8300hms/crt0.S (_start): Change local label
	from .loop to .Loop, so that ld and gdb will ignore it.

2003-01-29  Jason Tishler  <jason@tishler.net>

	* libc/include/time.h: Declare nanosleep() under Cygwin.

2003-01-24  Nick Clifton  <nickc@redhat.com>

	* Add sh2e support:

	2002-04-02  Alexandre Oliva  <aoliva@redhat.com>

		* libc/machine/sh/asm.h: Added __SH2E__ next to __SH3E__.
		* libc/machine/sh/setjmp.S: Likewise.
		* libc/include/machine/ieeefp.h: Likewise.

2003-01-24  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/unistd.h: Add setregid and setreuid declarations
	for Cygwin.

2003-01-21 Anita Kulkarni  <anitak@kpit.com>

	* libc/time/difftime.c : Typecast the result to double.

2003-01-20  Christopher Faylor  <cgf@redhat.com>

	* libc/include/sys/unistd.h: Add rresvport declaration for cygwin.

2003-01-18  Nick Clifton  <nickc@redhat.com>

	* libc/include/machine/ieeefp.h : Define __IEEE_BIG_ENDIAN,
	__SMALL_BITFIELDS and _DOUBLE_IS_32BITS for IP2K.

2003-01-16  Joel Sherrill <joel@OARcorp.com>

	* libc/sys/rtems/include/limits.h, libc/sys/rtems/sys/param.h,
	libc/sys/rtems/sys/syslimits.h: Update to be in sync with what
	constants are defined in each file in the shared versions in
	libc/include.
	* libc/sys/rtems/crt0.c: Define extra symbols on SH and HP-PA to
	autoconf can link programs.
	* libc/include/machine/types.h: Explicitly specify signed on
	intXX_t types to ensure they are signed.

2003-01-14  Christopher Faylor  <cgf@redhat.com>

	* libc/time/strftime.c (strftime): Add '%h' and '%l, %k' GNU
	extensions.

2003-01-08  Richard Sandiford  <rsandifo@redhat.com>

	* configure.host (mips64vr-elf, mips64vrel-elf): New config.

2003-01-07  Charles Wilson  <cwilson@ece.gatech.edu>

	* libc/stdio/sprintf.c: fix typo
	* libc/stdio/vfprintf.c: fix typo

2003-01-07  Jeff Johnston  <jjohnstn@redhat.com>

	* configure.host: Support long double I/O for x86-linux.
	* libc/stdlib/ldtoa.c (_ldtoa_r): Fix code to allocate a buffer
	large enough to hold formatted result.
	* libc/machine/powerpc/simdldtoa.c (_simdldtoa_r): Ditto.

2003-01-06  Charles Wilson  <cwilson@ece.gatech.edu>

	* Makefile.am: Add vasprintf.
	* Makefile.in: Regenerated.

2003-01-06  Charles Wilson  <cwilson@ece.gatech.edu>

	* asprintf.c (_asprintf_r): insure both declarations
	are the same.

2002-12-28  Christopher Faylor  <cgf@redhat.com>

	* libc/include/sys/unistd.h: Under cygwin, just include getopt.h rather
	than defining getopt directly.

2002-12-20  Jeff Johnston  <jjohnstn@redhat.com>

	* NEWS: Update with 1.11.0 info.
	* README: Ditto.
	* acinclude.m4: Change version number to 1.11.0.
	* aclocal.m4: Regenerated.
	* configure: Ditto.
	* doc/aclocal.m4: Ditto.
	* doc/configure: Ditto.
	* libc/*/aclocal.m4: Ditto.
	* libc/*/configure: Ditto.
	* libc/libc.texinfo: Ditto.
	* libm/*/aclocal.m4: Ditto.
	* libm/*/configure: Ditto.
	* libm/libm.texinfo: Ditto.
	* libc/sys/linux/shared.ld: Add VERS_1.11.

2002-12-20  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/machine/i386/f_atan2.S: Change copyright from Cygnus
	Solutions to Red Hat Inc.
	* libc/machine/i386/f_atan2f.S: Ditto.
	* libc/machine/i386/f_exp.c: Ditto.
	* libc/machine/i386/f_expf.c: Ditto.
	* libc/machine/i386/f_frexp.S: Ditto.
	* libc/machine/i386/f_frexpf.S: Ditto.
	* libc/machine/i386/f_ldexp.S: Ditto.
	* libc/machine/i386/f_ldexpf.S: Ditto.
	* libc/machine/i386/f_log.S: Ditto.
	* libc/machine/i386/f_log10.S: Ditto.
	* libc/machine/i386/f_log10f.S: Ditto.
	* libc/machine/i386/f_logf.S: Ditto.
	* libc/machine/i386/f_pow.c: Ditto.
	* libc/machine/i386/f_powf.c: Ditto.
	* libc/machine/i386/f_tan.S: Ditto.
	* libc/machine/i386/f_tanf.S: Ditto.
	* libc/machine/i386/memchr.S: Ditto.
	* libc/machine/i386/memcmp.S: Ditto.
	* libc/machine/i386/memcpy.S: Ditto.
	* libc/machine/i386/memmove.S: Ditto.
	* libc/machine/i386/memset.S: Ditto.
	* libc/machine/i386/strchr.S: Ditto.
	* libc/machine/i386/strlen.S: Ditto.
	* libm/machine/i386/f_atan2.S: Ditto.
	* libm/machine/i386/f_atan2f.S: Ditto.
	* libm/machine/i386/f_exp.c: Ditto.
	* libm/machine/i386/f_expf.c: Ditto.
	* libm/machine/i386/f_frexp.S: Ditto.
	* libm/machine/i386/f_frexpf.S: Ditto.
	* libm/machine/i386/f_ldexp.S: Ditto.
	* libm/machine/i386/f_ldexpf.S: Ditto.
	* libm/machine/i386/f_log.S: Ditto.
	* libm/machine/i386/f_log10.S: Ditto.
	* libm/machine/i386/f_log10f.S: Ditto.
	* libm/machine/i386/f_logf.S: Ditto.
	* libm/machine/i386/f_pow.c: Ditto.
	* libm/machine/i386/f_powf.c: Ditto.
	* libm/machine/i386/f_tan.S: Ditto.
	* libm/machine/i386/f_tanf.S: Ditto.

2002-12-20  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdlib/environ.c: Update license to Red Hat.
	* libc/machine/hppa/setjmp.S: Ditto.
	* libm/test/Makefile.in: Ditto.

2002-12-19  Jeff Johnston  <jjohnstn@redhat.com>

	* configure.host: Remove references to go32.
	* libc/sys/go32/*: Removed.

2002-12-16  Kazu Hirata  <kazu@cs.umass.edu>

	* libc/include/sys/config.h: Change setting of INT_MAX
	and UINT_MAX, to use __INT_MAX__ for __H8300__, __H8300H__,
	__H8300S__.  Also consolidate flag settings for these
	platforms.

2002-12-10  Joel Sherrill  <joel@OARcorp.com>

	* libc/include/machine/setjmp.h: Make sure _JBLEN is defined
	for i386-rtems targets.

2002-12-06  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/stdlib.h (strtof): New prototype (from C99).
	(strtodf): Changed from prototype to macro which redefines
	to strtof.
	* libc/stdlib/atof.c: Change documentation to refer to strtof
	instead of strtodf.
	* libc/stdlib/atoff.c (atoff): Change to call strtof instead of
	strtodf.
	* libc/stdlib/strtod.c (strtodf): Renamed to strtof.
	(strtof): New function.
	* libm/test/convert.c (test_strtodf): Renamed to test_strtof which
	calls strtof.

2002-11-27  Christopher Faylor  <cgf@redhat.com>

	* libc/string/memset.c (memset): Fix comment.

2002-11-26  Christopher Faylor  <cgf@redhat.com>

	* libc/string/memset.c (memset): Move initialization of 'd' earlier in
	function.

2002-11-25  Christopher Faylor  <cgf@redhat.com>

	* libc/string/memset.c (memset): Minor optimization: Use new 'd'
	variable, introduced below, everywhere.

2002-11-25  Kazu Hirata  <kazu@cs.umass.edu>

	* libc/string/memset.c (memset): Make it safe even if
	sizeof (int) = 2.

2002-11-22  Joe Buehler  <jbuehler@hekimian.com>

	* configure.in: Change check for libc/include in ${CC} to
	use an intermediate value so as to work with different shells.
	* configure: Regenerated.
	* Makefile.in: Ditto.

2002-11-22  Vijay L. Khuspe  <vijayk1@kpit.com>

	* libc/sys/h8300hms/read.c: Add support for normal mode
	architecture.

2002-11-20  Ryo Tsuruta  <ryo@kitanet.ne.jp>

	* libc/machine/h8300/setjmp.S (setjmp, longjmp): Combine common
	code for __H8300H__ and __H8300S__.  Also return 32-bit return code
	when -mint32 is used.

2002-11-18  Nick Clifton  <nickc@redhat.com>

	* libc/sys/arm/crt0.S: Add NULL to end of argv array.

2002-11-14  Jeff Johnston  <jjohnstn@redhat.com>

	* testsuite/lib/passfail.exp (newlib_pass_fail): Changed to
	only issue one pass/fail message for a compile/link/execute.
	* testsuite/newlib.elix/elix.exp: New file.
	* testsuite/newlib.elix/tmmap.c: Ditto.

2002-11-06  Christopher Faylor  <cgf@redhat.com>

	* libc/stdlib/malign.c: Don't compile if MALLOC_PROVIDED.
	* libc/stdlib/mlock.c: Ditto.
	* libc/stdlib/msize.c: Ditto.
	* libc/stdlib/msize.c: Ditto.
	* libc/stdlib/mtrim.c: Ditto.
	* libc/stdlib/valloc.c: Ditto.

2002-11-12  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdlib/ldtoa.c (e64toe): When checking the exponent
	for inf/nan, make sure that the check ignores the sign bit.

2002-11-07  Joel Sherrill <joel@OARcorp.com>

	* libc/sys/rtems/machine: New directory.
	* libc/sys/rtems/machine/limits.h, libc/sys/rtems/machine/param.h,
	libc/sys/rtems/sys/param.h, libc/sys/rtems/sys/syslimits.h,
	libc/sys/rtems/sys/utime.h: New files added to make *-rtems newlib
	targets more BSD like when installed without requiring files to
	be overwritten at install point when RTEMS itself is installed.
	* Makefile.am: Pick up system dependent machine .h files such as
	might be found on a BSD-ish system.
	* Makefile.in: Regenerate.
	* libc/include/machine/types.h: When on an RTEMS target, define a
	few BSD flavor types.

2002-11-06  Sergey Okhapkin  <sos@prospect.com.ru>

	* include/utmp.h: Define WTMP_FILE.  Define and use UT_IDLEN.

2002-11-06  Kazuhiro Fujieda  <fujieda@jaist.ac.jp>

	* libc/include/wchar.h: Use _{BEGIN,END}_STD_C instead of extern "C".
	* libc/include/wctype.h: Ditto.

2002-11-04  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/wchar.h: Add extern "C" specifier if C++.
	* libc/include/wctype.h: Ditto.

2002-10-18  Jeff Johnston  <jjohnstn@redhat.com>

	* testsuite/newlib.wctype/tiswctype.c: New test case.
	* testsuite/newlib.wctype/twctrans.c: Ditto.

2002-10-18  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/machine/i386/include/endian.h: New file.
	* libc/sys/linux/machine/i386/include/param.h: Ditto.

2002-10-18  Jeff Johnston  <jjohnstn@redhat.com>

	* libm/machine/i386/aclocal.m4: Regenerated.
	* libm/machine/i386/configure: Ditto.

2002-10-18  Jeff Johnston  <jjohnstn@redhat.com>

	* testsuite/include/check.h: New header file to use with
	test cases.
	* testsuite/lib/newlib.exp: Add testsuite/include directory
	to list of header files to use.
	* testsuite/newlib.wctype/twctype.c: New test case for iswctype fns.
	* testsuite/newlib.wctype/wctype.exp: New file.

2002-10-11  Graham Stott  <graham.stott@btinternet.com>
	    Richard Sandiford  <rsandifo@redhat.com>

	* libc/include/sys/config.h (SIZE_T_SMALLER_THAN_LONG): Undefine.
	* libc/stdlib/mallocr.c (long_sub_size_t): Define in a way that
	doesn't require the SIZE_T_SMALLER_THAN_LONG macro.

2002-10-07	Joel Sherrill <joel@OARcorp.com>

	* libc/sys/rtems/crt0.c: Add even more symbols so gcc() can link
	dummy programs.

2002-10-07	Joel Sherrill <joel@OARcorp.com>

	* libc/include/pthread.h: Define PTHREAD_CANCELED.

2002-10-07	Joel Sherrill <joel@OARcorp.com>

	* libc/machine/hppa/DEFS.h, libc/machine/hppa/pcc_prefix.s,
	libc/machine/hppa/setjmp.S, libc/machine/hppa/DEFS.h: Make this
	compile with current GNU tools.

2002-10-07  Jeff Johnston  <jjohnstn@redhat.com>

	* Makefile.am: Add EXTRA_DIRS to allow future dependencies on
	the build library.
	* configure.in: Ditto.
	* Makefile.in: Regenerated.
	* configure: Ditto.
	* libc/sys/linux/Makefile.am: Add EXTRA_SUBDIRS and EXTRA_SUBLIBS
	for specifying configured libraries/directories.
	* libc/sys/linux/configure.in: Ditto.
	* libc/sys/linux/Makefile.in: Regenerated.
	* libc/sys/linux/configure: Ditto.

2002-10-03  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/reent.h: Update documentation at start of file.

2002-09-27  Jim Wilson  <wilson@redhat.com>

	* libc/sys/sysnecv850/crt0.S (start): Delete v850 code for initializing
	the ctbp register.

2002-09-27  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/ctype/jp2uc.c: Change to use multiple arrays in jp2uc.h.
	Also convert to EUCJP before using arrays.  For values not in
	the conversion arrays, return WEOF.
	* libc/ctype/jp2uc.h: Change from one array to a number of
	arrays to account for the fact that the originating table
	is not contiguous for the input values since some are invalid.

2002-09-24  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/time/ctime.c: Fix prototype documentation.

2002-09-24  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/errno.h: Add EOVERFLOW.

2002-09-20  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/wctype.h: New file.

2002-09-20  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/ctype/Makefile.am: Add new files.
	* libc/ctype/Makefile.in: Regenerated.
	* libc/ctype/ctype.tex: Add new iswxxxx, towxxxx, wctype,
	and wctrans functions to documentation index.
	* libc/ctype/iswalnum.c: New file.
	* libc/ctype/iswalpha.c: Ditto.
	* libc/ctype/iswblank.c: Ditto.
	* libc/ctype/iswcntrl.c: Ditto.
	* libc/ctype/iswctype.c: Ditto.
	* libc/ctype/iswdigit.c: Ditto.
	* libc/ctype/iswgraph.c: Ditto.
	* libc/ctype/iswlower.c: Ditto.
	* libc/ctype/iswprint.c: Ditto.
	* libc/ctype/iswpunct.c: Ditto.
	* libc/ctype/iswspace.c: Ditto.
	* libc/ctype/iswupper.c: Ditto.
	* libc/ctype/iswxdigit.c: Ditto.
	* libc/ctype/jp2uc.c: Ditto.
	* libc/ctype/jp2uc.h: Ditto.
	* libc/ctype/local.h: Ditto.
	* libc/ctype/towctrans.c: Ditto.
	* libc/ctype/towlower.c: Ditto.
	* libc/ctype/towupper.c: Ditto.
	* libc/ctype/utf8alpha.h: Ditto.
	* libc/ctype/utf8print.h: Ditto.
	* libc/ctype/utf8punct.h: Ditto.
	* libc/ctype/wctrans.c: Ditto.
	* libc/ctype/wctype.c: Ditto.
	* libc/locale/locale.c (__lc_ctype): New external array to
	replace static lc_ctype array.
	* libc/stdlib/mbtowc_r.c: Use __lc_ctype to check current lc_ctype
	rather than reentrancy structure's _current_locale field.
	* libc/stdlib/wctomb_r.c: Ditto.

2002-09-20  Jeff Johnston  <jjohnstn@redhat.com>

	* configure.host: Minor comment and formatting changes.
	* libc/Makefile.am: Add libc_la_DEPENDENCIES.
	* libc/Makefile.in: Regenerated.
	* libc/include/sys/config.h: Minor format change.

2002-09-19  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/syscalls/sysfcntl.c (fcntl): Fix typo in preprocessor
	statement comment.

2002-09-19  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/posix/opendir.c (opendir): Change code to check
	for HAVE_FCNTL before calling fcntl.
	* libc/search/hash.c (hash_open): Ditto.
	* libc/search/hash_page.c (open_tmp): Ditto.
	* libc/reent/Makefile.am: Add fcntlr.c.
	* libc/reent/Makefile.in: Regenerated.
	* libc/reent/fcntlr.c: New file.
	* libc/stdio/fdopen.c (_fdopen_r): Change to call _fcntl_r
	instead of _fcntl when HAVE_FCNTL flag is set.
	* libc/syscalls/sysfcntl.c (fcntl): Check for HAVE_FCNTL flag
	to see if _fcntl or _fcntl_r should be called.  If flag is not
	set, default to ENOSYS stub.

2002-09-16  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/wchar.h (mbstate_t): Change protective flag to
	be _MBSTATE_T.
	* libc/include/sys/_types.h (_mbstate_t): Remove protective flag.
	[__CYGWIN__]: Remove special code that defines mbstate_t and WEOF
	for Cygwin.
	* libc/sys/linux/sys/_types.h (_mbstate_t): Remove protective flag.

2002-09-11  Jeff Johnston  <jjohnstn@redhat.com>

	* acinclude.m4 (enable-newlib-mb): Change check to
	default newlib_mb variable to empty string rather than "no".
	* configure.host: Remove hard-coding of -DMB_CAPABLE for
	x86-linux and Cygwin.  Add code to check for newlib_mb
	being unset in which case set to "yes" for x86-linux and
	Cygwin.  Change check for newlib_mb being "yes" to allow
	for an empty string.
	* configure.in (_MB_LEN_MAX): New AC_DEFINE.
	* newlib.hin (_MB_LEN_MAX): New define to configure.
	* aclocal.m4: Regenerated.
	* configure: Ditto.
	* libc/include/limits.h: New file.
	* libc/sys/linux/include/limits.h: Ditto.
	* doc/aclocal.m4 doc/configure libc/aclocal.m4
	  libc/configure libc/machine/aclocal.m4
	  libc/machine/configure libc/machine/a29k/aclocal.m4
	  libc/machine/a29k/configure libc/machine/arm/aclocal.m4
	  libc/machine/arm/configure libc/machine/d10v/aclocal.m4
	  libc/machine/d10v/configure libc/machine/d30v/aclocal.m4
	  libc/machine/d30v/configure libc/machine/fr30/aclocal.m4
	  libc/machine/fr30/configure libc/machine/frv/aclocal.m4
	  libc/machine/frv/configure libc/machine/h8300/aclocal.m4
	  libc/machine/h8300/configure libc/machine/h8500/aclocal.m4
	  libc/machine/h8500/configure libc/machine/hppa/aclocal.m4
	  libc/machine/hppa/configure libc/machine/i386/aclocal.m4
	  libc/machine/i386/configure libc/machine/i960/aclocal.m4
	  libc/machine/i960/configure libc/machine/m32r/aclocal.m4
	  libc/machine/m32r/configure libc/machine/m68hc11/aclocal.m4
	  libc/machine/m68hc11/configure libc/machine/m68k/aclocal.m4
	  libc/machine/m68k/configure libc/machine/m88k/aclocal.m4
	  libc/machine/m88k/configure libc/machine/mips/aclocal.m4
	  libc/machine/mips/configure libc/machine/mn10200/aclocal.m4
	  libc/machine/mn10200/configure libc/machine/mn10300/aclocal.m4
	  libc/machine/mn10300/configure libc/machine/necv70/aclocal.m4
	  libc/machine/necv70/configure libc/machine/powerpc/aclocal.m4
	  libc/machine/powerpc/configure libc/machine/sh/aclocal.m4
	  libc/machine/sh/configure libc/machine/sparc/aclocal.m4
	  libc/machine/sparc/configure libc/machine/tic80/aclocal.m4
	  libc/machine/tic80/configure libc/machine/v850/aclocal.m4
	  libc/machine/v850/configure libc/machine/w65/aclocal.m4
	  libc/machine/w65/configure libc/machine/xscale/aclocal.m4
	  libc/machine/xscale/configure
	  libc/machine/xstormy16/aclocal.m4
	  libc/machine/xstormy16/configure libc/machine/z8k/aclocal.m4
	  libc/machine/z8k/configure libc/sys/aclocal.m4
	  libc/sys/configure libc/sys/a29khif/aclocal.m4
	  libc/sys/a29khif/configure libc/sys/arc/aclocal.m4
	  libc/sys/arc/configure libc/sys/arm/aclocal.m4
	  libc/sys/arm/configure libc/sys/cygwin/aclocal.m4
	  libc/sys/cygwin/configure libc/sys/d10v/aclocal.m4
	  libc/sys/d10v/configure libc/sys/decstation/aclocal.m4
	  libc/sys/decstation/configure libc/sys/go32/aclocal.m4
	  libc/sys/go32/configure libc/sys/h8300hms/aclocal.m4
	  libc/sys/h8300hms/configure libc/sys/h8500hms/aclocal.m4
	  libc/sys/h8500hms/configure libc/sys/idt/aclocal.m4
	  libc/sys/idt/configure libc/sys/linux/aclocal.m4
	  libc/sys/linux/configure
	  libc/sys/linux/machine/aclocal.m4
	  libc/sys/linux/machine/configure
	  libc/sys/linux/machine/i386/aclocal.m4
	  libc/sys/linux/machine/i386/configure
	  libc/sys/m88kbug/aclocal.m4 libc/sys/m88kbug/configure
	  libc/sys/mmixware/aclocal.m4 libc/sys/mmixware/configure
	  libc/sys/netware/aclocal.m4 libc/sys/netware/configure
	  libc/sys/rtems/aclocal.m4 libc/sys/rtems/configure
	  libc/sys/sh/aclocal.m4 libc/sys/sh/configure
	  libc/sys/sparc64/aclocal.m4 libc/sys/sparc64/configure
	  libc/sys/sun4/aclocal.m4 libc/sys/sun4/configure
	  libc/sys/sysmec/aclocal.m4 libc/sys/sysmec/configure
	  libc/sys/sysnec810/aclocal.m4 libc/sys/sysnec810/configure
	  libc/sys/sysnecv850/aclocal.m4 libc/sys/sysnecv850/configure
	  libc/sys/sysvi386/aclocal.m4 libc/sys/sysvi386/configure
	  libc/sys/sysvnecv70/aclocal.m4 libc/sys/sysvnecv70/configure
	  libc/sys/tic80/aclocal.m4 libc/sys/tic80/configure
	  libc/sys/w65/aclocal.m4 libc/sys/w65/configure
	  libc/sys/z8ksim/aclocal.m4 libc/sys/z8ksim/configure
	  libm/aclocal.m4 libm/configure: Regenerated.

2002-09-09  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/machine/i386/crt0.c (_start): Remove
	code that clears the .bss section.

2002-09-09  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/_types.h (_mbstate_t): Changed to use
	unsigned char internally.
	* libc/sys/linux/sys/_types.h: Ditto.
	* libc/include/sys/reent.h
	* libc/stdlib/mblen.c (mblen): Use function-specific state
	value from default reentrancy structure.
	* libc/stdlib/mblen_r.c (_mblen_r):  If return code from
	_mbtowc_r is less than 0, reset state __count value and
	return -1.
	* libc/stdlib/mbrlen.c (mbrlen): If the input state pointer
	is NULL, use the function-specific pointer provided in the
	default reentrancy structure.
	* libc/stdlib/mbrtowc.c: Add reentrant form of function.
	If input state pointer is NULL, use function-specific area
	provided in reentrancy structure.
	* libc/stdlib/mbsrtowcs.c: Ditto.
	* libc/stdlib/wcrtomb.c: Ditto.
	* libc/stdlib/wcsrtombs.c: Ditto.
	* libc/stdlib/mbstowcs.c: Reformat.
	* libc/stdlib/wcstombs.c: Ditto.
	* libc/stdlib/mbstowcs_r.c (_mbstowcs_r): If an error occurs,
	reset the state's __count value and return -1.
	* libc/stdlib/mbtowc.c: Ditto.
	* libc/stdlib/mbtowc_r.c (_mbtowc_r): Add restartable functionality.
	If number of bytes is used up before completing a valid multibyte
	character, return -2 and save the state.
	* libc/stdlib/wctomb_r.c (_wctomb_r): Define __state as __count
	and change some __count references to __state for clarity.

2002-09-06  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/config.h (MB_LEN_MAX): Removed as this
	is defined by <limits.h>.

2002-09-05  Kazuhiro Fujieda  <fujieda@jaist.ac.jp>

	* libc/include/wchar.h (WCHAR_MAX): Only define if not already
	defined.

2002-09-04  Kazuhiro Fujieda  <fujieda@jaist.ac.jp>

	* libc/include/sys/config.h: Define accordingly __WCHAR_MAX__.
	* libc/include/wchar.h: Define WCHAR_MIN as 0 and WCHAR_MAX as
	__WCHAR_MAX__ or 0x7fffffffu.
	* libc/string/wcscmp.c: Delete wrong and unnecessary type cast.
	* libc/string/wcsncmp.c: Ditto.

2002-09-03  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/string/wcschr.c: Add include of <stddef.h>.
	* libc/string/wcspbrk.c: Ditto.
	* libc/string/wcsrchr.c: Ditto.
	* libc/string/wcsstr.c: Ditto.

2002-09-03  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/_types.h (_flock_t): Added.
	* libc/include/sys/lock.h (__lock_try_acquire): New interface.
	(__lock_try_acquire_recursive): Ditto.
	* libc/include/sys/reent.h (__sFILE, __sFILE64): Add new
	_lock field.
	* libc/stdio/findfp.c (std)[!__SINGLE_THREAD__]: Initialize _lock
	field.
	* libc/stdio/fopen.c (_fopen_r)[!__SINGLE_THREAD__]: Ditto.
	* libc/stdio64/fopen64.c (_fopen64_r)[!__SINGLE_THREAD__]: Ditto.
	* libc/sys/linux/include/time.h (struct timespec): Moved from
	<sys/types.h> and added check for __need_timespec flag so type
	can be defined by itself.
	* libc/sys/linux/sys/_types.h (_flock_t): New type.
	* libc/sys/linux/sys/types.h (struct timespec): Moved to
	<time.h>.

2002-08-29  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* libc/sys/linux/argp: New directory.
	* libc/sys/linux/getopt.c: New file.
	* libc/sys/linux/getopt1.c: New file.
	* libc/sys/linux/getoptlong.c: Remove file.
	* libc/sys/linux/include/argp.h: New file.
	* libc/sys/linux/Makefile.am: Define argp_dir and ARGP_LIB,
	based on ELIX level.
	(SUBDIRS): Add argp_dir.
	(SUBLIBS): Add ARGP_LIB.
	(ELIX_2_OBJS): Add getopt.$(oext), getopt1.$(oext), remove
	getopt_long.$(oext).
	* libc/sys/linux/configure.in (AC_OUTPUT): Add argp/Makefile.

2002-08-29  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/libc.texinfo: Add node reference to wide-character strings.
	* libc/string/wcstrings.tex: New file.
	* libc/string/strtok_r.c: Remove outdated advertising clause.
	* libc/string/Makefile.am (doc): Add wide-character string
	chapter to documentation.
	* libc/string/Makefile.in: Regenerated.

2002-08-29  Kazuhiro Fujieda  <fujieda@jaist.ac.jp>

	* libc/include/wchar.h: Define NULL. Define WEOF more general
	way. Declare functions in newlib manner.
	* libc/stdlib/Makefile.am: Delete wmem*.c
	* libc/stdlib/Makefile.in: Regenerated.
	* libc/stdlib/wmemchr.c: Delete.
	* libc/stdlib/wmemcmp.c: Ditto.
	* libc/stdlib/wmemcpy.c: Ditto.
	* libc/stdlib/wmemmove.c: Ditto.
	* libc/stdlib/wmemset.c: Ditto.
	* libc/string/Makefile.am: Add wmem*.c and wcs*.c.
	* libc/string/Makefile.in: Regenerated.
	* libc/string/wcscat.c: New file derived from the NetBSD C Library.
	* libc/string/wcschr.c: Ditto.
	* libc/string/wcscmp.c: Ditto.
	* libc/string/wcscpy.c: Ditto.
	* libc/string/wcscspn.c: Ditto.
	* libc/string/wcslcat.c: Ditto.
	* libc/string/wcslcpy.c: Ditto.
	* libc/string/wcslen.c: Ditto.
	* libc/string/wcsncat.c: Ditto.
	* libc/string/wcsncmp.c: Ditto.
	* libc/string/wcsncpy.c: Ditto.
	* libc/string/wcspbrk.c: Ditto.
	* libc/string/wcsrchr.c: Ditto.
	* libc/string/wcsspn.c: Ditto.
	* libc/string/wcsstr.c: Ditto.
	* libc/string/wmemchr.c: Ditto.
	* libc/string/wmemcmp.c: Ditto.
	* libc/string/wmemcpy.c: Ditto.
	* libc/string/wmemmove.c: Ditto.
	* libc/string/wmemset.c: Ditto.

2002-08-29  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/locale/locale.c (_setlocale_r)[MB_CAPABLE]: Fix so
	default locale "" is accepted for LC_CTYPE or LC_MESSAGES
	and is treated as if "C" was specified.

2002-08-28  Jeff Johnston  <jjohnstn@redhat.com>

	* Makefile.am (install-data-local): Move install of build
	newlib.h after installing headers in libc/include so as to
	overwrite default newlib.h.
	* Makefile.in: Regenerated.

2002-08-28  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/newlib.h: New file for tools that use newlib
	headers but don't build newlib first (e.g. gcc).

2002-08-28  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdlib/wmemchr.c: Explicitly include <_ansi.h>.
	* libc/stdlib/wmemcmp.c: Ditto.
	* libc/stdlib/wmemcpy.c: Ditto.
	* libc/stdlib/wmemmove.c: Ditto.
	* libc/stdlib/wmemset.c: Ditto.

2002-08-27  Egor Duda  <deo@logos-m.ru>

	* libc/stdlib/wmemchr.c: New file.
	* libc/stdlib/wmemcmp.c: Ditto.
	* libc/stdlib/wmemcpy.c: Ditto.
	* libc/stdlib/wmemmove.c: Ditto.
	* libc/stdlib/wmemset.c: Ditto.
	* libc/stdlib/Makefile.am (GENERAL_SOURCES): Add new files.
	* configure.host: Default -DMB_CAPABLE for cygwin.
	* libc/include/wchar.h: Declare wmemchr(), wmemcmp(), wmemcpy(),
	wmemmove() and wmemset().  Add include of <_ansi.h>.
	* libc/stdlib/Makefile.in: Regenerate.

2002-08-27  Jeff Johnston  <jjohnstn@redhat.com>

	* configure.host: Remove _ELIX_LEVEL flag setting.
	* Makefile.am(stmp-targ-include): Copy newlib.h to targ-include.
	(install-data-local): Install newlib.h.
	* Makefile.in: Regenerated.
	* aclocal.m4: Ditto.
	* configure: Ditto.
	* configure.in: Add AM_CONFIG_HEADER to generate newlib.h based on
	newlib.hin.  Add AC_DEFINE_UNQUOTED entries for _ELIX_LEVEL
	and _NEWLIB_VERSION to fill in newlib.h header file entries.
	In AC_OUTPUT statement, unset ac_file so multilib support does
	not use last ac_file temporary used in newlib.h configuration.
	* libc/include/_ansi.h: Include <newlib.h>.
	* newlib.hin: New template file for newlib.h.
	* stamp-h.in: New file.

2002-08-26  Wu Yongwei <adah@netstd.com>

	* time.h (timezonevar): Change "#if" to "#ifdef".

2002-08-26  Jeff Johnston  <jjohnstn@redhat.com>

	* Makefile.am(LIBC_OBJECTLISTS): Add STDIO64_OBJECTLIST.
	* Makefile.in: Regenerated.
	* acinclude.m4: Add support for --enable-newlib-elix-level option.
	* aclocal.m4: Regenerated.
	* configure: Ditto.
	* configure.host: Add code to define _ELIX_LEVEL if
	--enable-newlib-elix-level option is used.
	* configure.in:
	* libc/aclocal.m4: Regenerated.
	* libc/configure: Ditto.
	* libc/argz/Makefile.am: Add EL/IX level checking.
	* libc/argz/Makefile.in: Regenerated.
	* libc/argz/dummy.c: New file.
	* libc/ctype/Makefile.am: Add EL/IX level checking.
	* libc/ctype/Makefile.in: Regenerated.
	* libc/locale/Makefile.am: Add EL/IX level checking.
	* libc/locale/Makefile.in: Regenerated.
	* libc/posix/Makefile.am: Add EL/IX level checking.
	* libc/posix/Makefile.in: Regenerated.
	* libc/posix/telldir.c: Add EL/IX level checking.
	* libc/reent/Makefile.am: Ditto.
	* libc/reent/fstat64r.c: Ditto.
	* libc/reent/lseek64r.c: Ditto.
	* libc/reent/open64r.c: Ditto.
	* libc/reent/Makefile.in: Regenerated.
	* libc/search/Makefile.am: Add EL/IX level checking.
	* libc/search/Makefile.in: Regenerated.
	* libc/stdio/Makefile.am: Add EL/IX level checking.
	* libc/stdio/Makefile.in: Regenerated.
	* libc/stdio64/Makefile.am: Add EL/IX level checking.
	* libc/stdio64/Makefile.in: Regenerated.
	* libc/stdio64/dummy.c: New file.
	* libc/stdio64/fgetpos64.c: Fix so _LARGE64_FILES macro is checked
	after first include.
	* libc/stdio64/fopen64.c: Ditto.
	* libc/stdio64/freopen64.c: Ditto.
	* libc/stdio64/fseeko64.c: Ditto.
	* libc/stdio64/fsetpos64.c: Ditto.
	* libc/stdio64/ftello64.c: Ditto.
	* libc/stdio64/tmpfile64.c: Ditto.
	* libc/stdlib/Makefile.am: Add EL/IX level checking.
	* libc/stdlib/Makefile.in: Regenerated.
	* libc/stdlib/mstats.c: Add EL/IX level checking.
	* libc/string/Makefile.am: Ditto.
	* libc/string/Makefile.in: Regenerated.
	* libc/sys/linux/Makefile.am: Add EL/IX level checking.
	* libc/sys/linux/Makefile.in: Regenerated.
	* libc/sys/linux/aclocal.m4: Ditto.
	* libc/sys/linux/configure: Ditto.
	* libc/sys/linux/aio.c: Add EL/IX level checking.
	* libc/sys/linux/ftok.c: Ditto.
	* libc/sys/linux/getdate.c: Ditto.
	* libc/sys/linux/ids.c: Ditto.
	* libc/sys/linux/inode.c: Ditto.
	* libc/sys/linux/io.c: Ditto.
	* libc/sys/linux/process.c: Ditto.
	* libc/sys/linux/resource.c: Ditto.
	* libc/sys/linux/sched.c: Ditto.
	* libc/sys/linux/sig.c: Ditto.
	* libc/sys/linux/termios.c: Ditto.
	* libc/sys/linux/wait.c: Ditto plus add __waitpid and
	__libc___waitpid weak aliases.
	* libc/sys/linux/machine/i386/syscall.h: Add new _base macros
	that generate the code for a syscall, but do not create a
	weak alias.
	* libc/syscalls/Makefile.am: Add EL/IX level checking.
	* libc/syscalls/Makefile.in: Regenerated.
	* libc/time/tzset_r.c: Change to replace strdup with equivalent
	functionality.
	* libc/unix/Makefile.am: Add EL/IX level checking.
	* libc/unix/Makefile.in: Regenerated.

2002-08-26  Christopher Faylor  <cgf@redhat.com>

	* libc/include/malloc.h: On cygwin, define malloc _r functions as
	wrapper macros to standard malloc functions.
	* libc/include/stdlib.h: Ditto.
	* configure.host: Always define MALLOC_PROVIDED on cygwin.

2002-08-22  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* libc/include/langinfo.h: New file.
	* libc/include/wchar.h: Likewise.
	* libc/include/sys/syslimits.h: Likewise.
	* libc/locale/fix_grouping.c: Likewise.
	* libc/locale/ldpart.c: Likewise.
	* libc/locale/ldpart.h: Likewise.
	* libc/locale/lmessages.c: Likewise.
	* libc/locale/lmessages.h: Likewise.
	* libc/locale/lmonetary.c: Likewise.
	* libc/locale/lmonetary.h: Likewise.
	* libc/locale/lnumeric.c: Likewise.
	* libc/locale/lnumeric.h: Likewise.
	* libc/locale/nl_langinfo.3: Likewise.
	* libc/locale/nl_langinfo.c: Likewise.
	* libc/locale/timelocal.c: Likewise.
	* libc/locale/timelocal.h: Likewise.
	* libc/stdlib/btowc.c: Likewise.
	* libc/stdlib/mbrlen.c: Likewise.
	* libc/stdlib/mbrtowc.c: Likewise.
	* libc/stdlib/mbsinit.c: Likewise.
	* libc/stdlib/mbsrtowcs.c: Likewise.
	* libc/stdlib/wcrtomb.c: Likewise.
	* libc/stdlib/wcsrtombs.c: Likewise.
	* libc/stdlib/wctob.c: Likewise.
	* libc/sys/linux/prof-freq.c: Likewise.
	* libc/sys/linux/profile.c: Likewise.
	* libc/sys/linux/machine/i386/dl-procinfo.c: Likewise.
	* libc/sys/linux/machine/i386/dl-procinfo.h: Likewise.
	* libc/include/stdlib.h: Change re-entrant functions to take
	mbstate_t pointers.
	* libc/include/sys/_types.h: Define _mbstate_t.
	* libc/include/sys/config.h (MB_LEN_MAX): New macro.
	* libc/include/sys/errno.h (EILSEQ): New error code.
	* libc/include/sys/reent.h: Include wchar.h.  Change reentrant
	structure to use mbstate_t.
	* libc/locale/Makefile.am (LIB_SOURCES): Add new files.
	* libc/machine/powerpc/vfprintf.c: Use mbstate_t.
	* libc/machine/powerpc/vfscanf.c: Likewise.
	* libc/stdio/getdelim.c: Reallocate buffer only when necessary.
	* libc/stdio/vfprintf.c: Likewise.
	* libc/stdio/vfscanf.c: Likewise.
	* libc/stdlib/Makefile.am (LIB_SOURCES): Add new files.
	* libc/stdlib/mblen.c: Use mbstate_t.
	* libc/stdlib/mblen_r.c: Likewise.
	* libc/stdlib/mbstowcs.c: Likewise.
	* libc/stdlib/mbstowcs_r.c: Likewise.
	* libc/stdlib/mbtowc.c: Likewise.
	* libc/stdlib/mbtowc_r.c: Likewise.
	* libc/stdlib/wcstombs.c: Likewise.
	* libc/stdlib/wcstombs_r.c: Likewise.
	* libc/stdlib/wctomb_r.c: Likewise.
	* libc/sys/linux/Makefile.am (LIB_SOURCES): Add prof-freq.c and
	profile.c.
	* libc/sys/linux/machine/i386/Makefile.am (LIB_SOURCES): Add
	dl-procinfo.c.
	* libc/sys/linux/sys/errno.h (EILSEQ): New error code.
	* libc/sys/linux/sys/types.h (off_t): Define type.
	* testsuite/newlib.locale/UTF-8.c: Change locale name from UTF-8
	to C-UTF-8.
	* testsuite/newlib.locale/UTF-8.exp: Likewise.

2002-08-20  Casper S. Hornstrup  <chorns@users.sourceforge.net>

	* libc/stdlib/mallocr.c: #include windows.h on Win32.
	  (AlignPage): Continue macro on next line.

2002-08-19  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/include/pthread.h: New file.

2002-08-19  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/types.h: Support __need_inttypes macro
	that only sets the __intxx and __uintxx types.
	* libc/machine/powerpc/Makefile.am: Add stdlib to include directories
	to get mprec.h.
	* libc/machine/powerpc/Makefile.in: Regenerated.
	* libc/machine/powerpc/vfprintf.c: Fix state variable type.
	* libc/machine/powerpc/vfscanf.c: Fix state variable type.  Remove
	redundant fixed-point conversion prototypes.
	* libc/machine/powerpc/machine/stdlib.h[__SPE__]: Include <sys/types.h>
	after setting __need_inttypes.

2002-08-18  Christopher Faylor  <cgf@redhat.com>

	* libc/include/sys/unistd.h: Add getsid declaration for cygwin.

2002-08-17  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/config.h[__PPC__][__SPE__]: Set
	_LONG_DOUBLE to double.

2002-08-17  Jeff Johnston  <jjohnstn@redhat.com>

	* configure.host: Add powerpc*-*-eabispe* configuration.
	* libc/machine/powerpc/atosfix16.c: New fixed-point conversion file.
	* libc/machine/powerpc/atosfix32.c: Ditto.
	* libc/machine/powerpc/atosfix64.c: Ditto.
	* libc/machine/powerpc/atoufix16.c: Ditto.
	* libc/machine/powerpc/atoufix32.c: Ditto.
	* libc/machine/powerpc/atoufix64.c: Ditto.
	* libc/machine/powerpc/fix64.h: Ditto.
	* libc/machine/powerpc/simdldtoa.c: Ditto.
	* libc/machine/powerpc/strtosfix16.c: Ditto.
	* libc/machine/powerpc/strtosfix32.c: Ditto.
	* libc/machine/powerpc/strtosfix64.c: Ditto.
	* libc/machine/powerpc/strtoufix16.c: Ditto.
	* libc/machine/powerpc/strtoufix32.c: Ditto.
	* libc/machine/powerpc/strtoufix64.c: Ditto.
	* libc/machine/powerpc/ufix64toa.c: Ditto.
	* libc/machine/powerpc/configure.in: Add check for
	powerpc*-eabispe and add fixed-point conversion functions.
	* libc/machine/powerpc/configure: Regenerated.
	* libc/machine/powerpc/vfprintf.c[__SPE__]: Add support for
	%r and %R format specifiers which handle fixed-point data.
	* libc/machine/powerpc/vfscanf.c[__SPE__]: Ditto.
	* libc/machine/powerpc/machine/stdlib.h[__SPE__]: Add fixed-point
	function prototypes.

2002-08-17  Jeff Johnston  <jjohnstn@redhat.com>

	*  Makefile.am: Move cmath stuff into libc/sys/linux.
	*  Makefile.in: Regenerated.
	*  configure.host: Default -DMB_CAPABLE for x86-linux.
	*  libc/include/reent.h: Define _sbrk to take signed int argument.
	*  libc/include/sys/unistd.h: Ditto for _sbrk_r and sbrk.
	*  libc/locale/locale.c[MB_CAPABLE]: Add LC_MESSAGES support and
	make locale name checking more efficient.  Also allow "C-ISO-8859-1"
	locale for LC_CTYPE and LC_MESSAGES.
	*  libc/reent/sbrkr.c: Change prototype to take ptrdiff_t.
	*  libc/sys/linux/brk.c: Change sbrk prototype.
	*  libc/sys/linux/include/time.h: Remove Cygwin stuff and
	include <sys/features.h>.
	(CLOCK_THREAD_CPUTIME): Renamed to CLOCK_THREAD_CPUTIME_ID.
	(CLOCK_PROCESS_CPUTIME): Renamed to CLOCK_PROCESS_CPUTIME_ID.
	*  libc/sys/linux/sys/cdefs.h: Replace with glibc sys/cdefs.h
	with a few local additions.
	*  libc/sys/linux/sys/features.h: New file.
	*  libc/sys/linux/sys/unistd.h: Change _sbrk_r and sbrk prototypes
	to take signed argument.
	*  libc/syscalls/syssbrk.c: Change sbrk, _sbrk_r, and _sbrk
	prototypes to take signed size argument.

2002-08-16  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* libc/sys/linux/cmath: New directory.
	* libc/sys/linux/include/cmathcalls.h: New file.
	* libc/sys/linux/include/complex.h: New file.
	* libc/sys/linux/machine/i386/huge_val.h: New file
	* libm/math/w_sincos.c: New file
	* libm/math/wf_sincos.c: New file
	* libm/mathfp/s_sincos.c: New file
	* libm/mathfp/sf_sincos.c: New file
	* Makefile.am (LIBC_OBJECTLISTS): Add cmath/objectlist.awk.in.
	* libc/include/math.h: Add sincos and sincosf declarations.
	* libc/sys/linux/Makefile.am (SUBDIRS): Add cmath.
	(SUBLIBS): Likewise.
	* libc/sys/linux/configure.in (AC_OUTPUT): Add cmath.
	* libm/math/Makefile.am (src): Add w_sincos.c.
	(fsrc): Add wf_sincos.c.
	* libm/mathfp/Makefile.am (src): Add s_sincos.c
	(fsrc): Add sf_sincos.c.

2002-08-12  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/machine/i386/crt0.c (__bss_start,_end):
	Declare as extern chars and use the address operator to
	properly use values set in linker script.

2002-08-09  Jason Tishler  <jason@tishler.net>

	* libc/stdlib/mallocr.c: Include <limits.h>.
	(request2size): Change macro to do
	unsigned long comparisons and avoid signed overflow.
	(mALLOc): Add overflow check for the number of bytes to allocate.
	(rEALLOc): Ditto.

2002-08-09  Jeff Johnston  <jjohnstn@redhat.com>

	* configure.host: Add check for --enable-newlib-io-pos-args
	and define WANT_IO_POS_ARGS flag if enabled.  Define
	the flag by default for x86-linux configurations.
	* configure.in: Add support for --enable-newlib-io-pos-args.
	* libc/configure.in: Ditto.
	* configure: Regenerated.
	* libc/configure: Ditto.
	* libc/stdio/Makefile.am: Specify -fshort-enums for compiling
	vfprintf.c and vfiprintf.c.
	* libc/stdio/Makefile.in: Regenerated.
	* libc/stdio/vfprintf.c: Add positional argument support that
	is enabled by compiling with -DWANT_IO_POS_ARGS.

2002-08-07  Richard Sandiford  <rsandifo@redhat.com>

	* libc/include/machine/setjmp.h: For mips, define _JBLEN based
	based on __mips_soft_float rather than __mips64.
	* libc/machine/mips/setjmp.S: Provide hard and soft float versions
	of both 32-bit and 64-bit code.

2002-08-04  Christopher Faylor  <cgf@redhat.com>

	* libc/stdio/popen.c (popen): Allow "rb", "rt", "wb", and "wt"
	arguments for popen to match similar functionality in fopen.

2002-07-29  Pierre Humblet  <pierre.humblet@ieee.org>

	* libc/include/sys/unistd.h: Add setgroups prototype for Cygwin.

2002-07-29  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/Makefile.am: Add aio64.c.
	* libc/sys/linux/Makefile.in: Regenerated.
	* libc/sys/linux/aio.c (aio_init): ENOSYS stub added.
	* libc/sys/linux/aio64.c: New file.

2002-07-26  Jeff Johnston  <jjohnstn@redhat.com>

	*  libc/include/sys/param.h (MAX, MIN): Added macros.
	*  libc/sys/linux/Makefile.am: Add new files.
	*  libc/sys/linux/Makefile.in: Regenerated.
	*  libc/sys/linux/sys/stat.h: Add *stat64 prototypes.
	*  libc/sys/linux/inode.c (fchdir): Added syscall.
	*  libc/sys/linux/ftw.c: New file.
	*  libc/sys/linux/ftw64.c: Ditto.
	*  libc/sys/linux/getwd.c: Ditto.
	*  libc/sys/linux/scandir64.c: Ditto.
	*  libc/sys/linux/strverscmp.c: Ditto.
	*  libc/sys/linux/versionsort.c: Ditto.
	*  libc/sys/linux/versionsort64.c: Ditto.

2002-07-26  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/string/strings.tex: Fix typo for memccpy.

2002-07-25  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/io64.c (truncate64, ftruncate64): Added.
	* libc/sys/linux/sys/types.h (off64_t): Definition added.

2002-07-25  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/Makefile.am: Add fclean.c.
	* libc/sys/linux/Makefile.in: Regenerated.
	* libc/sys/linux/fclean.c: New file.

2002-07-25  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/Makefile.am: Add confstr.c.
	* libc/sys/linux/Makefile.in: Regenerated.
	* libc/sys/linux/confstr.c: New file.
	* libc/sys/linux/confstr.h: Ditto.
	* libc/sys/linux/sys/unistd.h: Include <features.h> and
	<bits/environments.h>.

2002-07-25  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/config.h (__set_errno): Macro definition removed.
	* libc/sys/linux/fpathconf.c (__set_errno): Ditto.
	* libc/sys/linux/libc-internal.h (__set_errno): Ditto.
	* libc/sys/linux/pathconf.c (__set_errno): Ditto.
	* libc/sys/linux/ttyname_r.c (__set_errno): Ditto.
	* libc/sys/linux/sys/errno.h (__set_errno): Macro definition added.

2002-07-24  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/Makefile.am: Add new files.
	* libc/sys/linux/Makefile.in: Regenerated.
	* libc/sys/linux/fstab.c: New file.
	* libc/sys/linux/fstatvfs.c: Ditto.
	* libc/sys/linux/fstatvfs64.c: Ditto.
	* libc/sys/linux/internal_statvfs.c: Ditto.
	* libc/sys/linux/mntent.c: Ditto.
	* libc/sys/linux/mntent_r.c: Ditto.
	* libc/sys/linux/statvfs.c: Ditto.
	* libc/sys/linux/statvfs64.c: Ditto.
	* libc/sys/linux/include/paths.h: Ditto.
	* libc/sys/linux/inode.c (statfs, fstatfs): New syscalls
	with double-underscore weak-aliases.
	* libc/sys/linux/sys/stat.h: Add *stat64 prototypes.

2002-07-24  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/signal.h (SIG_IGN, SIG_DFL, SIG_ERR): Change
	to use _sig_func_ptr type casted constants.
	(_sig_func_ptr): Typedef moved to sys/signal.h.
	* libc/include/sys/signal.h (_sig_func_ptr): Typedef added.
	For __rtems, use POSIX definition, otherwise default to ANSI.
	* libc/sys/linux/sys/signal.h (_sig_func_ptr): Typedef added.

2002-07-24  Stephane Carrez  <stcarrez@nerim.fr>

	* configure.host: Recognize m6811-elf and m6812-elf targets.
	* libc/include/machine/setjmp.h (_JBLEN): Define for 68hc11/68hc12.
	* libc/include/machine/ieeefp.h (__IEEE_BIG_ENDIAN): Define for 68HC11.
	(_DOUBLE_IS_32BITS): Define when compiling with -fshort-double.
	* libc/include/sys/config.h (INT_MAX, UINT_MAX): Define
	according to __INT_MAX__.
	(_POINTER_INT): Define to short.
	* libc/machine/m68hc11/Makefile.am: New file.
	* libc/machine/m68hc11/Makefile.in: New file.
	* libc/machine/m68hc11/configure.in: New file.
	* libc/machine/m68hc11/configure: New file.
	* libc/machine/m68hc11/aclocal.m4: New file.
	* libc/machine/m68hc11/setjmp.S: New file.

2002-07-23  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/string.h: Add mempcpy, strndup, and _strndup_r
	prototypes.
	* libc/stdlib/Makefile.am: Remove strdup.c and strdup_r.c.
	* libc/stdlib/Makefile.in: Regenerated.
	* libc/stdlib/strdup.c: Removed.
	* libc/stdlib/strdup_r.c: Removed.
	* libc/string/Makefile.am: Add strdup.c, strdup_r.c, memccpy.c,
	mempcpy.c, strndup.c, and strndup_r.c.
	* libc/string/Makefile.in: Regenerated.
	* libc/string/memccpy.c: New file.
	* libc/string/mempcpy.c: Ditto.
	* libc/string/strndup.c: Ditto.
	* libc/string/strndup_r.c: Ditto.
	* libc/string/strdup.c: New file moved from stdlib.
	* libc/string/strdup_r.c: Ditto.
	* libc/string/strings.tex: Add memccpy and mempcpy documentation.

2002-07-23  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/stdio.h: Move fcloseall prototype within
	#ifndef _REENT_ONLY section.
	* libc/sys/linux/Makefile.am: Add new files.
	* libc/sys/linux/Makefile.in: Regenerated.
	* libc/sys/linux/sys/stdio.h: Add ctermid prototype.
	* libc/sys/linux/sys/unistd.h: Add ttyname_r prototype.
	* libc/sys/linux/sys/types.h: Add ino64_t type.
	* libc/sys/linux/ctermid.c: New file.
	* libc/sys/linux/ttyname_r.c: Ditto.
	* libc/sys/linux/readdir64.c: Ditto.

2002-07-22  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/stdio.h (fcloseall, _fcloseall_r): Added prototypes.
	* libc/stdio/Makefile.am: Added fcloseall.c support.
	* libc/stdio/Makefile.in: Regenerated.
	* libc/stdio/fcloseall.c: New file.
	* libc/stdio64/Makefile.am: Remove missing .def references.
	* libc/stdio64/Makefile.in: Regenerated.

2002-07-22  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/machine/powerpc/time.c: Removed..renamed to times.c.
	* libc/machine/powerpc/times.c: New file.
	* libc/machine/powerpc/Makefile.am: Change time.c to times.c.
	* libc/machine/powerpc/Makefile.in: Regenerated.

2002-07-22  Aldy Hernandez  <aldyh@redhat.com>

	* libc/machine/powerpc/time.c: New file.
	* libc/machine/powerpc/Makefile.am (lib_a_SOURCES): Add
	time.c.
	* libc/machine/powerpc/Makefile.in: Regenerated.

2002-07-22  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* libc/libc.texinfo: Change copyright notices to Red Hat from
	Cygnus.
	* libm/libm.texinfo: Likewise.
	* README: Change docs URL to
	http://sources.redhat.com/newlib/docs.html.

2002-07-19  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/Makefile.am: Add pathconf.c and fpathconf.c.
	* libc/sys/linux/Makefile.in: Regenerated.
	* libc/sys/linux/inode.c: Add chmod, fchmod, and chown syscalls.
	* libc/sys/linux/io.c: Add ftruncate syscall.
	* libc/sys/linux/fpathconf.c: New file.
	* libc/sys/linux/pathconf.c: Ditto.
	* libc/sys/linux/linux_fsinfo.h: Ditto.
	* libc/sys/linux/sys/unistd.h: Ditto.

2002-07-19  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio64/Makefile.am: Remove missing files.
	* libc/stdio64/Makefile.in: Regenerated.

2002-07-19  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/config.h[__i386__][__linux__]: Define
	_LARGE64FILE_SOURCE to 1.
	* libc/sys/linux/Makefile.am: Add getrlimit64.c and setrlimit64.c.
	* libc/sys/linux/Makefile.in: Regenerated.
	* libc/sys/linux/resource.c: Add __getrlimit and __setrlimit aliases.
	* libc/sys/linux/sys/linux_time.h: Protect struct timeval definition.
	* libc/sys/linux/sys/resource.h: Include <bits/resource.h> instead
	of <linux/resource.h>.
	* libc/sys/linux/getrlimit64.c: New file.
	* libc/sys/linux/setrlimit64.c: Ditto.

2002-07-19  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* libc/argz/argz_replace.c: Include buf_findstr.h.
	* libc/argz/buf_findstr.c: Likewise.
	* libc/argz/envz_entry.c: Include buf_findstr.h.  Cast return
	value to (char *).
	* libc/argz/envz_get.c: Likewise.
	* libc/include/sys/unistd.h: Add getopt and getsubopt declarations.
	* libc/stdlib/Makefile.am (LIB_SOURCES): Add getsubopt.c.
	* libc/stdlib/getsubopt.3: New file.
	* libc/stdlib/getsubopt.c: New file.
	* libc/sys/linux/machine/i386/socketcall.h (__sockcall_base):
	Change esp to ebp.

2002-07-17  Jeff Johnston  <jjohnstn@redhat.com>

	* configure.host(stdio64_dir): New setting that is used to
	enable building of new stdio64 directory.
	* libc/Makefile.am[HAVE_STDIO64_DIR]: Add support for
	large files.
	(stmp-stdio64,stdio64.texi): New targets to optionally add in
	stdio64 info to info files.
	* libc/Makefile.in: Regenerated.
	* libc/configure: Ditto.
	* libc/configure.in: Add configuration variables that are set
	when stdio64 is selected as subdir in configure.host.
	* libc/libc.texinfo: Add optional menu item for Stdio64, based
	on whether STDIO64 flag is set or not.
	* libc/sys.tex: Add optional stdio64 syscalls based on whether
	STDIO64 flag is set or not.
	* libc/include/reent.h[__LARGE64_FILES]: Add new stdio64
	_r sycall routines.
	* libc/include/stdio.h[__LARGE64_FILES]: Add new stdio64 prototypes.
	(FILE): Typedef'd to __FILE instead of struct __sFILE directly.
	(__SL64): New file flag indicating file is opened via fopen64.
	* libc/include/sys/_types.h(_off64_t): Added.
	* libc/include/sys/config.h: For x86-linux, define __LARGE64_FILES.
	* libc/include/sys/reent.h(struct __sFILE64): New file structure
	for 64-bit offset large file support.
	(__FILE): New intermediate type either set to struct __sFILE64 or
	struct __sFILE, depending on whether __LARGE64_FILES is set or not.
	* libc/reent/Makefile.am[HAVE_STDIO64_DIR]: Add new files.
	* libc/reent/Makefile.in: Regenerated.
	* libc/reent/fstat64r.c: New file.
	* libc/reent/lseek64r.c: Ditto.
	* libc/reent/open64r.c: Ditto.
	* libc/reent/reent.tex: Optionally add stdio64 reentrant syscalls
	based on whether STDIO64 flag is set.
	* libc/stdio/stdio.tex: Add blank line.
	* libc/stdio64/Makefile.am: New file.
	* libc/stdio64/Makefile.in: Ditto.
	* libc/stdio64/fgetpos64.c: Ditto.
	* libc/stdio64/fopen64.: Ditto.
	* libc/stdio64/freopen64.c: Ditto.
	* libc/stdio64/fseeko64.c: Ditto.
	* libc/stdio64/fsetpos64.c: Ditto.
	* libc/stdio64/ftello64.c: Ditto.
	* libc/stdio64/local64.h: Ditto.
	* libc/stdio64/stdio64.c: Ditto.
	* libc/stdio64/stdio64.tex: Ditto.
	* libc/stdio64/tmpfile64.c: Ditto.
	* libc/sys/linux/io64.c: Add weak aliases for lseek64, fstat64, and
	open64.

2002-07-16  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/Makefile.am (stmp-extra): New target to set makeinfo flag
	if LIBC_EXTRA_LIB is present.
	* libc/Makefile.in: Regenerated.
	* libc/libc.texinfo: Add blank line.
	* libc/argz/Makefile.am: Add doc support.
	* libc/search/Makefile.am: Ditto.
	* libc/argz/Makefile.in: Regenerated.
	* libc/search/Makefile.in: Ditto.
	* libc/misc/misc.tex: Add ffs function.
	* libc/stdio/ftell.c: Fix missing doc delimeter in description.

2002-07-15  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/config.h[__H8300__]: Replace __SMALL_BITFIELDS
	definition that was removed in error.

2002-07-15  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/machine/ieeefp.h: Change to only define
	floating point defines (e.g one of __IEEE_BIG_ENDIAN or
	__IEEE_LITTLE_ENDIAN must be defined for each platform).
	* libc/include/sys/config.h: Include <machine/ieeefp.h> and
	remove redundant floating point definitions.

2002-07-15  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/callocr.c: Fix so code references
	calloc.

2002-07-15  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/Makefile.am: Add new files.
	* libc/sys/linux/Makefile.in: Regenerated.
	* libc/sys/linux/bp-sym.h: Moved to include directory.
	* libc/sys/linux/mmap.c: Add weak aliases: __mmap, __munmap, __mremap.
	* libc/sys/linux/inode.c: Set _LIBC to 1.
	* libc/sys/linux/mq_close.c: Ditto.
	* libc/sys/linux/mq_getattr.c: Ditto.
	* libc/sys/linux/mq_open.c: Ditto.
	* libc/sys/linux/mq_receive.c: Ditto.
	* libc/sys/linux/mq_send.c: Ditto.
	* libc/sys/linux/mq_setattr.c: Ditto.
	* libc/sys/linux/mq_unlink.c: Ditto.
	* libc/sys/linux/calloc.c: New file.
	* libc/sys/linux/callocr.c: Ditto.
	* libc/sys/linux/cfreer.c: Ditto.
	* libc/sys/linux/config.h: Ditto.
	* libc/sys/linux/free.c: Ditto.
	* libc/sys/linux/freer.c: Ditto.
	* libc/sys/linux/msize.c: Ditto.
	* libc/sys/linux/msizer.c: Ditto.
	* libc/sys/linux/mstats.c: Ditto.
	* libc/sys/linux/mtrim.c: Ditto.
	* libc/sys/linux/mtrimr.c: Ditto.
	* libc/sys/linux/pvallocr.c: Ditto.
	* libc/sys/linux/realloc.c: Ditto.
	* libc/sys/linux/reallocr.c: Ditto.
	* libc/sys/linux/thread-m.h: Ditto.
	* libc/sys/linux/vallocr.c: Ditto.
	* libc/sys/linux/bp-checks.h: Ditto.
	* libc/sys/linux/libc-symbols.h: Ditto.
	* libc/sys/linux/libc-tsd.h: Ditto.
	* libc/sys/linux/libintl.h: Ditto.
	* libc/sys/linux/malign.c: Ditto.
	* libc/sys/linux/malignr.c: Ditto.
	* libc/sys/linux/mallinfor.c: Ditto.
	* libc/sys/linux/malloc.c: Ditto.
	* libc/sys/linux/mallocr.c: Ditto.
	* libc/sys/linux/malloptr.c: Ditto.
	* libc/sys/linux/mallstatsr.c: Ditto.
	* libc/sys/linux/mcheck.c: Ditto.
	* libc/sys/linux/mhooks.h: Ditto.
	* libc/sys/linux/include/bp-sym.h: Ditto.
	* libc/sys/linux/include/malloc.h: Ditto.
	* libc/sys/linux/include/mcheck.h: Ditto.
	* libc/sys/linux/linuxthreads/machine/i386/Makefile.am: Remove
	getpagesize.c.
	* libc/sys/linux/linuxthreads/machine/i386/Makefile.in: Regenerated.
	* libc/sys/linux/linuxthreads/machine/i386/getpagesize.c: Moved.
	* libc/sys/linux/machine/i386/getpagesize.c: New file.
	* libc/sys/linux/machine/i386/Makefile.am: Add getpagesize.c.
	* libc/sys/linux/machine/i386/Makefile.in: Regenerated.
	* libc/sys/linux/machine/i386/sysdep.h: New file.
	* libc/sys/linux/machine/i386/weakalias.h: Add weak_function support.
	* libc/sys/linux/sys/dirent.h: Set _LIBC to 1.
	* libc/sys/linux/sys/lock.h: Include <machine/weakalias.h>.

2002-07-12  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/include/mqueue.h: Change to use <bits/siginfo.h>
	instead of <asm/siginfo.h>.
	* libc/sys/linux/sys/signal.h: Change to include various linux
	<bits/xxx.h> header files, rather than <linux/signal.h> so as
	to work with multiple releases of glibc header files.

2002-07-11  Chris Demetriou  <cgd@broadcom.com>

	* testsuite/newlib.search/hsearchtest.c: New file to test
	newlib/libc/search.
	* testsuite/newlib.search/hsearchtest.exp: Likewise.

2002-07-10  Florian Schrack  <florian.schrack@freenet.de>

	* libc/sys/mmixware/read.c: Use SYS_Fgets syscall if dealing with
	a terminal.
	* libc/sys/mmixware/sys/syscall.h (SYS_Fgets): Definition added.

2002-07-08  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/math.h (MAXFLOAT): Added.

Mon Jul  8 13:55:23 2002  J"orn Rennecke <joern.rennecke@superh.com>

	* libc/machine/sh/Makefile.am (lib_a_SOURCES):
	Make strcmp.S unconditional.
	* libc/machine/sh/Makefile.in: Regenerate.
	* libc/machine/sh/asm.h (DELAYED_BRANCHES, SL): Also for __SH5__ .
	* strcmp.S (strcmp): Add SHmedia variant.  Use different registers
	for SHcompact.

2002-07-04  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/inode.c: Fix utime prototype and add _LIBC
	define before including <sys/lock.h>.

2002-07-04  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/utime.h: Add include of <_ansi.h>.
	* libc/sys/linux/Makefile.am: Add utimes.c.
	* libc/sys/linux/Makefile.in: Regenerated.
	* libc/sys/linux/inode.c(__umask): New static routine.
	(umask): Written to use __umask and attempt to thread lock.
	(getumask): New function written to use __umask and thread lock.
	* libc/sys/linux/utimes.c: New file.
	* libc/sys/linux/sys/time.h: Fix utimes prototype.
	* libc/sys/linux/sys/utime.h: New file.

2002-07-04  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* libtool.m4: New file.
	* libc/sys/linux/process.c: Implement vfork in terms of fork,
	rather than as a syscall.

2002-07-04  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/stdio.h: Add new prototypes.
	* libc/stdio/Makefile.am: Add fseeko.c and ftello.c.
	* libc/stdio/Makefile.in: Regenerated.
	* libc/stdio/fseek.c: Add fseeko documentation.
	* libc/stdio/ftell.c: Add ftello documentation.
	* libc/stdio/fseeko.c: New file.
	* libc/stdio/ftello.c: New file.

2002-07-04  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/Makefile.am: Add asprintf.c and vasprintf.c.
	* libc/stdio/Makefile.in: Regenerated.
	* libc/stdio/asprintf.c: New file.
	* libc/stdio/vasprintf.c: Ditto.
	* libc/stdio/fvwrite.c: Add code to dynamically reallocate
	the buffer for asprintf support.
	* libc/stdio/sprintf.c: Add asprintf documentation.
	* libc/stdio/vfprintf.c: Add vasprintf documentation.
	* libc/include/stdio.h: Add new prototypes.

2002-07-02  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* libc/search/hcreate.c: Remove advertising clause from license.
	* libc/search/hcreate_r.c: Likewise.

2002-07-02  Chris Demetriou  <cgd@broadcom.com>

	* libc/include/sys/config.h (__IEEE_LITTLE_ENDIAN)
	(__IEEE_BIG_ENDIAN): Define appropriately for MIPS.
	Check that one of them is defined and error out if not.
	Add any platforms defined in <machine/ieeefp.h> that are missing.
	* libc/search/hash.h (DB_BYTE_ORDER, DB_BIG_ENDIAN)
	(DB_LITTLE_ENDIAN): New defines.
	* libc/search/hash.c: Replace all incorrect checks for
	_IEEE_LITTLE_ENDIAN with tests of BYTE_ORDER, and all uses of
	BYTE_ORDER, LITTLE_ENDIAN, and BIG_ENDIAN with DB_* versions.
	* libc/search/hash_page.c: Likewise.

2002-06-28  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* libm/mathfp/sf_pow.c (powf): Change k from int to float.

2002-06-27  Benjamin Kosnik  <bkoz@redhat.com>

	* libc/include/stdio.h: Untangle, add _BEGIN_STD_C and _END_STD_C.
	* libc/include/time.h: Same.
	* libc/include/string.h: Same.
	* libc/include/stdlib.h: Same.
	* libc/include/signal.h: Same.
	* libc/include/setjmp.h: Same.
	* libc/include/math.h: Same.
	* libc/include/locale.h: Same.
	* libc/include/ctype.h: Same.
	* libc/include/machine/setjmp.h: Same.
	* libc/include/_ansi.h (_BEGIN_STD_C): Add.
	(_END_STD_C): Add.

2002-06-27  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/_types.h: Define _ssize_t as int if int is
	32-bits, otherwise define it as long.
	* libc/include/sys/types.h: Include <_ansi.h> and <sys/_types.h>
	and define ssize_t as _ssize_t.
	* libc/reent/readr.c: Change return type to _ssize_t.
	* libc/reent/writer.c: Ditto.
	* libc/sys/linux/Makefile.am: Add aio.c.
	* libc/sys/linux/Makefile.in: Regenerated.
	* libc/sys/linux/aio.c: New file.
	* libc/sys/linux/sys/cdefs.h: Add __restrict_arr definition.
	* libm/common/fdlibm.h: Undef __P before defining it.

2002-06-27  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* libm/mathfp/s_pow.c (pow): Fix checks on variable k.  Add
	exponent_is_even_int variable.  Handle case where x is
	negative, and y is an odd integer.
	* libm/mathfp/sf_pow.c (powf): Likewise.

	* libm/mathfp/er_lgamma.c: Remove __kernel references.
	* libm/mathfp/erf_lgamma.c: Likewise.
	* libm/mathfp/s_tgamma.c: Likewise.
	* libm/mathfp/sf_tgamma.c: Likewise.

2002-06-27  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/Makefile.am: Add new clock routines.
	* libc/sys/linux/Makefile.in: Regenerated.
	* libc/sys/linux/clock_getres.c: New file.
	* libc/sys/linux/clock_gettime.c: Ditto.
	* libc/sys/linux/clock_settime.c: Ditto.
	* libc/sys/linux/hp-timing.h: Ditto.
	* libc/sys/linux/libc-internal.h: Ditto.
	* libc/sys/linux/sysconf.c: Fix typo.
	* libc/sys/linux/include/time.h: Add include of <sys/linux_time.h>.
	* libc/sys/linux/machine/hp-timing.h: New file.
	* libc/sys/linux/machine/i386/Makefile.am: Add new files.
	* libc/sys/linux/machine/i386/Makefile.in: Regenerated.
	* libc/sys/linux/machine/i386/get_clockfreq.c: New file.
	* libc/sys/linux/machine/i386/hp-timing.c: Ditto.
	* libc/sys/linux/machine/i386/hp-timing.h: Ditto.
	* libc/sys/linux/sys/linux_time.h: New file.
	* libc/sys/linux/sys/time.h: Remove include of <linux/time.h> and
	replace with <sys/linux_time.h>.

Wed Jun 26 16:33:25 2002  J"orn Rennecke <joern.rennecke@superh.com>

	* libc/sys/sh/crt0.S: Remove vestigial .section directive.

2002-06-25  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/Makefile.am: Consolidate additional items under
	ADD_OBJS.
	* libc/sys/linux/Makefile.in: Regenerated.

2002-06-25  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/sethostname.c: New file.
	* libc/sys/linux/Makefile.am: Add sethostname.c support.
	* libc/sys/linux/Makefile.in: Regenerated.

2002-06-24  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* libc/search/db_local.h: New file.
	* libc/include/db.h: Remove.
	* libc/search/Makefile.am (LIB_SOURCES): Add db_local.h.
	* libc/search/hash.c (MIN,MAX): Add macros.  Change <db.h> to
	"db_local.h".
	* libc/search/hash_bigkey.c: Likewise.
	* libc/search/hash_buf.c: Likewise.
	* libc/search/hash_func.c: Likewise.
	* libc/search/hash_log2.c: Likewise.
	* libc/search/hash_page.c: Likewise.

2002-06-24  J"orn Rennecke <joern.rennecke@superh.com>

	* libc/machine/sh/strlen.S: New file.
	* libc/machine/sh/Makefile.am (lib_a_SOURCES): Add rule for it.
	* libc/machine/sh/Makefile.am: Regenerate.

2002-06-24  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/gethostname.c: Change name to __gethostname and
	add gethostname alias.

2002-06-24  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/math.h: Remove <sys/types.h>.
	(__dmath): Use __ULong instead of __uint32_t.
	* libc/include/sys/reent.h: If long or int is not 32-bits,
	include <sys/types.h> to get definitions for __int32_t and __uint32_t.
	* libc/stdlib/mprec.h: Include <sys/types.h> to get integer defs.
	* libm/common/fdlibm.h: Ditto.

2002-06-24  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* libc/include/ndbm.h: Remove.
	* libc/search/ndbm.c: Remove.

2002-06-24  WATANABE Hirofumi <eban@os.rim.or.jp>

	* libc/stdio/fseek.c (fseek): Fix braces.

2002-06-21  Corinna Vinschen  <corinna@vinschen.de>

	* libc/time/strftime.c (strftime): Add %e format specifier.

2002-06-21  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* libc/search/hash.h (LITTLE_ENDIAN, BIG_ENDIAN): Define if not
	previously defined.

2002-06-21  Richard Earnshaw  (rearnsha@arm.com)

	* libc/sys/arm/sys/param.h (BIG_ENDIAN, LITTLE_ENDIAN): Define.
	(BYTE_ORDER): Define as appropriate for the target.

2002-06-21  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/config.h[__linux__]: Set _READ_WRITE_RETURN_TYPE
	to _ssize_t.
	* libc/sys/linux/io.c (read, write): Change to return ssize_t.

2002-06-21  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/stdio.h (__getline, __getdelim): New prototypes.
	* libc/include/time.h [HAVE_GETDATE](getdate, getdate_r): Ditto.
	[HAVE_GETDATE](getdate_err): New error code.
	* libc/stdio/Makefile.am: Add support for getline.c and getdelim.c.
	* libc/stdio/Makefile.in: Regenerated.
	* libc/stdio/getdelim.c: New file.
	* libc/stdio/getline.c: Ditto.
	* libc/sys/linux/Makefile.am: Add support for getdate.c, getdate_err.c
	and ntp_gettime.c.  Also add AM_CFLAGS to point to libc/stdio.
	* libc/sys/linux/Makefile.in: Regenerated.
	* libc/sys/linux/getdate.c: New file.
	* libc/sys/linux/getdate_err.c: Ditto.
	* libc/sys/linux/ntp_gettime.c: Ditto.
	* libc/sys/linux/time.c (adjtimex, ntp_adjtime): New functions.
	* libc/sys/linux/sys/stdio.h (getline, getdelim): New macros.

2002-06-21  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/math.h: Add <sys/types.h> to get _uint32_t definition.
	* libc/include/machine/types.h: Skip __off_t, __pid_t, and
	__loff_t definitions if special _HAVE_SYSTYPES macro defined.
	* libc/include/sys/config.h: Removed _uint*, _int* definitions.
	* libc/include/sys/param.h: Remove i386 case which is handled
	by default case.
	(BIG_ENDIAN, LITTLE_ENDIAN): Protect
	definitions in case they are already defined.
	(BYTE_ORDER): Add default case using _IEEE_BIG_ENDIAN and
	_IEEE_LITTLE_ENDIAN flags.
	* libc/include/sys/reent.h: Change __uint32_t references to
	use _ULong instead.
	(_REENT_GETDATE_REENT_P): New macro.
	* libc/include/sys/types.h (__int16_t, __uint16_t): Added.
	(__int32_t, __uint32_t, __int64_t, __uint64_t): Ditto.
	* libc/search/hash.h: Add default setting of BYTE_ORDER,
	LITTLE_ENDIAN, and BIG_ENDIAN, if not already defined.
	* libc/sys/linux/sys/types.h: Include <sys/_types.h>.  Define
	ssize_t based on _ssize_t.  Remove __socklen_t, __uintptr_t,
	pid_t, off_t, loff_t, caddr_t, and daddr_t type
	definitions which are done by subsequent glibc headers.
	Add macro definitions to prevent subsequent header files from
	defining pid_t, off_t, ssize_t, and key_t.  Move uintptr_t and
	intptr_t to after glibc definitions of types they are based on.

2002-06-21  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/errno.h: Protect from multiple inclusion.

2002-06-21  Nick Clifton  <nickc@cambridge.redhat.com>

	* libc/sys/arm/swi.h (ADP_Stopped_RunTimeError): Set correct value.

2002-06-20  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* Makefile.am (LIB_OBJECTLISTS): Add
	libc/search/objectlist.awk.in.
	* libc/Makefile.am (SUBDIRS): Add search.
	(SUBLIBS): Add search/libsearch.la.
	* libc/configure.in (AC_OUTPUT): Add search/Makefile.
	* libc/search: New directory.
	* libc/search/Makefile.am: New file.
	* libc/search/extern.h: New file.
	* libc/search/hash.c: New file.
	* libc/search/hash.h: New file.
	* libc/search/hash_bigkey.c: New file.
	* libc/search/hash_buf.c: New file.
	* libc/search/hash_func.c: New file.
	* libc/search/hash_log2.c: New file.
	* libc/search/hash_page.c: New file.
	* libc/search/hcreate.3: New file.
	* libc/search/hcreate.c: New file.
	* libc/search/hcreate_r.c: New file.
	* libc/search/ndbm.c: New file.
	* libc/search/page.h: New file.
	* libc/search/tdelete.c: New file.
	* libc/search/tdestroy.c: New file.
	* libc/search/tfind.c: New file.
	* libc/search/tsearch.3: New file.
	* libc/search/tsearch.c: New file.
	* libc/search/twalk.c: New file.
	* libc/include/db.h: New file.
	* libc/include/ndbm.h: New file.
	* libc/include/search.h: New file.
	* libc/include/sys/queue.h: New file.
	* libc/include/sys/cdefs.h: New file.
	* libc/include/sys/param.h
	[__IEEE_LITTLE_ENDIAN,__IEEE_BIG_ENDIAN]: Set BYTE_ORDER to
	LITTLE_ENDIAN or BIG_ENDIAN.
	* libc/include/sys/errno.h (EFTYPE): New macro.
	* libc/search/bsearch.c: Move from libc/stdlib.
	* libc/search/qsort.c: Likewise.
	* libc/stdlib/Makefile.am (LIB_SOURCES): Remove bsearch.c and
	qsort.c.
	(CHEWOUT_FILES): Remove bsearch.def and qsort.def.
	* libc/stdlib/stdlib.tex: Remove references to bsearch and qsort.

2002-06-19  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/Makefile.am: Add support for message queue routines,
	ipc routines, and ftok.
	* libc/sys/linux/Makefile.in: Regenerated.
	* libc/sys/linux/ftok.c: New file.
	* libc/sys/linux/ipc.c: Ditto.
	* libc/sys/linux/mq_close.c: Ditto.
	* libc/sys/linux/mq_getattr.c: Ditto.
	* libc/sys/linux/mq_notify.c: Ditto.
	* libc/sys/linux/mq_open.c: Ditto.
	* libc/sys/linux/mq_receive.c: Ditto.
	* libc/sys/linux/mq_send.c: Ditto.
	* libc/sys/linux/mq_setattr.c: Ditto.
	* libc/sys/linux/mq_unlink.c: Ditto.
	* libc/sys/linux/mqlocal.h: Ditto.
	* libc/sys/linux/include/mqueue.h: Ditto.
	* libc/sys/linux/sys/types.h: Define __gid_t_defined and
	__uid_t_defined.

2002-06-19  J"orn Rennecke <joern.rennecke@superh.com>

	* libm/common/sf_lround.c (round): Change name to: (lround).
	* libm/common/sf_remquo.c (remquo): Pass all arguemnts to
	remquof.

2002-06-18  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* testsuite/lib/passfail.exp (newlib_pass_fail_all): New
	procedure.
	(newlib_pass_fail): Change to compile and run only one file.
	* testsuite/newlib.locale/locale.exp: Use new
	newlib_pass_fail_all procedure.
	* testsuite/newlib.string/string.exp: Likewise.

2002-06-18  Dave Brolley  <brolley@redhat.com>

	From Catherine Moore, Michael Meissner, Richard Sandiford:
	* libc/include/machine/setjmp.h (_JBLEN): Define for __frv__.
	(_JBTYPE): Ditto.
	* libc/include/sys/config.h (__IEEE_BIG_ENDIAN): Ditto.
	(__ATTRIBUTE_IMPURE_PTR__): Ditto.
	* libc/include/machine/ieeefp.h (__IEEE_BIG_ENDIAN): Ditto.
	* configure.host: Support frv-*-*.
	* libc/machine/frv/Makefile.am: New file.
	* libc/machine/frv/configure.in: New file.
	* libc/machine/frv/setjmp.S: New file.

2002-06-18  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* libc/include/ctype.h: Remove isblank macro.

	* libc/ctype/Makefile.am (LIB_SOURCES): Add isblank.c.
	* libc/ctype/isblank.c: New file.
	* libc/include/ctype.h [!__STRICT_ANSI__]: Add isblank
	declaration.  Add isblank macro.

2002-06-18  Jeff Johnston  <jjohnstn@redhat.com>

	* testsuite/newlib.stdlib/atexit.c: New file.
	* testsuite/newlib.stdlib/atexit.exp: Ditto.
	* testsuite/newlib.string/tstring.c: Change default start size
	to something more reasonable for embedded platforms.

2002-06-14  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* libc/sys/linux/sys/errno.h (EFTYPE): Add macro.

	* libc/argz: New directory.
	* libc/argz/*: New files.
	* libc/argz/argz_add.c: New file.
	* libc/argz/argz_add_sep.c: New file.
	* libc/argz/argz_append.c: New file.
	* libc/argz/argz_count.c: New file.
	* libc/argz/argz_create.c: New file.
	* libc/argz/argz_create_sep.c: New file.
	* libc/argz/argz_delete.c: New file.
	* libc/argz/argz_extract.c: New file.
	* libc/argz/argz_insert.c: New file.
	* libc/argz/argz_next.c: New file.
	* libc/argz/argz_replace.c: New file.
	* libc/argz/argz_stringify.c: New file.
	* libc/argz/buf_findstr.c: New file.
	* libc/argz/envz_add.c: New file.
	* libc/argz/envz_entry.c: New file.
	* libc/argz/envz_get.c: New file.
	* libc/argz/envz_merge.c: New file.
	* libc/argz/envz_remove.c: New file.
	* libc/argz/envz_strip.c: New file.
	* libc/include/argz.h: New file.
	* libc/include/envz.h: New file.
	* Makefile.am (LIBC_OBJECTLISTS): Add
	libc/argz/objectlist.awk.in.
	* libc/Makefile.am (SUBDIRS): Add argz.
	(SUBLIBS): Add argz/libargz.la.
	* libc/configure.in (AC_OUTPUT): Add argz/Makefile.
	* libc/include/errno.h: Add error_t typedef.

2002-06-13  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/stdlib.h: Add _Exit prototype.
	* libc/stdlib/Makefile.am: Add _Exit.c support.
	* libc/stdlib/Makefile.in: Ditto.
	* libc/stdlib/_Exit.c: New file.

2002-06-13  Stephen L. Moshier  <steve@moshier.net>

	* libm/math/e_pow.c (__ieee754_pow): Fix case whereby
	x is close to -1.0 and y is very large to use ax (absolute value)
	instead of x.
	* libm/math/ef_pow.c (__ieee754_powf): Ditto.

Thu Jun 13 19:23:40 2002  J"orn Rennecke <joern.rennecke@superh.com>

	* libc/machine/sh/strcpy.S (strcpy, __SHMEDIA__ code):
	Fix clobbering bytes before destination if src and dst have same
	non-zero misalignment.

	* libc/machine/sh/memset.S (memset, __SHMEDIA__ code):
	Fixed bug in writing end of set region.

2002-06-10  Christopher Faylor  <cgf@redhat.com>

	* libc/include/process.h: Remove cygwin-only sexec* declarations.  Fix
	spawnve declaration.

2002-06-06  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* libm/common/s_fdim.c: New file.
	* libm/common/s_fma.c: Likewise.
	* libm/common/s_fmax.c: Likewise.
	* libm/common/s_fmin.c: Likewise.
	* libm/common/s_fpclassify.c: Likewise.
	* libm/common/s_lrint.c: Likewise.
	* libm/common/s_lround.c: Likewise.
	* libm/common/s_nearbyint.c: Likewise.
	* libm/common/s_remquo.c: Likewise.
	* libm/common/s_round.c: Likewise.
	* libm/common/s_scalbln.c: Likewise.
	* libm/common/s_signbit.c: Likewise.
	* libm/common/s_trunc.c: Likewise.
	* libm/common/sf_fdim.c: Likewise.
	* libm/common/sf_fma.c: Likewise.
	* libm/common/sf_fmax.c: Likewise.
	* libm/common/sf_fmin.c: Likewise.
	* libm/common/sf_lrint.c: Likewise.
	* libm/common/sf_lround.c: Likewise.
	* libm/common/sf_nearbyint.c: Likewise.
	* libm/common/sf_remquo.c: Likewise.
	* libm/common/sf_round.c: Likewise.
	* libm/common/sf_scalbln.c: Likewise.
	* libm/common/sf_trunc.c: Likewise.
	* libm/math/w_exp2.c: Likewise.
	* libm/math/w_tgamma.c: Likewise.
	* libm/math/wf_exp2.c: Likewise.
	* libm/math/wf_tgamma.c: Likewise.
	* libm/mathfp/s_exp2.c: Likewise.
	* libm/mathfp/s_tgamma.c: Likewise.
	* libm/mathfp/sf_exp2.c: Likewise.
	* libm/mathfp/sf_tgamma.c: Likewise.
	* libm/math/er_gamma.c: Fix return value.
	* libm/math/erf_gamma.c: Likewise.
	* libm/mathfp/er_gamma.c: Likewise.
	* libm/mathfp/erf_gamma.c: Likewise.
	* libc/include/math.h (!__STRICT_ANSI__): Include ISOC99-specific
	declarations and macros.
	Regenerated all Makefile.in, aclocal.m4 and configure files to
	use new libtool macros in top-level libtool.m4

2002-06-05  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/string.h[__linux__]: Add strsignal prototype.
	* libc/include/sys/lock.h: New file with default locking support.
	* libc/include/sys/reent.h: Add signal buffer support for strsignal
	and psignal.
	* libc/posix/Makefile.am: Add support for readdir_r.c.
	* libc/posix/Makefile.in: Regenerated.
	* libc/posix/closedir.c: Add locking support and hash table cleanup.
	* libc/posix/opendir.c: Add lock support.
	* libc/posix/readdir.c: Ditto.
	* libc/posix/rewinddir.c: Ditto.
	* libc/posix/scandir.c: Ditto.
	* libc/posix/seekdir.c: Ditto.
	* libc/posix/telldir.c: Ditto plus add _cleanupdir routine to
	clean up leftover hash table entries.
	* libc/posix/readdir_r.c: New file.
	* libc/sys/linux/Makefile.am: Add psignal.c and strsignal.c support.
	* libc/sys/linux/Makefile.in: Regenerated.
	* libc/sys/linux/sys/dirent.h: Add dd_lock to DIR structure.
	* libc/sys/linux/sys/signal.h: Add psignal prototype.
	* libc/sys/linux/psignal.c: New file.
	* libc/sys/linux/strsignal.c: Ditto.

2002-06-03  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/types.h: Don't define dev_t when compiling for
	Cygwin.

2002-05-31  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/Makefile.am: Add sig.c and sigaction.c.  Also
	make siglist.inc dependent on sig.c instead of signal.c.
	* libc/sys/linux/Makefile.in: Regenerated.
	* libc/sys/linux/sig.c: Rename from signal.c and change code to
	use NSIG instead of _NSIG.
	* libc/sys/linux/sigaction.c: New file.
	* libc/sys/linux/signal.c: Changed to be linux signal() function
	so as to override regular newlib default signal.c.
	* libc/sys/linux/machine/i386/Makefile.am: Remove sigset.c.
	* libc/sys/linux/machine/i386/Makefile.in: Regenerated.
	* libc/sys/linux/machine/i386/sigset.c: Moved to linux main directory.
	* libc/sys/linux/sigset.c: Moved from machine/i386 directory.
	* libc/sys/linux/sys/signal.h: Redefine NSIG to _NSIG and override
	default linux sigset_t typedef by defining it equal to __sigset_t.
	* libc/unix/sigset.c: Add check so code isn't compiled on systems
	with a sigset_t that isn't implemented with a single int.

2002-05-30  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/Makefile.am: Add support for new files.
	* libc/sys/linux/Makefile.in: Regenerated.
	* libc/sys/linux/ids.c: Add __getuid weak alias for getuid.
	* libc/sys/linux/signal.c: Change to use real-time syscalls for
	sigsuspend, sigprocmask, and sigpending.  Also remove sigaction as
	it is in a separate file now.
	* libc/sys/linux/machine/i386/Makefile.am
	* libc/sys/linux/machine/i386/Makefile.in
	* libc/sys/linux/sys/signal.h: Add include of <bits/signum.h>.
	* libc/sys/linux/sigaction.c: New file.
	* libc/sys/linux/sigqueue.c: Ditto.
	* libc/sys/linux/sigwait.c: Ditto.
	* libc/sys/linux/machine/i386/sigaction.c: Ditto.
	* libc/sys/linux/kernel_sigaction.h: Ditto.

2002-05-28  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/Makefile.am: Add support for cfspeed.c and
	tcsendbrk.c.
	* libc/sys/linux/Makefile.in: Regenerated.
	* libc/sys/linux/termios.c: Add tcflow(), tcflush(),
	tcgetpgrp(), and tcsetpgrp() functions.
	* libc/sys/linux/sys/termios.h: Add include of machine/termios.h
	to get __MAX_BAUD rate.
	* libc/sys/linux/machine/i386/include/termios.h: New file.
	* libc/include/machine/termios.h: Ditto.
	* libc/sys/linux/cfspeed.c: Ditto.
	* libc/sys/linux/tcsendbrk.c: Ditto.

2002-05-24  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/string.h: Add strnlen and strerror_r prototypes.
	* libc/string/Makefile.am: Add strnlen.c and strerror_r.c support.
	* libc/string/Makefile.in: Regenerated.
	* libc/string/strerror_r.c: New file.
	* libc/string/strnlen.c: New file.
	* libc/sys/linux/Makefile.am: Add rename.c.
	* libc/sys/linux/Makefile.in: Regenerated.
	* libc/sys/linux/rename.c: New file to override default rename.

2002-05-24  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* libc/sys/linux/sys/cdefs.h: Add __weak_reference macros.
	* libc/sys/linux/sys/time.h: Add conversion macros.
	* libc/sys/linux/sys/types.h: Add FD_ macros.  Include <bits/types.h>.
	* libc/sys/linux/ids.c: Add setresuid and syslog syscalls.
	* libc/sys/linux/gethostname.c: New file.
	* libc/sys/linux/seteuid.c: New file.
	* libc/sys/linux/sysctl.c: New file.

2002-05-23  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/string/Makefile.am: Add support for strsep.c.
	* libc/string/Makefile.in: Regenerated.
	* libc/string/strsep.c: New file.
	* libc/string/strtok.c: Change to call __strtok_r service routine.
	* libc/string/strtok_r.c: Add __strtok_r routine which takes
	additional flag parameter regarding whether to skip leading delimeters.
	Change strtok_r to call __strtok_r.

2002-05-23  Gareth Pearce  <tilps@hotmail.com>

	* libc/stdio/Makefile.am: Modify to add setbuffer.c and setlinebuf.c.
	* libc/stdio/Makefile.in: Regenerated.
	* libc/stdio/setbuffer.c: New file.
	* libc/stdio/setlinebuf.c: New file.

2002-05-23  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/Makefile.am: Add resource.c.
	* libc/sys/linux/Makefile.in: Regenerated.
	* libc/sys/linux/resource.c: New file.
	* libc/sys/linux/time.c: Add settimeofday, getitimer, and setitimer.
	* libc/sys/linux/machine/i386/Makefile.am: Remove syscalls.c.
	* libc/sys/linux/machine/i386/Makefile.in: Regenerated.
	* libc/sys/linux/machine/i386/syscalls.c: Removed as functions
	are now found in libc/sys/linux/resource.c.

2002-05-23  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/string.h (bcmp, bcopy, bzero): Change prototypes
	to use void * pointers and comply with Single Unix spec.
	* libc/string/bcmp.c: Change to use void * instead of char *.
	* libc/string/bcopy.c: Ditto.
	* libc/string/bzero.c: Ditto.

2002-05-22  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/shm_open.c: New file.
	* libc/sys/linux/shm_unlink.c: Ditto.
	* libc/sys/linux/Makefile.am: Add support for shm_open.c and
	shm_unlink.c.
	* libc/sys/linux/Makefile.in: Regenerated.
	* libc/sys/linux/sys/types.h: Add some additional checks to see
	if clock_t or time_t is already defined.

2002-05-22  Jeff Johnston  <jjohnstn@redhat.com>

	* Makefile.am: Don't pass $toollibdir down directly in
	AM_MAKEFLAGS as it causes all multilibs to use the same toollibdir.
	Pass it under the name: top_toollibdir.
	* Makefile.in: Regenerated.

2002-05-22  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/sys/types.h: Revert previous patch.

2002-05-22  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/sys/types.h: Include cygwin/types.h always under
	Cygwin, not only if _POSIX_THREADS is defined.

2002-05-21 Dhananjay Deshpande <dhananjayd@kpit.com>

	* configure.host: Specify sys_dir=h8300hms for h8300-*-coff* target.

2002-05-17  Jeff Johnston  <jjohnstn@redhat.com>

	* Makefile.am: Copy and install headers from sys/machine/include
	directory.  Also pass $toollibdir to lower-level directories.
	* Makefile.in: Regenerated.
	* libc/include/stdio.h[!_REENT_ONLY]: Change stdin, stdout, and
	stderr to use _REENT macro instead of _impure_ptr directly.
	* libc/include/sys/config.h[__i386__][__linux__]: Define
	__DYNAMIC_REENT__.
	* libc/include/sys/reent.h[!_REENT_ONLY]: Change _REENT macro to be
	call to __getreent() function if !__SINGLE_THREAD__ and
	__DYNAMIC_REENT__ is set.
	* libc/reent/Makefile.am: Add support for getreent.c.
	* libc/reent/Makefile.in: Regenerated.
	* libc/string/strerror.c: Add check if EOPNOTSUPP and ENOTSUP are same.
	* libc/sys/linux/Makefile.am: Add support for new files.
	* libc/sys/linux/configure.in: Add $EXTRA_DIRS variable.
	* libc/sys/linux/Makefile.in: Regenerated.
	* libc/sys/linux/configure: Ditto.
	* libc/sys/linux/io.c: Add poll syscall.  Also weak-alias
	__close, __read, __write, __poll, __open, __lseek, __fcntl from
	their __libc_ counterparts.
	* libc/sys/linux/io64.c: Add __libc_ prefix to lseek64 and open64
	and weak-alias to regular names.
	* libc/sys/linux/pread64.c: Rename to __libc_pread64 and weak-alias
	to pread64 and __pread64.
	* libc/sys/linux/process.c: Weak_alias __libc_getpid to __getpid.
	* libc/sys/linux/pwrite64.c: Rename to __libc_pwrite64 and
	weak-alias to pwrite64.
	* libc/sys/linux/sched.c: Weak-alias __libc_sched_getparam,
	__libc_sched_getscheduler, __libc_sched_get_priority_max,
	__libc_sched_get_priority_min, and __libc_sched_setschedule to
	name with __ instead of __libc_.
	* libc/sys/linux/siglongjmp.c: Include <machine/weakalias.h>.
	Rename siglongjmp to __libc_siglongjmp and weak-alias to siglongjmp.
	Call __libc_longjmp instead of longjmp, from __libc_siglongjmp.
	* libc/sys/linux/signal.c: Rename raise to __libc_raise and weak-alias
	to raise.
	* libc/sys/linux/socket.c: Weak-alias __libc_connect to __connect and
	__libc_send to __send.
	* libc/sys/linux/time.c: Weak-alias __libc_gettimeofday to
	__gettimeofday.
	* libc/sys/linux/wait.c: Rename wait to __libc_wait and weak-alias
	it to wait.  Rename wait3 to __libc_wait3 and weak-alias it to wait3.
	* libc/sys/linux/include/setjmp.h: Use __jmp_buf in sigjmp_buf
	type and typedef __jmp_buf to jmp_buf.
	* libc/sys/linux/machine/i386/Makefile.am: Add syscalls.c and
	setjmp.S.
	* libc/sys/linux/machine/i386/Makefile.in: Regenerated.
	* libc/sys/linux/machine/i386/crt0.c: Add support to clear .bss
	section.
	* libc/sys/linux/machine/i386/socketcall.h: Change to use __libc_
	prefix for function macros and then use weak_alias() to regular names.
	* libc/sys/linux/machine/i386/syscall.h: Ditto.
	* libc/sys/linux/sys/errno.h: Define EOPNOTSUP to be ENOTSUP.
	* libc/sys/linux/sys/stdio.h: Define _flockfile and _funlockfile
	to be flockfile() and funlockfile() respectively.
	* libc/sys/linux/sys/types.h
	* libc/reent/getreent.c: New file.
	* libc/sys/linux/flockfile.c: Ditto.
	* libc/sys/linux/funlockfile.c: Ditto.
	* libc/sys/linux/getreent.c: Ditto.
	* libc/sys/linux/pread.c: Ditto.
	* libc/sys/linux/pwrite.c: Ditto.
	* libc/sys/linux/raise.c: Ditto.
	* libc/sys/linux/system.c: Ditto.
	* libc/sys/linux/tcdrain.c: Ditto.
	* libc/sys/linux/machine/i386/i386mach.h: Ditto.
	* libc/sys/linux/machine/i386/setjmp.S: Ditto.
	* libc/sys/linux/machine/i386/syscalls.c: Ditto.
	* libc/sys/linux/machine/i386/weakalias.h: Ditto.
	* libc/sys/linux/machine/i386/include/setjmp.h: Ditto.

2002-05-14 Dhananjay Deshpande <dhananjayd@kpit.com>

	* newlib/libc/sys/h8300hms/Makeile.am (lib_a_SOURCES): Add read.c.
	* newlib/libc/sys/h8300hms/read.c: New file.  Magic trap 0xC8 for sim.
	* newlib/libc/sys/h8300hms/syscalls.c: Move _read() to read.c.
	* newlib/libs/sys/h8300hms/sys/syscall.h: New file.

Thu May 16 17:24:57 2002  J"orn Rennecke <joern.rennecke@superh.com>

	* libc/machine/sh/strcpy.S (strcpy): Replace LITTLE_ENDIAN with
	__LITTLE_ENDIAN__.  make sure r0 has right value at first loop
	exit point.

2002-05-15  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* testsuite/lib/newlib.exp: Add newlib_include_flags to compile
	options when testing natively on i[3456]86-*-linux.

	* testsuite/lib/checkoutput.exp (newlib_check_output): Output
	only one pass or fail per test file.  Trim \r's from output
	values received from test programs.  Remove support for named
	tests.
	* testsuite/newlib.locale/UTF-8.exp: Update to support new
	newlib_check_output behaviour.
	* testsuite/newlib.locale/UTF-8.c: Likewise.

2002-05-15  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/stdlib.h: Add on_exit prototype.
	* libc/include/sys/reent.h (struct _atexit): Add argument array
	and bits to track type of exit routine to support both on_exit
	and atexit.
	(_REENT_INIT_PTR): Add missing fields that won't be zeroed out
	by default and change the setting of the atexit structure.
	(_REENT_INIT)[!_REENT_SMALL]: Remove extraneous end brace.
	* libc/stdlib/on_exit.c: New file.
	* libc/stdlib/Makefile.am: Add support for on_exit.
	* libc/stdlib/Makefile.in: Regenerated.
	* libc/stdlib/atexit.c: Change to initialize types field.
	* libc/stdlib/exit.c: Change to look at types field for each
	exit routine and either call an atexit-style or an on_exit-style
	routine accordingly.

2002-05-13  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/machine/powerpc/vfprintf.c(__VFPRINTF_R)[__ALTIVEC__]: Don't
	allow v specifier with n or L specifiers.  For vector c format,
	move tmp declaration to the top.

2002-05-13  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/machine/powerpc/vfprintf.c(__VFPRINTF_R)[__ALTIVEC__]: Restore
	the original format specifier when looping for vectors to compensate
	for any changes made in vector %g format processing.
	Also add syntax checking for various invalid scenarios
	involving vector format extensions.
	* libc/machine/powerpc/vfscanf.c(__VFSCANF_R)[__ALTIVEC__]: Fix
	return code setting for vector formats.  Also treat vector
	separator mismatch as a match error instead of an input error.
	Perform some syntax checking for vector formats.

2002-05-10  Mark Bradshaw  <bradshaw@staff.crosswalk.com>

	* libc/include/string.h (!__STRICT_ANSI__): Add strlcat and strlcpy.
	* libc/string/Makefile.am: Add strlcat.c and strlcpy.c.
	* libc/string/strlcat.c: New file.
	* libc/string/strlcpy.c: New file.

2002-05-10  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/string/strchr.c: Fix comment typo.

2002-05-08  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* acinclude.m4: Add support for --enable-newlib-multithread.
	* configure.host (newlib_cflags): Add -D__SINGLE_THREAD__ if
	--enable-newlib-multithread=no.

	* libc/stdio/getc_u.c: New file.
	* libc/stdio/getchar_u.c: New file.
	* libc/stdio/putc_u.c: New file.
	* libc/stdio/putchar_u.c: New file.
	* libc/include/stdio.h: Add declarations for getc_unlocked,
	getchar_unlocked, putc_unlocked and putchar_unlocked.
	* libc/stdio/Makefile.am (LIB_SOURCES): Add new files.
	(CHEWOUT_FILES): Add new files' .def's.
	* libc/stdio/putchar.c (_putchar_r): Replace __sputc with putc.

Wed May  8 17:47:35 2002  J"orn Rennecke <joern.rennecke@superh.com>

	* libc/machine/sh/memset.S (memset, __SHMEDIA__ code):
	Also handle as single quad word when destination ends at last
	byte of first quad word.  Fix byte selection in single quad code.

2002-05-07  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* libc/include/sys/stdio.h: New file.
	* libc/sys/linux/sys/stdio.h: New file.
	* libc/include/stdio.h: Add declarations for flockfile,
	ftrylockfile, and funlockfile.  Include <sys/stdio.h>.
	* libc/stdio/clearerr.c: Add file locking.
	* libc/stdio/fclose.c: Likewise.
	* libc/stdio/feof.c: Likewise.
	* libc/stdio/ferror.c: Likewise.
	* libc/stdio/fflush.c: Likewise.
	* libc/stdio/fgetc.c: Likewise.
	* libc/stdio/fgetpos.c: Likewise.
	* libc/stdio/fgets.c: Likewise.
	* libc/stdio/fileno.c: Likewise.
	* libc/stdio/fputc.c: Likewise.
	* libc/stdio/fputs.c: Likewise.
	* libc/stdio/fread.c: Likewise.
	* libc/stdio/freopen.c: Likewise.
	* libc/stdio/fseek.c: Likewise.
	* libc/stdio/ftell.c: Likewise.
	* libc/stdio/fwrite.c: Likewise.
	* libc/stdio/getc.c: Likewise.
	* libc/stdio/putc.c: Likewise.
	* libc/stdio/setvbuf.c: Likewise.
	* libc/stdio/ungetc.c: Likewise.
	* libc/stdio/vfprintf.c: Likewise.

2002-05-06  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/machine/powerpc/vfprintf.c[__ALTIVEC__]: Add vector
	support for 'p' format.  Fix code to print bytes for vector
	integer formats that do not specify 'h' or 'l'.
	* libc/machine/powerpc/vfscanf.c[__ALTIVEC__]: Add vector support
	for 'p' specifier.  Fix code to scan 16 bytes for vector integer
	formats that do not specify 'h' or 'l'.

	* libc/include/stdlib.h (a64l, l64a, _l64a_r): Added prototypes.

2002-05-06  Nick Clifton  <nickc@cambridge.redhat.com>

	* libc/sys/arm/syscalls.c (_rename): Add parameter names.
	(_sbrk): Add cast of return value.

2002-05-06  Jeff Johnston  <jjohnstn@redhat.com>

	*  libc/include/sys/reent.h (_l64a_buf): New reentrant area.
	(_REENT_L64A_BUF): New macro for accessing area.
	*  libc/stdlib/Makefile.am: Add a64l.c and l64a.c.
	*  libc/stdlib/Makefile.in: Regenerated.
	*  libc/stdlib/a64l.c: New file.
	*  libc/stdlib/l64a.c: New file.

2002-05-06  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/unix/pread.c: Fix typo for _pread_r.
	* libc/unix/pwrite.c: Fix type for _pwrite_r.
	* libc/sys/linux/pread64.c: Fix typo for read syscall.
	* libc/sys/linux/pwrite64.c: Fix typo for write syscall.

2002-05-03  Christopher Faylor  <cgf@redhat.com>

	* libc/include/sys/unistd.h: Define getdomainname under cygwin.

2002-05-03  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* configure.in (CC_FOR_NEWLIB): Change -isystem's to -I's.

2002-05-01  Christopher Faylor  <cgf@redhat.com>

	* utmp.h: Define more UNIX constants.

2002-05-01  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* Makefile.am: Add support for checking multilibs.

	* libc/Makefile.am (SUBLIBS): Add LIBC_EXTRA_LIB.
	(SUBDEFS): Add LIBC_EXTRA_DEF.
	* libc/configure.in (LIBC_EXTRA_LIB): New variable.
	(LIBC_EXTRA_DEF): Likewise.
	(extra_dir): Likewise.
	* libc/machine/xscale/machine: New directory.
	* libc/machine/xscale/machine/profile.h: New file.

	* Makefile.am (site.exp): Remove newlib_cflags.  Add
	multibuildtop.
	* testsuite/newlib.locale/UTF-8.c: Change fprintf's to printf's.
	* testsuite/lib/flags.exp: New file.
	* testsuite/lib/newlib.exp: Load flags.exp.
	(newlib_target_compile): Remove libgloss directory references.
	(newlib_init): Remove newlib_cflags references.

2002-04-30  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* testsuite/lib/newlib.exp (newlib_target_compile): Change
	method of finding libgloss_target_dir.

	* Makefile.am (site.exp): Change host_alias, host_triplet,
	target_alias, target_triplet to refer to gcc's host and target
	variables (newlib's build and host variables).
	* testsuite/lib/newlib.exp (newlib_init): Change build
	references to host references, host references to target
	references to reflect Makefile.am changes.
	(newlib_target_compile): Likewise.
	(newlib_finish): Likewise.

2002-04-29  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/io64.c (fstat64, lstat64): New syscalls added.

2002-04-29  Jonathan Larmour  <jlarmour@redhat.com>

	* libc/sys/arm/syscalls.c (_rename): New function. Just a stub.
	(_system): New function. Ditto.
	* libc/stdlib/system.c (_system_r): Call _system if HAVE_SYSTEM.
	* configure.host: define HAVE_SYSTEM and HAVE_RENAME for xscale
	targets.

2002-04-29  Jeff Johnston  <jjohnstn@redhat.com>

	*  libc/include/sys/unistd.h (pread, pwrite): Added prototypes.
	*  libc/unix/Makefile.am: Add pread.c and pwrite.c.
	*  libc/sys/linux/Makefile.am: Add pread64.c and pwrite64.c.
	*  libc/sys/linux/Makefile.in: Regenerated.
	*  libc/unix/Makefile.in: Ditto.
	*  libc/sys/linux/pread64.c: New file.
	*  libc/sys/linux/pwrite64.c: Ditto.
	*  libc/unix/pread.c: Ditto.
	*  libc/unix/pwrite.c: Ditto.

2002-04-26  Jeff Johnston  <jjohnstn@redhat.com>

	*  libc/sys/linux/Makefile.am: Add io64.c.
	*  libc/sys/linux/Makefile.in: Regenerated.
	*  libc/sys/linux/io.c(mkfifo, fsync, fdatasync): Added syscalls.
	*  libc/sys/linux/signal.c (sigwaitinfo, sigtimedwait): Ditto.
	*  libc/sys/linux/io64.c: New file.

2002-04-26  Jeff Johnston  <jjohnstn@redhat.com>

	* configure.in (CC_FOR_NEWLIB): New variable that
	bases on $(CC) and adds targ-include and libc/include as
	-isystem directives if they are not already part of $(CC).
	* Makefile.am (AM_MAKEFLAGS): Change setting of CC to equal
	$(CC_FOR_NEWLIB).
	* configure: Regenerated.
	* Makefile.in: Ditto.

2002-04-25  Jeff Johnston  <jjohnstn@redhat.com>

	*  libc/sys/linux/Makefile.am: Add support for sched.c.
	*  libc/sys/linux/Makefile.in: Regenerated.
	*  libc/sys/linux/sched.c: New file.
	*  libc/sys/linux/sys/types.h: Add struct timespec.

2002-04-25  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* configure.in (CC_FOR_BUILD): Set to gcc whether
	cross-compiling or not.
	(CC): Add -isystem's for targ-include and libc/include when they
	do not already appear in CC.

2002-04-24  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* Makefile.am (check-DEJAGNU): New target.
	(site.exp): Likewise.
	* acinclude.m4 (NEWLIB_CONFIGURE): Replace AC_CANONICAL_HOST
	with AC_CANONICAL_SYSTEM.  Remove AC_CANONICAL_BUILD.
	* libc/locale/locale.c (_setlocale_r): Add UTF-8 support.
	* libc/stdlib/mbtowc_r.c (_mbtowc_r): Likewise.
	* libc/stdlib/wctomb_r.c (_wctomb_r): Likewise.
	* testsuite: New directory.
	* testsuite/config: Likewise.
	* testsuite/lib: Likewise.
	* testsuite/newlib.locale: Likewise.
	* testsuite/newlib.string: Likewise.
	* testsuite/config/default.exp: New file.
	* testsuite/lib/checkoutput.exp: New file.
	* testsuite/lib/newlib.exp: New file.
	* testsuite/lib/passfail.exp: New file.
	* testsuite/newlib.locale/UTF-8.c: New file.
	* testsuite/newlib.locale/UTF-8.exp: New file.
	* testsuite/newlib.locale/locale.exp: New file.
	* testsuite/newlib.string/string.exp: New file.
	* testsuite/newlib.string/tstring.c: New file.

2002-04-23  Jeff Johnston  <jjohnstn@redhat.com>

	*  libc/include/machine/types.h (__pid_t, __off_t, __loff_t): Added.
	*  libc/sys/linux/Makefile.am: Add support for mmap.c.
	*  libc/sys/linux/Makefile.in: Regenerated.
	*  libc/sys/linux/mmap.c: New file.
	*  libc/sys/linux/machine/i386/syscall.h: Add _syscall6 macro.
	*  libc/sys/linux/sys/types.h (pid_t, off_t, loff_t): Added.

2002-04-22  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* acinclude.m4 (newlib_cflags): Remove include directories that
	are already specified in the top-level configure.in's FLAGS_FOR_TARGET.

2002-04-19  Bill Siegmund  <ctc-dsl@pacbell.net>

	* libc/machine/xscale/memchr.c: Don't use multi-line strings.
	* libc/machine/xscale/memcmp.c: Ditto.
	* libc/machine/xscale/memcpy.c: Ditto.
	* libc/machine/xscale/memmove.c: Ditto.
	* libc/machine/xscale/memset.c: Ditto.
	* libc/machine/xscale/strchr.c: Ditto.
	* libc/machine/xscale/strcmp.c: Ditto.
	* libc/machine/xscale/strcpy.c: Ditto.
	* libc/machine/xscale/strlen.c: Ditto.

2002-04-19  Alexandre Oliva  <aoliva@redhat.com>

	* libc/include/sys/config.h: Remove include of <limits.h>.
	(__INT_MAX__, __LONG_MAX__): Define like GCC's limits.h would
	define INT_MAX and LONG_MAX.  Use them in tests.

2002-04-19  Jeff Johnston  <jjohnstn@redhat.com>

	*  configure.host: Add support for powerpc-eabialtivec*.
	*  libc/include/malloc.h: Add include of <machine/malloc.h>.
	*  libc/include/stdlib.h: Add include of <machine/stdlib.h>.
	*  libc/include/machine/malloc.h: New file.
	*  libc/include/machine/stdlib.h: Ditto.
	*  libc/include/machine/setjmp.h: Add support for powerpc altivec.
	*  libc/machine/powerpc/Makefile.am: Add conditional objects and
	sources based on configuration.
	*  libc/machine/powerpc/Makefile.in: Regenerated.
	*  libc/machine/powerpc/configure: Ditto.
	*  libc/machine/powerpc/configure.in: Add check for
	powerpc-eabialtivec* in which case add in additional source files.
	*  libc/machine/powerpc/setjmp.S: Add altivec support.
	*  libc/machine/powerpc/vec_calloc.c: New file.
	*  libc/machine/powerpc/vec_free.c: Ditto.
	*  libc/machine/powerpc/vec_malloc.c: Ditto.
	*  libc/machine/powerpc/vec_mallocr.c: Ditto.
	*  libc/machine/powerpc/vec_realloc.c: Ditto.
	*  libc/machine/powerpc/machine/malloc.h: Ditto.
	*  libc/machine/powerpc/machine/stdlib.h: Ditto.
	*  libc/machine/powerpc/vfprintf.c: New file that is vfprintf.c
	with added altivec format specifiers.
	*  libc/machine/powerpc/vfscanf.c: New file that is vfscanf.c with
	added altivec format specifiers.

2002-04-19	Joel Sherrill <joel@OARcorp.com>

	* libs/sys/rtems/crt0.c: Satisfy gcc's references to libc functions
	while autoconf is trying to link main(){}.

2002-04-17  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/signal.c: Remove include of <bits/sigset.h>.
	* libc/sys/linux/sys/signal.h: Add include of <bits/sigset.h>.

2002-04-17  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/time/time.tex: Add tzset info.

2002-04-17  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/time.h (tzset, _tzset_r): Added prototypes.
	(strptime): Moved prototype to be within !__STRICT_ANSI__.
	(_tzname, _daylight, _timezone): No long __CYGWIN__ only.
	(tzname): Defined for all platforms.
	(daylight, timezone): Defined only for CYGWIN.
	* libc/sys/linux/machine/i386/crt0.c: Add call to tzset() after
	environment set up.
	* libc/stdlib/setenv_r.c (_setenv_r): Call tzset() if the TZ
	environment variable is set.
	* libc/time/Makefile.am: Add support for tzset.c, tzlock.c, and
	tzset_r.c.
	* libc/time/Makefile.in: Regenerated.
	* libc/time/gmtime.c (gmtime): Changed to call gmtime_r.
	* libc/time/gmtime_r.c (gmtime_r): Changed to call _mktm_r.
	* libc/time/lcltime_r.c (lcltime_r): Ditto.
	* libc/time/local.h: New local header file.
	* libc/time/mktime.c (mktime): Add timezone support.
	* libc/time/mktm_r.c: New file which is the common engine
	for gmtime_r and lcltime_r.  This code has timezone support.
	* libc/time/strftime.c (strftime): Add %Z timezone support.
	* libc/time/tzlock.c: New file containing timezone lock stubs.
	* libc/time/tzset.c: New file containing tzset() routine.
	* libc/time/tzset_r.c: New file containing _tzset_r and
	internal routine for calculating timezone changes for specified year.

2002-04-17  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* configure.in (CRT0_DIR): Set to libc/.
	(CRT1_DIR): Set to ${crt1_dir}/ if crt1_dir is non-empty.
	* Makefile.am: Change all occurrences of $(CRT0_DIR)/$(CRT0) to
	$(CRT0_DIR)$(CRT0) to prevent make warnings.  Likewise for
	$(CRT1_DIR)/$(CRT1).
	* libc/machine/xstormy16/Makefile.in: Regenerated.
	* libc/machine/xstormy16/aclocal.m4: Regenerated.
	* libc/machine/xstormy16/configure: Regenerated.

2002-04-13  Alexandre Oliva  <aoliva@redhat.com>

	* libc/stdlib/mallocr.c (malloc_extend_top): If correction sbrk
	fails, don't bail out, and try to correct next time.

	* libc/include/sys/config.h: Include limits.h.

2002-04-12  Eric Norum  <eric.norum@usask.com>

	* libc/sys/rtems/crt0.c (rtems_gxx_mutex_init): Dummy
	routine to allow autoconf to determine that building executables
	for rtems works.
	(rtems_gxx_mutex_lock, rtems_gxx_mutex_unlock): Ditto.
	(rtems_gxx_mutex_once): Ditto.

2002-04-09  Tom Rix  <trix@redhat.com>

	* libc/include/sys/reent.h (_REENT_INIT_PTR): Fix typo.

2002-04-09  Mark Bradshaw  <bradshaw@staff.crosswalk.com>

	* libc/include/time.h: Fix strptime declaration.
	* libc/time/Makefile.am: Add strptime.c.
	* libc/time/Makefile.in: Regenerated.
	* libc/time/strptime.c: New file.

2002-04-08  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/include/setjmp.h: Add sigjmp_buf type,
	siglongjmp prototype, and sigsetjmp macro definition.
	* libc/sys/linux/siglongjmp.c: New file.
	* libc/sys/linux/Makefile.am: Add support for siglongjmp.
	* libc/sys/linux/Makefile.in: Regenerated.

2002-04-04  Jeff Johnston  <jjohnstn@redhat.com>

	* Makefile.am: Add support for installing crt1.o if one exists.
	* configure.host: Specify crt1.o for linux.
	* configure.in: Expose CRT1 and CRT1_DIR for Makefile.am to use.
	* Makefile.in: Regenerated.
	* configure: Ditto.
	* libc/include/sys/unistd.h (_SC_STREAM_MAX, _SC_PRIORITY_SCHEDULING):
	Added for non-Cygwin, non-RTEMS configurations.
	* libc/sys/linux/Makefile.am: Add support for crt1 and sysconf.
	* libc/sys/linux/Makefile.in: Regenerated.
	* libc/sys/linux/crt1.c: New empty file to override one defaulted
	by gcc.  This fixes problem with reconfiguring linux newlib build.
	* libc/sys/linux/sysconf.c: New file.

2002-04-03  Jeff Johnston  <jjohnstn@redhat.com>

	* configure.host: Add support for machine subdirectory of
	sys subdirectory.
	* configure.in: Add check for sys machine subdirectory.
	* Makefile.am: Ditto.
	* configure: Regenerated.
	* Makefile.in: Ditto.
	* libc/sys/linux/crt0.c: Moved to machine/i386 directory.
	* libc/sys/linux/sys/syscall.h: Ditto.
	* libc/sys/linux/sleep.c: New file.
	* libc/sys/linux/socket.c: Ditto.
	* libc/sys/linux/sockops.h: Ditto.
	* libc/sys/linux/stack.c: Ditto.
	* libc/sys/linux/usleep.c: Ditto.
	* libc/sys/linux/machine/Makefile.am: Ditto.
	* libc/sys/linux/machine/Makefile.in: Ditto.
	* libc/sys/linux/machine/aclocal.m4: Ditto.
	* libc/sys/linux/machine/configure: Ditto.
	* libc/sys/linux/machine/configure.in: Ditto.
	* libc/sys/linux/machine/i386/Makefile.am: Ditto.
	* libc/sys/linux/machine/i386/Makefile.in: Ditto.
	* libc/sys/linux/machine/i386/aclocal.m4: Ditto.
	* libc/sys/linux/machine/i386/configure: Ditto.
	* libc/sys/linux/machine/i386/configure.in: Ditto.
	* libc/sys/linux/machine/i386/crt0.c: Ditto.
	* libc/sys/linux/machine/i386/sigset.c: Ditto.
	* libc/sys/linux/machine/i386/sigstack.h: Ditto.
	* libc/sys/linux/machine/i386/socketcall.h: Ditto.
	* libc/sys/linux/machine/i386/syscall.h: Ditto.
	* libc/sys/linux/sys/select.h: Ditto.
	* libc/sys/linux/configure.in: Add support for machine directory.
	* libc/sys/linux/Makefile.am: Ditto plus add new files above.
	* libc/sys/linux/Makefile.in: Regenerated.
	* libc/sys/linux/configure: Ditto.
	* libc/sys/linux/brk.c: Use machine/syscall.h instead of sys/syscall.h.
	* libc/sys/linux/inode.c: Ditto.
	* libc/sys/linux/linux.c: Ditto.
	* libc/sys/linux/process.c: Ditto.
	* libc/sys/linux/systat.c: Ditto.
	* libc/sys/linux/time.c: Ditto.
	* libc/sys/linux/wait.c: Ditto.
	* libc/sys/linux/ids.c: Change header plus add setfsgid/setfsuid.
	* libc/sys/linux/io.c: Change header plus add readv/writev.
	* libc/sys/linux/signal.c: Change header plus change sigsuspend to
	use __sigsuspend syscall.
	* libc/sys/linux/select.c: Change header plus change select to
	use _newselect syscall.
	* libc/sys/linux/sys/cdefs.h: Add a number of standard definitions
	used by glibc header files.
	* libc/sys/linux/sys/types.h: Add __socklen_t and __useconds_t
	types.

2002-04-01  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/reent.h (_REENT_INIT_PTR): New macro for
	initializing a struct _reent that has been dynamically allocated.
	(_REENT_CHECK_MISC): New macro that checks _misc struct for
	_REENT_SMALL and does nothing otherwise.
	(_REENT_STRTOK_LAST): New macro for reentrant strtok.
	(_REENT_MBLEN_STATE): New macro for reentrant mblen.
	(_REENT_MBTOWC_STATE): New macro for reentrant mbtowc.
	(_REENT_WCTOMB_STATE): New macro for reentrant wctomb.
	[_REENT_SMALL](struct _misc_reent): New structure containing
	miscellaneous reentrant areas needed by newlib.
	[_REENT_SMALL](struct _reent): Add _misc pointer.
	[_REENT_SMALL](_REENT_INIT_MISC): New macro.
	* libc/string/strtok (strtok): Change to use _REENT_CHECK_MISC
	and _REENT_STRTOK_LAST macros.
	* libc/stdlib/mblen (mblen): Change to use _REENT_CHECK_MISC
	and _REENT_MBLEN_STATE macros.
	* libc/stdlib/mbtowc (mbtowc): Change to use _REENT_CHECK_MISC
	and _REENT_MBTOWC_STATE macros.
	* libc/stdlib/wctomb (wctomb): Change to use _REENT_CHECK_MISC
	and _REENT_WCTOMB_STATE macros.

2002-04-01  Till Straumann <strauman@SLAC.Stanford.EDU>

	* libc/stdlib/getenv_r.c (_findenv_r): Add missing ENV_UNLOCK.

Wed Mar 27 07:34:44 2002  Jason Tishler <jason@tishler.net>

	* libc/include/sys/features.h (_POSIX_SEMAPHORES): New Cygwin define.

Tue Mar 26 17:17:10 2002  J"orn Rennecke <joern.rennecke@superh.com>

	* libc/machine/sh/memcpy.S (Large): Fix alignment rounding.
	Store high part of leading bytes too.

2002-03-22  Richard Sandiford  <rsandifo@redhat.com>

	* libm/math/ef_hypot.c: Increase scale factor to 68.

2002-03-13  Alexandre Oliva  <aoliva@redhat.com>

	* libc/machine/mips/strlen.c (strlen) [__mips16]: Fix off-by-two
	error.

2002-03-12  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/go32/access.c: Change license to relaxed license
	used in identical file throughout newlib/libgloss.

2002-03-12  Richard Earnshaw  <rearnsha@arm.com>

	* libc/sys/arm/access.c: New file.
	* libc/sys/arm/Makefile.am (lib_a_SOURCES): Add access.c.
	* libc/sys/arm/Makefile.in: Regenerate.
	* libc/sys/arm/syscalls.c (_stat): New function.

2002-03-11  Michael Meissner  <meissner@redhat.com>

	* libc/machine/mips/Makefile.am (lib_a_SOURCES): Add Mips specific
	variants strlen.c, strcmp.c, strncpy.c, memset.c and memcpy.c.
	* libc/machine/mips/Makefile.in: Regenerate.
	* libc/machine/mips/memcpy.c: New file, optimized for MIPS.
	* libc/machine/mips/memset.c: Dito.
	* libc/machine/mips/strcmp.c: Dito.
	* libc/machine/mips/strlen.c: Dito.
	* libc/machine/mips/strncmp.c: Dito.

2002-03-06  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/machine/i386/Makefile.am: Add $(oext) for setjmp
	object so it works for shared library or statici library.
2002-04-17  Jeff Johnston  <jjohnstn@redhat.com>

	*  libc/include/time.h (tzset, _tzset_r): Added prototypes.
	(strptime): Moved prototype to be within !__STRICT_ANSI__.
	(_tzname, _daylight, _timezone): No long __CYGWIN__ only.
	(tzname): Defined for all platforms.
	(daylight, timezone): Defined only for CYGWIN.
	*  libc/sys/linux/machine/i386/crt0.c: Add call to tzset() after
	environment set up.
	* libc/stdlib/setenv_r.c (_setenv_r): Call tzset() if the TZ
	environment variable is set.
	*  libc/time/Makefile.am: Add support for tzset.c, tzlock.c, and
	tzset_r.c.
	*  libc/time/Makefile.in: Regenerated.
	*  libc/time/gmtime.c (gmtime): Changed to call gmtime_r.
	*  libc/time/gmtime_r.c (gmtime_r): Changed to call _mktm_r.
	*  libc/time/lcltime_r.c (lcltime_r): Ditto.
	*  libc/time/local.h: New local header file.
	*  libc/time/mktime.c (mktime): Add timezone support.
	*  libc/time/mktm_r.c: New file which is the common engine
	for gmtime_r and lcltime_r.  This code has timezone support.
	*  libc/time/strftime.c (strftime): Add %Z timezone support.
	*  libc/time/tzlock.c: New file containing timezone lock stubs.
	*  libc/time/tzset.c: New file containing tzset() routine.
	*  libc/time/tzset_r.c: New file containing _tzset_r and
	internal routine for calculating timezone changes for specified year.

2002-04-17  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* configure.in (CRT0_DIR): Set to libc/.
	(CRT1_DIR): Set to ${crt1_dir}/ if crt1_dir is non-empty.
	* Makefile.am: Change all occurrences of $(CRT0_DIR)/$(CRT0) to
	$(CRT0_DIR)$(CRT0) to prevent make warnings.  Likewise for
	$(CRT1_DIR)/$(CRT1).
	* libc/machine/xstormy16/Makefile.in: Regenerated.
	* libc/machine/xstormy16/aclocal.m4: Regenerated.
	* libc/machine/xstormy16/configure: Regenerated.

2002-04-13  Alexandre Oliva  <aoliva@redhat.com>

	* libc/stdlib/mallocr.c (malloc_extend_top): If correction sbrk
	fails, don't bail out, and try to correct next time.

	* libc/include/sys/config.h: Include limits.h.

2002-04-12  Eric Norum  <eric.norum@usask.com>

	* libc/sys/rtems/crt0.c (rtems_gxx_mutex_init): Dummy
	routine to allow autoconf to determine that building executables
	for rtems works.
	(rtems_gxx_mutex_lock, rtems_gxx_mutex_unlock): Ditto.
	(rtems_gxx_mutex_once): Ditto.

2002-04-09  Tom Rix  <trix@redhat.com>

	* libc/include/sys/reent.h (_REENT_INIT_PTR): Fix typo.

2002-04-09  Mark Bradshaw  <bradshaw@staff.crosswalk.com>

	* libc/include/time.h: Fix strptime declaration.
	* libc/time/Makefile.am: Add strptime.c.
	* libc/time/Makefile.in: Regenerated.
	* libc/time/strptime.c: New file.

2002-04-08  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/linux/include/setjmp.h: Add sigjmp_buf type,
	siglongjmp prototype, and sigsetjmp macro definition.
	* libc/sys/linux/siglongjmp.c: New file.
	* libc/sys/linux/Makefile.am: Add support for siglongjmp.
	* libc/sys/linux/Makefile.in: Regenerated.

2002-04-04  Jeff Johnston  <jjohnstn@redhat.com>

	* Makefile.am: Add support for installing crt1.o if one exists.
	* configure.host: Specify crt1.o for linux.
	* configure.in: Expose CRT1 and CRT1_DIR for Makefile.am to use.
	* Makefile.in: Regenerated.
	* configure: Ditto.
	* libc/include/sys/unistd.h (_SC_STREAM_MAX, _SC_PRIORITY_SCHEDULING):
	Added for non-Cygwin, non-RTEMS configurations.
	* libc/sys/linux/Makefile.am: Add support for crt1 and sysconf.
	* libc/sys/linux/Makefile.in: Regenerated.
	* libc/sys/linux/crt1.c: New empty file to override one defaulted
	by gcc.  This fixes problem with reconfiguring linux newlib build.
	* libc/sys/linux/sysconf.c: New file.

2002-04-03  Jeff Johnston  <jjohnstn@redhat.com>

	* configure.host: Add support for machine subdirectory of
	sys subdirectory.
	* configure.in: Add check for sys machine subdirectory.
	* Makefile.am: Ditto.
	* configure: Regenerated.
	* Makefile.in: Ditto.
	* libc/sys/linux/crt0.c: Moved to machine/i386 directory.
	* libc/sys/linux/sys/syscall.h: Ditto.
	* libc/sys/linux/sleep.c: New file.
	* libc/sys/linux/socket.c: Ditto.
	* libc/sys/linux/sockops.h: Ditto.
	* libc/sys/linux/stack.c: Ditto.
	* libc/sys/linux/usleep.c: Ditto.
	* libc/sys/linux/machine/Makefile.am: Ditto.
	* libc/sys/linux/machine/Makefile.in: Ditto.
	* libc/sys/linux/machine/aclocal.m4: Ditto.
	* libc/sys/linux/machine/configure: Ditto.
	* libc/sys/linux/machine/configure.in: Ditto.
	* libc/sys/linux/machine/i386/Makefile.am: Ditto.
	* libc/sys/linux/machine/i386/Makefile.in: Ditto.
	* libc/sys/linux/machine/i386/aclocal.m4: Ditto.
	* libc/sys/linux/machine/i386/configure: Ditto.
	* libc/sys/linux/machine/i386/configure.in: Ditto.
	* libc/sys/linux/machine/i386/crt0.c: Ditto.
	* libc/sys/linux/machine/i386/sigset.c: Ditto.
	* libc/sys/linux/machine/i386/sigstack.h: Ditto.
	* libc/sys/linux/machine/i386/socketcall.h: Ditto.
	* libc/sys/linux/machine/i386/syscall.h: Ditto.
	* libc/sys/linux/sys/select.h: Ditto.
	* libc/sys/linux/configure.in: Add support for machine directory.
	* libc/sys/linux/Makefile.am: Ditto plus add new files above.
	* libc/sys/linux/Makefile.in: Regenerated.
	* libc/sys/linux/configure: Ditto.
	* libc/sys/linux/brk.c: Use machine/syscall.h instead of sys/syscall.h.
	* libc/sys/linux/inode.c: Ditto.
	* libc/sys/linux/linux.c: Ditto.
	* libc/sys/linux/process.c: Ditto.
	* libc/sys/linux/systat.c: Ditto.
	* libc/sys/linux/time.c: Ditto.
	* libc/sys/linux/wait.c: Ditto.
	* libc/sys/linux/ids.c: Change header plus add setfsgid/setfsuid.
	* libc/sys/linux/io.c: Change header plus add readv/writev.
	* libc/sys/linux/signal.c: Change header plus change sigsuspend to
	use __sigsuspend syscall.
	* libc/sys/linux/select.c: Change header plus change select to
	use _newselect syscall.
	* libc/sys/linux/sys/cdefs.h: Add a number of standard definitions
	used by glibc header files.
	* libc/sys/linux/sys/types.h: Add __socklen_t and __useconds_t
	types.

2002-04-01  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/reent.h (_REENT_INIT_PTR): New macro for
	initializing a struct _reent that has been dynamically allocated.
	(_REENT_CHECK_MISC): New macro that checks _misc struct for
	_REENT_SMALL and does nothing otherwise.
	(_REENT_STRTOK_LAST): New macro for reentrant strtok.
	(_REENT_MBLEN_STATE): New macro for reentrant mblen.
	(_REENT_MBTOWC_STATE): New macro for reentrant mbtowc.
	(_REENT_WCTOMB_STATE): New macro for reentrant wctomb.
	[_REENT_SMALL](struct _misc_reent): New structure containing
	miscellaneous reentrant areas needed by newlib.
	[_REENT_SMALL](struct _reent): Add _misc pointer.
	[_REENT_SMALL](_REENT_INIT_MISC): New macro.
	* libc/string/strtok (strtok): Change to use _REENT_CHECK_MISC
	and _REENT_STRTOK_LAST macros.
	* libc/stdlib/mblen (mblen): Change to use _REENT_CHECK_MISC
	and _REENT_MBLEN_STATE macros.
	* libc/stdlib/mbtowc (mbtowc): Change to use _REENT_CHECK_MISC
	and _REENT_MBTOWC_STATE macros.
	* libc/stdlib/wctomb (wctomb): Change to use _REENT_CHECK_MISC
	and _REENT_WCTOMB_STATE macros.

2002-04-01  Till Straumann <strauman@SLAC.Stanford.EDU>

	* libc/stdlib/getenv_r.c (_findenv_r): Add missing ENV_UNLOCK.

Wed Mar 27 07:34:44 2002  Jason Tishler <jason@tishler.net>

	* libc/include/sys/features.h (_POSIX_SEMAPHORES): New Cygwin define.

Tue Mar 26 17:17:10 2002  J"orn Rennecke <joern.rennecke@superh.com>

	* libc/machine/sh/memcpy.S (Large): Fix alignment rounding.
	Store high part of leading bytes too.

2002-03-22  Richard Sandiford  <rsandifo@redhat.com>

	* libm/math/ef_hypot.c: Increase scale factor to 68.

2002-03-13  Alexandre Oliva  <aoliva@redhat.com>

	* libc/machine/mips/strlen.c (strlen) [__mips16]: Fix off-by-two
	error.

2002-03-12  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/go32/access.c: Change license to relaxed license
	used in identical file throughout newlib/libgloss.

2002-03-12  Richard Earnshaw  <rearnsha@arm.com>

	* libc/sys/arm/access.c: New file.
	* libc/sys/arm/Makefile.am (lib_a_SOURCES): Add access.c.
	* libc/sys/arm/Makefile.in: Regenerate.
	* libc/sys/arm/syscalls.c (_stat): New function.

2002-03-11  Michael Meissner  <meissner@redhat.com>

	* libc/machine/mips/Makefile.am (lib_a_SOURCES): Add Mips specific
	variants strlen.c, strcmp.c, strncpy.c, memset.c and memcpy.c.
	* libc/machine/mips/Makefile.in: Regenerate.
	* libc/machine/mips/memcpy.c: New file, optimized for MIPS.
	* libc/machine/mips/memset.c: Dito.
	* libc/machine/mips/strcmp.c: Dito.
	* libc/machine/mips/strlen.c: Dito.
	* libc/machine/mips/strncmp.c: Dito.

2002-03-06  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/machine/i386/Makefile.am: Add $(oext) for setjmp
	object so it works for shared library or statici library.
	* libc/machine/i386/Makefile.in: Regenerated.

Wed Mar  6 10:24:26 2002  J"orn Rennecke <joern.rennecke@superh.com>

	* libc/machine/sh/Makefile.am (lib_a_SOURCES, SH64 case):
	Add memcpy.S, memset.S and strcpy.S.
	* libc/machine/sh/Makefile.in: Regenerate.
	* libc/machine/sh/asm.h (_ENTRY): Set SH5 alignment to 8 bytes.
	(SHHI, SHLO): Define.
	* libc/machine/sh/memset.S: Add code for SH5.
	* libc/machine/sh/memset.S: Likewise.
	* libc/machine/sh/strcpy.S: Likewise.

2002-02-27  Jeff Johnston  <jjohnstn@redhat.com>

	* configure.host: Add check for --disable-newlib-io-float
	configuration option and add -DNO_FLOATING_POINT to newlib cflags
	if appropriate.
	* acinclude.m4: Added --disable-newlib-io-float option.
	* aclocal.m4: Regenerated.
	* configure: Ditto.
	* doc/aclocal.m4 doc/configure libc/aclocal.m4 libc/configure
	* libc/*/aclocal.m4 libc/*/configure
	* libm/*/aclocal.m4 libm/*/configure: Ditto.
	* libc/stdio/vfprintf.c [!INTEGER_ONLY]: Only set FLOATING_POINT
	if NO_FLOATING_POINT flag is not defined.

2002-02-25  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/config.h: Add __extension__ in front of
	long long references.

2002-02-23  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/stat.h (_fstat): Don't declare when compiling Cygwin.
	(_stat): Ditto.

2002-02-23  Corinna Vinschen  <corinna@vinschen.de>

	* libc/sys/cygwin/sys/dirent.h (struct __DIR): Use __off32_t instead
	of off_t.

2002-02-20  Nick Clifton  <nickc@cambridge.redhat.com>

	* libc/machine/xscale/strchr.c (strchr): Add 'r1' to the list of
	clobbered registers.

2002-02-19  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* configure.host (newlib_cflags): When host is in m68* add
	-DCOMPACT_CTYPE.

2002-02-15  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/config.h: Add definitions for
	__int16_t, __uint16_t, __int64_t, and __uint64_t.

2002-02-12  Hans-Peter Nilsson  <hp@bitrange.com>

	* libc/sys/mmixware/link.c: New.
	* libc/sys/mmixware/sys/syscall.h (TRAP1i, I3f): Make asm
	volatile.
	* libc/sys/mmixware/times.c (_times): Renamed from times.
	* libc/sys/mmixware/open.c (_open): Attempt to handle O_APPEND
	properly by reading previous contents, not through BinaryReadWrite.
	* libc/sys/mmixware/Makefile.am (lib_a_SOURCES): Add link.c
	* libc/sys/mmixware/Makefile.in: Regenerate.

2002-02-10  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/grp.h: Don't declare group functions when compiling
	Cygwin.

2002-02-09  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/grp.h: Include Cygwin specific header.
	* libc/include/sys/stat.h: Ditto.  Don't define `struct stat'
	when compiling for Cygwin.
	* libc/include/sys/types.h: Don't define off_t, uid_t
	and gid_t when compiling for Cygwin.

2002-02-08  matthew green  <mrg@redhat.com>

	* libc/include/sys/reent.h (_REENT_CHECK_EMERGENCY): Allocate
	_REENT_EMERGENCY_SIZE, not sizeof(char *).

2002-02-08  Alexandre Oliva  <aoliva@redhat.com>

	Contribute sh64-elf.
	2001-03-13  Alexandre Oliva  <aoliva@redhat.com>
	* configure.host (newlib_cflags) [sh*-*-*]: Enable long long
	support in printf.
	2001-01-29  Alexandre Oliva  <aoliva@redhat.com>
	* libc/machine/sh/setjmp.S [SH5]: Switch to SHmedia mode before
	any labels.
	2001-01-24  Alexandre Oliva  <aoliva@redhat.com>
	* libc/sys/sh/trap.S (___trap34) [SH5]: Don't trash r2.
	2000-12-16  Alexandre Oliva  <aoliva@redhat.com>
	* libc/machine/sh/configure.in: Rework conditionals.
	* libc/machine/sh/Makefile.am: Likewise.
	* libc/machine/sh/configure, libc/machine/sh/Makefile.in: Rebuilt.
	2000-12-01  Alexandre Oliva  <aoliva@redhat.com>
	* configure.host: Match `sh*'.
	* libc/include/machine/setjmp.h: Define for SH5.
	* libc/machine/sh/configure.in: Detect SH5.
	* libc/machine/sh/configure: Rebuilt.
	* libc/machine/sh/Makefile.am: Use only setjmp.S for SH5.
	* libc/machine/sh/Makefile.in: Rebuilt.
	* libc/machine/sh/asm.h: Adjust for SH5.
	* libc/machine/sh/setjmp.S: Implement in SHmedia.
	* libc/sys/sh/crt0.S: Likewise.
	* libc/sys/sh/trap.S: Likewise.

2002-02-07  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/machine/i386/Makefile.am: (mach_add_src): Remove.
	(mach_add_obj): Conditionally set to setjmp.o or nothing.
	(LIB_SOURCES): Remove $(mach_add_src).
	(lib_a_LIBADD, lib_a_DEPENDENCIES): Add and set to $(mach_add_src).
	(lib_la_LIBADD, lib_la_DEPENDENCIES): Ditto.
	* libc/machine/i386/Makefile.in: Regenerate.

2002-02-05  Manik Raina <manik@cisco.com>

	* libc/misc/dprintf.c (parse_number): #if 0 unused function.
	* libc/stdlib/ldtoa.c (_ldcheck): Remove unused local variables
	s, p, k, and outstr.
	* libc/stdlib/dtoa.c (_dtoa_r): Initialize mlo.

2002-02-04  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/reent.h [(!_REENT_SMALL]: Add
	_REENT_CHECK_EMERGENCY macro.

2002-02-03  matthew green  <mrg@redhat.com>

	* libc/reent/signgam.c (__signgam): Fix error in previous.

2002-02-02  matthew green  <mrg@redhat.com>

	* libc/include/sys/config.h (_REENT_SMALL): Define for Xstormy16.

	* libc/reent/reent.c (_reclaim_reent): Clean for _REENT_SMALL case.
	* libc/reent/reent.tex: Add blurb about _REENT_SMALL.
	* libc/include/sys/reent.h (struct _reent): Completely new version
	for _REENT_SMALL.
	(_REENT_INIT): New defines, different defintion depending on _REENT_SMALL.
	(_REENT_CHECK, _REENT_CHECK_TM): Likewise.
	(_REENT_CHECK_ASCTIME_BUF, _REENT_INIT_RAND48): Likewise.
	(_REENT_CHECK_RAND48, _REENT_INIT_MP, _REENT_CHECK_MP): Likewise.
	(_REENT_CHECK_EMERGENCY, _REENT_SIGNGAM, _REENT_RAND_NEXT): Likewise.
	(_REENT_RAND48_SEED, _REENT_RAND48_MULT, _REENT_RAND48_ADD): Likewise.
	(_REENT_MP_RESULT, _REENT_MP_RESULT_K, _REENT_MP_P5S): Likewise.
	(_REENT_MP_FREELIST, _REENT_ASCTIME_BUF, _REENT_TM): Likewise.
	(_REENT_EMERGENCY): Likewise.

	* libc/include/sys/reent.h (struct __sFILE_fake): New struct, same as
	the start of the real __sFILE, used for stdin, stdout and stderr until
	they are setup properly.
	(struct __sFILE): Move location of _data in _REENT_SMALL case.
	* libc/stdio/findfp.c (__sinit): Rearrange for _REENT_SMALL case by
	allocated stdin, stdout and stderr.
	* libc/stdio/getchar.c (_getchar_r): Call _REENT_SMALL_CHECK_INIT().
	* libc/stdio/iprintf.c (iprintf, _iprintf_r): Likewise.
	* libc/stdio/perror.c (_perror_r): Likewise.
	* libc/stdio/printf.c (printf, _printf_r): Likewise.
	* libc/stdio/putchar.c (_putchar_r): Likewise.
	* libc/stdio/puts.c (_puts_r): Likewise.
	* libc/stdio/scanf.c (scanf, _scanf_r): Likewise.
	* libc/stdio/vprintf.c (vprintf): Likewise.
	* libc/stdio/vscanf.c (vscanf, _vscanf_r): Likewise.

	* libc/stdio/tmpnam.c (_tmpnam_r): Use _REENT_EMERGENCY().

	* libc/reent/reent.c (_wrapup_reent): Adjust for _REENT_SMALL atexit.
	* libc/include/sys/reent.h (_atexit): Limit atexit() entries to 32
	for _REENT_SMALL.
	* libc/stdlib/atexit.c (atexit): Rearrange for _REENT_SMALL case.
	* libc/stdlib/exit.c (exit): Rearrange for _REENT_SMALL case.

	* libc/include/sys/reent.h (struct _rand48): Keep _rand_next if
	_REENT_SMALL.
	* libc/stdlib/drand48.c (_drand48_r): Call _REENT_CHECK_RAND48().
	* libc/stdlib/lcong48.c (_lcong48_r): Likewise.
	* libc/stdlib/lrand48.c (_lrand48_r): Likewise.
	* libc/stdlib/mrand48.c (_mrand48_r): Likewise.
	* libc/stdlib/rand48.c (__dorand48): Likewise.
	* libc/stdlib/seed48.c (_seed48_r): Likewise.
	* libc/stdlib/srand48.c (_srand48_r): Likewise.
	* libc/stdlib/rand48.h (__rand48_seed, __rand48_mult, __rand48_add): Define
	as _REENT_RAND48_SEED(), _REENT_RAND48_MULT() and _REENT_RAND48_ADD().
	* libc/stdlib/dtoa.c (_dtoa_r): Call _REENT_CHECK_MP().  Use
	_REENT_MP_RESULT() and _REENT_MP_RESULT_K().
	* libc/stdlib/ldtoa.c (_ldtoa_r): Likewise.
	* libc/stdlib/rand.c (srand): Use _REENT_RAND_NEXT().
	* libc/stdlib/rand.c (rand): Likewise.

	* libc/stdlib/mallocr.c (malloc_stats): Call _REENT_SMALL_CHECK_INIT().
	* libc/stdlib/mstats.c (_mstats_r): Call _REENT_SMALL_CHECK_INIT().

	* libc/stdlib/mprec.c (Balloc): Call _REENT_CHECK_MP.  Use
	_REENT_MP_FREELIST() and _REENT_MP_P5S.
	* libc/include/sys/reent.h (struct _mprec): New structure.

	* libc/include/sys/reent.h (struct _reent): Rename _strtok_last to
	_unused_strtok_last.
	* libc/string/strtok.c (strtok): Use a local static variable.

	* libc/include/sys/reent.h (_REENT_ASCTIME_SIZE): New define.
	(_REENT_EMERGENCY_SIZE): Likewise.
	* libc/time/asctime.c (asctime): Call _REENT_CHECK_ASCTIME_BUF().  Use
	_REENT_ASCTIME_BUF().
	* libc/time/lcltime.c (localtime): Call _REENT_CHECK_TM().  Use
	_REENT_TM().

	* libc/include/math.h (__singam_r): Use _REENT_SIGNGAM().
	* libc/reent/signgam.c (__signgam): Use _REENT_SIGNGAM().
	* libm/math/w_gamma.c (gamma): Use _REENT_SIGNGAM().
	* libm/math/w_lgamma.c (lgamma): Use _REENT_SIGNGAM().
	* libm/math/wf_gamma.c (gammaf): Use _REENT_SIGNGAM().
	* libm/math/wf_lgamma.c (lgammaf): Use _REENT_SIGNGAM().

2002-02-01  Geoffrey Keating  <geoffk@redhat.com>

	* configure.host (xstormy16): Don't use the generic malloc.
	* libc/machine/xstormy16/Makefile.am: Build tiny-malloc.
	* libc/machine/xstormy16/Makefile.in: Regenerate.
	* libc/machine/xstormy16/mallocr.c: New file.
	* libc/machine/xstormy16/tiny-malloc.c: New file.

2002-01-28  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* libc/include/sys/signal.h [__CYGWIN__]: Issue error message
	when _CYGWIN_TYPES_H is not defined.

2002-01-24  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* libc/include/sys/signal.h: Revert 2002-01-23 change.

2002-01-23  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* libc/include/sys/signal.h: Remove pthread_kill declaration
	when __CYGWIN__ is defined.

2002-01-18  Mark Bradshaw  <bradshaw@staff.crosswalk.com>

	* libc/include/time.h: Add prototype for strptime for Cygwin.

2002-01-17  Nick Clifton  <nickc@cambridge.redhat.com>

	* libc/machine/xscale/memset.c (memset): Fix bug when len == 1 and
	dst was not word aligned.

	* libc/sys/arm/syscalls.c (_sbrk): Return -1 rather than aborting
	if too much memory is requested.

2002-01-11 Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/vfscanf.c (__svfscanf_r): Change loop that
	reads blanks from the input file to break if EOF reached
	rather than end processing.

2002-01-07 Jeff Johnston  <jjohnstn@redhat.com>

	* MAINTAINERS: Change e-mail addresses to refer to redhat domain.

2002-01-07 Alan Matsuoka <alanm@redhat.com>

	* libc/include/machine/ieeefp.h: Configure d10v doubles to
	be 32 bits if __DOUBLE__ == 32  otherwise doubles are 64 bits.
	libc/include/sys/config.h: Ditto.

2001-12-28  Corinna Vinschen  <corinna@vinschen.de>

	* libc/sys/cygwin/sys/utmp.h: Add definition of UTMP_FILE.

2001-12-22  Geoffrey Keating  <geoffk@redhat.com>
	    Catherine Moore  <clm@redhat.com>
	    Richard Henderson  <rth@redhat.com>
	    Corinna Vinschen  <vinschen@redhat.com>

	* configure.host: Add support for xstormy16.
	* libc/include/machine/ieeefp.h: Add support for xstormy16.
	* libc/include/machine/setjmp.h: Add support for xstormy16.
	* libc/include/sys/config.h: Add support for xstormy16.
	* libc/machine/xstormy16/Makefile.am: New file.
	* libc/machine/xstormy16/Makefile.in: New file.
	* libc/machine/xstormy16/aclocal.m4: New file.
	* libc/machine/xstormy16/configure: New file.
	* libc/machine/xstormy16/configure.in: New file.
	* libc/machine/xstormy16/setjmp.S: New file.

2001-12-19  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* libm/machine/configure.in (HAVE_LIBM_MACHINE_DIR): New conditional.
	* libm/machine/Makefile.am [HAVE_LIBM_MACHINE_DIR] (LIBM_MACHLIB): New variable.

2001-12-19  Corinna Vinschen  <corinna@vinschen.de>

	* libm/machine/Makefile.am: Change rules to create correct lib.a.
	* libm/machine/Makefile.in: Regenerated through automake.

2001-12-18  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* Makefile.am (DOCDIR): Force to empty string when doc
	directory is not present.

2001-12-18  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* libc/machine/i386/f_*: Move to libm/machine/i386.

2001-12-18      Joel Sherrill <joel@OARcorp.com>

	* libm/machine/Makefile.am: Add dummy doc stub so
	"make info" works.

2001-12-17	Joel Sherrill <joel@OARcorp.com>

	* libc/include/sys/types.h (ino_t): RTEMS uses long also.

2001-12-17  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* libc/stdlib/Makefile.am (LIB_COMPILE): Change to equal
	$(COMPILE) rather than $(CC).
	* libc/stdio/Makefile.am (LIB_COMPILE): Likewise.
	(vfprintf.$(oext)): Remove $(INCLUDES), made redundant by
	$(LIB_COMPILE) change.
	(vfiprintf.$(oext)): Likewise.

2001-12-17  Corinna Vinschen  <vinschen@redhat.de>

	* libc/sys/cygwin/include/unistd.h: Add __UNISTD_GETOPT_ to allow
	conditionalized including of getopt stuff.

2001-12-14  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* libc/stdio/Makefile.am (vfprintf.$(oext)): Add $(INCLUDES) to
	compile line.
	(vfiprintf.$(oext)): Likewise.

2001-12-13  Thomas Fitzsimmons  <fitzsim@redhat.com>

	* Makefile.shared: New file.
	* libc/sys/linux/shared.ld: New file.
	* libm/machine/*: New files.
	* libm/machine/i386/*: New files.
	* Makefile.am: Add libtool support.  Change math and mathfp
	references to variables.
	* configure.host: Add variables for libtool support.  Add
	libm_machine_dir variable.
	* configure.in: Add objectlist variables, for libtool
	support.  Add CC_FOR_BUILD tests.
	* libc/Makefile.am: Add libtool support.  Change crt0.o
	reference to be a variable reference.
	* libc/configure.in: Add libtool support.  Change sublib
	names to be lib${subdir}.la when using libtool.
	* libc/ctype/Makefile.am: Add libtool support.
	* libc/errno/Makefile.am: Likewise.
	* libc/locale/Makefile.am: Likewise.
	* libc/machine/Makefile.am: Likewise.
	* libc/machine/configure.in: Likewise.
	* libc/machine/i386/Makefile.am: Likewise.
	* libc/machine/i386/configure.in: Likewise.
	* libc/misc/Makefile.am: Likewise.
	* libc/posix/Makefile.am: Likewise.
	* libc/reent/Makefile.am: Likewise.
	* libc/signal/Makefile.am: Likewise.
	* libc/stdio/Makefile.am: Likewise.
	* libc/stdlib/Makefile.am: Likewise.
	* libc/string/Makefile.am: Likewise.
	* libc/sys/Makefile.am: Likewise.
	* libc/sys/configure.in: Likewise.
	* libc/sys/linux/Makefile.am: Add libtool support.  Change
	awk reference to a variable reference.  Change signal.h
	reference to a variable reference.
	* libc/sys/linux/configure.in: Add libtool support.
	* libc/syscalls/Makefile.am: Likewise.
	* libc/time/Makefile.am: Likewise.
	* libc/unix/Makefile.am: Likewise.
	* libm/Makefile.am: Add libtool support.  Change math and
	mathfp references to variables.
	* libm/configure.in: Add libtool support.  Add
	LIBM_MACHINE_LIB variable.
	* libm/common/Makefile.am: Add libtool support.
	* libm/math/Makefile.am: Likewise.
	* libm/mathfp/Makefile.am: Likewise.
	Regenerate all Makefile.in, aclocal.m4, and configure.

2001-12-13 Anita Kulkarni <anitak@kpit.com>

	* libc/sys/sh/crt0.S: Remove stack symbol definition 0xdeaddead.

2001-12-06  John Peacock <jpeacock@rowman.com>

	* libc/include/sys/unistd.h: Correct ualarm declaration.

2001-12-05  Nick Clifton  <nickc@cambridge.redhat.com>

	* libc/sys/arm/crt0.S: For __USES_INITFINI__ preserve the argument
	vector before calling the initialisation functions.

2001-11-29  Christopher Faylor  <cgf@redhat.com>

	* libc/include/dirent.h: Protect against multiple inclusion.

2001-11-27  Christopher Faylor  <cgf@redhat.com>

	* libc/include/sys/types.h: Define useconds_t.
	* libc/include/sys/ulimit.h: Declare ualarm.

2001-11-21  Christopher Faylor  <cgf@redhat.com>

	* libc/sys/cygwin/sys/dirent.h (DIR): Add another internal element.

2001-11-19  Hans-Peter Nilsson  <hp@bitrange.com>

	* libc/sys/mmixware/*: Tweak license header in all source files.

2001-11-12  Corinna Vinschen  <vinschen@redhat.com>

	* libc/include/alloca.h: Move libc/sys/linux/include/alloca.h
	to here.  Rearrange for general inclusion by stdlib.h.
	* libc/include/stdlib.h: Include <alloca.h> if __STRICT_ANSI__
	isn't defined.
	* libc/sys/linux/include/alloca.h: Move to libc/include.

2001-11-12  Anthony Green  <green@redhat.com>

	* libc/sys/arm/crt0.S (__stack_base__): New symbol.

2001-11-13  Hans-Peter Nilsson  <hp@bitrange.com>

	* libc/sys/mmixware/*: Correct spacing in all source files.
	* libc/sys/mmixware/syscall.h: Move misplaced file...
	* libc/sys/mmixware/sys/syscall.h: ...here.

2001-11-12  Hans-Peter Nilsson  <hp@bitrange.com>

	* libc/include/machine/ieeefp.h: Add support for mmix target.
	* libc/include/machine/setjmp.h: Ditto.
	* configure.host: Ditto.
	* libc/sys/mmixware/Makefile.am, libc/sys/mmixware/_exit.c,
	libc/sys/mmixware/access.c, libc/sys/mmixware/aclocal.m4,
	libc/sys/mmixware/chmod.c, libc/sys/mmixware/chown.c,
	libc/sys/mmixware/close.c, libc/sys/mmixware/configure.in,
	libc/sys/mmixware/creat.c, libc/sys/mmixware/crt0.c,
	libc/sys/mmixware/execv.c, libc/sys/mmixware/execve.c,
	libc/sys/mmixware/fork.c, libc/sys/mmixware/fstat.c,
	libc/sys/mmixware/getpid.c, libc/sys/mmixware/gettime.c,
	libc/sys/mmixware/isatty.c, libc/sys/mmixware/kill.c,
	libc/sys/mmixware/lseek.c, libc/sys/mmixware/open.c,
	libc/sys/mmixware/pipe.c, libc/sys/mmixware/read.c,
	libc/sys/mmixware/sbrk.c, libc/sys/mmixware/setjmp.S,
	libc/sys/mmixware/stat.c, libc/sys/mmixware/sys/syscall.h,
	libc/sys/mmixware/time.c, libc/sys/mmixware/times.c,
	libc/sys/mmixware/unlink.c, libc/sys/mmixware/utime.c,
	libc/sys/mmixware/wait.c, libc/sys/mmixware/write.c: New files.
	* libc/sys/mmixware/configure, libc/sys/mmixware/Makefile.in,
	libc/sys/mmixware/aclocal.m4: Generate.

2001-11-05  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/unistd.h: Add prototypes for endusershell(),
	getusershell(), iruserok(), revoke(), ruserok() and setusershell()
	when __CYGWIN__ is defined.
	* libc/sys/cygwin/sys/utmp.h: Add prototypes for login_tty() and
	logwtmp().

2001-11-01  Arati Dikey  <aratidikey@hotmail.com>

	* libm/mathfp/sf_isinf.c (isinff): Change to use _DEFUN macro.
	[_DOUBLE_IS_32BITS](isinf): New function that calls isinff.
	* libm/mathfp/sf_isnan.c (isnanf): Change to use _DEFUN macro.
	[_DOUBLE_IS_32BITS](isnan): New function that calls isnanf.

2001-10-24  Christopher Faylor  <cgf@redhat.com>

	* libc/stdio/fseek.c: Reset pointer to buffer base
	when forced to seek outside of current buffer contents.
	This prevents the code from erroneously thinking there is
	anything in the current buffer.

2001-10-22  Geoffrey Keating  <geoffk@redhat.com>

	* libc/include/math.h: The C++ standard adds the single-precision
	versions of the elementary functions.

2001-10-22  Christopher Faylor  <cgf@redhat.com>

	* libc/posix/execvp.c: Remove obsolete CYGWIN32 considerations
	throughout.
	* signal.h: Change comment to reflect __CYGWIN__ rather than __CYGWIN32__.
	* popen.c (popen): Use __CYGWIN_ rather than __CYGWIN32__.
	* system.c (_system_r): Ditto.

2001-10-17  Corinna Vinschen  <corinna@vinschen.de>

	* libc/include/sys/unistd.h: Add prototype for fchdir() when
	__CYGWIN__ or __rtems__ is defined.

2001-10-01  Charles Wilson  <cwilson@ece.gatech.edu>

	* libc/include/stdlib.h: add declarations for
	_strtoull_r, _strtoll_r, strtoull, and strtoll.
	* libc/stdio/local.h: remove declarations of
	__strtoull_r and __strtoll_r.
	* libc/stdio/vfscanf.c(__svfscanf_r): call
	_strtoull_r instead of __strtoull_r. Ditto
	_strtoll_r vs. __strtoll_r.
	* libc/stdlib/Makefile.am: add new files to
	.c list and .def list
	* libc/stdlib/Makefile.in: regenerate
	* libc/stdlib/strtoll_r.c: rename __strtoll_r
	as _strtoll_r
	* libc/stdlib/strtoull_r.c: rename __strtoull_r
	as _strtoull_r
	* libc/stdlib/strtoull.c: new file
	* libc/stdlib/strtoll.c: new file

Mon Sep 17 17:29:47 2001  Christopher Faylor <cgf@cygnus.com>

	* libc/include/process.h: Add getpid() declaration.

2001-09-14  Nick Clifton  <nickc@cambridge.redhat.com>

	* libc/sys/arm/crt0.S: Add calls to _init and _fini (via atexit)
	for new style arm/elf ctor/dtor handling.
	Minor formatting tidy up.

2001-09-13  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdlib/Makefile.am: Add support to build strtoll_r.c
	and strtoull_r.c.
	* libc/stdlib/Makefile.in: Regenerated.
	* libc/stdlib/strtoll_r.c: New file.
	* libc/stdlib/strtoull_r.c: New file.
	* libc/stdio/local.h: Add prototypes for long long string
	conversion routines.
	* libc/stdio/vfscanf.c (__svfscanf_r): Add optional long long support
	tied to %L integer conversion specifier.

Thu Sep 13 08:49:49 2001  Jason Tishler <jason@tishler.net>

	* strftime.c (strftime): Fix "%W" implementation to properly handle
	Mondays too.

2001-09-07  Jeff Law  <law@redhat.com>

	* libc/sys/h8300hms/crt0.S: For H8/300H and H8/S, load address of
	__fini with "mov.l" instead of "mov.w".

2001-09-05  Corinna Vinschen  <corinna@vinschen.de>

	* libc/sys/cygwin/include/unistd.h: New file, wrapping sys/unistd.h
	and getopt.h.

2001-09-04  Jason Merrill  <jason_merrill@redhat.com>

	* libc/sys/h8300hms/crt0.S: Support ELF initialization.

2001-09-03  Corinna Vinschen  <corinna@vinschen.de>

	* libc/sys/cygwin/sys/dirent.h (struct dirent): Add version number
	field.
	(__DIRENT_VERSION): New define.

2001-09-03  Corinna Vinschen  <corinna@vinschen.de>

	* libc/sys/cygwin/sys/dirent.h (struct dirent): Add `d_fd' member.
	Shrink __d_reserved accordingly to keep structure size.
	(dirfd): Declare external.

2001-08-29  Joel Sherrill <joel@OARcorp.com>

	* libc/include/sys/unistd.h: Prototype chroot() for RTEMS.

2001-08-29  Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* libc/machine/i386/f_atan2.S, libc/machine/i386/f_atan2f.S,
	  libc/machine/i386/f_exp.c, libc/machine/i386/f_expf.c,
	  libc/machine/i386/f_frexp.S, libc/machine/i386/f_frexpf.S,
	  libc/machine/i386/f_ldexp.S, libc/machine/i386/f_ldexpf.S,
	  libc/machine/i386/f_log.S, libc/machine/i386/f_log10.S,
	  libc/machine/i386/f_log10f.S, libc/machine/i386/f_logf.S,
	  libc/machine/i386/f_pow.c, libc/machine/i386/f_powf.c,
	  libc/machine/i386/f_tan.S, libc/machine/i386/f_tanf.S:
	Add conditional compilation to avoid HW FPU instructions
	when compiled for soft-float.

2001-08-29  Jeff Johnston  <jjohnstn@redhat.com>

	* Makefile.am: Add check for ln failing when creating libg.a
	so that cp gets used as a backup.
	* Makefile.in: Regenerated.

2001-08-29  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/reent.h: Add include of <sys/_types.h>.
	No longer include time.h.  Add struct __tm to use for
	_localtime_buf in the reentrant structure.  Add a
	_NULL definition to use in initializing the reentrant struct.
	* libc/include/sys/config.h: For CYGWIN32 and RTEMS, change
	the _READ_WRITE_RETURN_TYPE to _ssize_t which is found in
	<sys/_types.h>.
	* libc/include/sys/unistd.h: Include <sys/_types.h>.
	* libc/time/lcltime.c (localtime): Cast the reentrant struct
	_localtime_buf to be struct tm *.

Wed Aug 29 14:17:38 2001  J"orn Rennecke <amylaar@redhat.com>

	* configure.host (h8300-*-elf*, h8500-*-elf*): New cases.
	* libc/sys/h8300hms/crt1.c (__main): Don't reference __ctors /
	__ctors_end.
	* libc/sys/h8300hms/syscalls.c: Include errno.h.
	(_unlink): New stub function.

Sat Aug 25 22:22:25 2001  Christopher Faylor <cgf@cygnus.com>

	* libc/include/sys/errno.h: Add a cautionary comment.

2001-08-21  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdlib/mallocr.c [!defined(MALLOC_ALIGNMENT)]: Add conditional
	for SIZE_SZ so that alignment ends up a minimum of 8.

Mon Aug 13 22:26:01 2001  Christopher Faylor <cgf@cygnus.com>

	* libc/include/machine/setjmp.h: Protect sigsetjmp/siglongjmp macro
	arguments.

	* libc/include/sys/errno.h: Declare sys_errlist and sys_nerr, under
	Cygwin.

2001-08-13  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/malloc.h (M_MXFAST, M_NLBLKS, M_GRAIN, M_KEEP): New
	macro constants for mallopt options.
	(M_TRIM_THRESHOLD, M_TOP_PAD, M_MMAP_THRESHOLD, M_MMAP_MAX): Ditto.

2001-08-02  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/stdio.h (BUFSIZ): Define to __BUFSIZ__ if provided,
	otherwise default.

2001-07-12  Aldy Hernandez  <aldyh@redhat.com>

	* libc/machine/mips/setjmp.S: Allow mips16 and mips64 to coexist.

2001-06-27  Nick Clifton  <nickc@cambridge.redhat.com>

	* libc/include/machine/ieeefp.h (__IEEE_BYTES_LITTLE_ENDIAN):
	Define for little endian ARMs.

	* libc/stdlib/mprec.h (Storeinc): Use little endian version if
	__IEEE_BYTES_LITTLE_ENDIAN is defined.

2001-06-11  Danny Smith  <dannysmith@users.sourceforge.net>

	* /libc/include/ctype.h (is* and to* macros): Do not define if C++.

2001-06-11  Egor Duda  <deo@logos-m.ru>

	* libc/ctype/ctype_.c: When compiled with gcc on platforms
	with signed char, make _ctype_[-128] ... _ctype[-1] refer to
	initialized memory region. Platform can define COMPACT_CTYPE
	to avoid allocation of the additional 128 bytes of data.
	Add pointer to _ctype_ array. Always initialize all _ctype_
	array elements.

2001-06-08  Jonathan Larmour  <jlarmour@redhat.com>

	* libc/stdlib/mbtowc_r.c (_mbtowc_r): Avoid dereferencing
	NULL pointer.

2001-05-28  Nick Clifton  <nickc@cambridge.redhat.com>

	* libc/stdio/vfprintf.c (_VFPRINTF_R): Handle printf ("%#.0o",0)

2001-05-25  Nick Clifton  <nickc@cambridge.redhat.com>

	* libc/machine/xscale/memcmp.c: Fix bug when both pointers have
	matching, non-word alignment, and the length is <= 4 but more than
	enough to move them over a word boundary.
	Add comments explaining what each instruction does.

Mon May  7 20:39:25 2001  Christopher Faylor <cgf@cygnus.com>

	* libc/include/sys/stat.h: Revert March 3, Cygwin change.
	* libc/include/sys/unistd.h: Ditto.

2001-05-04  Earnie Boyd  <earnie@users.sourceforge.net>

	* libc/string/strrchr.c: Use strchr for the speed improvements.

2001-05-01  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/findfp (__sinit)[HAVE_FCNTL]: For platforms that have
	real file systems, let __smakebuf() determine if line buffering
	should be used for stdout.

2001-04-27  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/vfscanf.c (__svfscanf_r): Initialize new_exp local var.

2001-04-27  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/stdlib.h: Add prototype for _strtod_r.

2001-04-24  Charles Wilson  <cwilson@ece.gatech.edu

	* libc/stdio/vprintf.c (vprintf): fix signature to use _DEFUN
	* libc/stdio/vprintf.c (_vprintf_r): new function
	* libc/stdio/vsnprintf.c (vsnprintf): fix signature to use _DEFUN
	* libc/stdio/vsnprintf.c (_vsnprintf_r): fix signature to use
	_DEFUN, and call _vfprintf_r, not vfprintf.
	* libc/stdio/vsprintf.c (vsprintf.c): fix signature to use _DEFUN
	* libc/stdio/vsprintf.c (_vsprintf_r): fix signature to use
	_DEFUN, and call _vfprintf_r, not vfprintf.

2001-04-22  Earnie Boyd  <earnie@users.sourceforge.net>

	* libc/include/sys/unistd.h [X_OK]: Use better protection against
	Cygwin X_OK definitions in sys/file.h.

Fri Apr 20 23:17:51 2001  Christopher Faylor <cgf@cygnus.com>

	* libc/include/sys/time.h: Define timercmp and other macros for
	__CYGWIN__, too.

2001-04-20  Jeff Johnston  <jjohnstn@redhat.com>

	* acinclude.m4: Added --enable-malloc-debugging configure flag.
	* configure.host: For Cygwin specify -DMALLOC_PROVIDED if
	--enable-malloc-debugging selected.
	* aclocal.m4 configure: Regenerated.
	  libm/aclocal.m4 libm/configure: Ditto.
	* libc/aclocal.m4 libc/configure: Ditto.
	* libc/machine/aclocal.m4 libc/machine/configure: Ditto.
	* libc/machine/*/aclocal.m4 libc/machine/*/configure: Ditto.
	* libc/sys/aclocal.m4 libc/sys/configure: Ditto.
	* libc/sys/*/aclocal.m4 libc/sys/*/configure: Ditto.
	* doc/aclocal.m4 doc/configure: Ditto.

2001-04-20  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/stdio.h[!_REENT_ONLY]: Moved various functions together
	into one list.
	[!__STRICT_ANSI__]: Moved non-ANSI I/O functions in this list.
	(vfscanf, vscanf, vsscanf, _vfscanf_r, _vscanf_r, _vsscanf_r): New
	function prototypes.
	(_fscanf_r, _sscanf_r): Ditto.
	* libc/include/stdlib.h: Added _strtod_r prototype.
	* libc/stdio/Makefile.am: Add new v*scanf functions.
	* libc/stdio/Makefile.in: Regenerate.
	* libc/stdio/fscanf.c: Reorganized so HAVE_STDC only affects prototype
	and code is shared.  Added reentrant _fscanf_r which calls __svfscanf_r.
	* libc/stdio/scanf.c: Changed to call __svfscanf_r.
	* libc/stdio/sscanf.c: Changed documentation to add reentrant routines.
	(sscanf): Changed to call __svfscanf_r with _REENT argument.
	(_sscanf_r): New routine.
	* libc/stdio/local.h: Removed __svfscanf prototype and replaced it
	with __svfscanf_r prototype.
	* libc/stdio/vfscanf.c (vfscanf, _vfscanf_r: New
	routines.
	(__svfscanf_r): Reentrant version of __svfscanf which takes reetrancy
	structure as argument as calls reentrant versions of helper functions
	(e.g. _strtol_r, _strtoul_r). Also replaced calls to atol and atof
	to _strtol_r and _strtod_r respectively.
	* libc/stdio/vfscanf.c: Also changed __svfscanf to call __svfscanf_r.
	* libc/stdlib/strtod.c (strtod): Changed to call _strtod_r with
	_REENT argument.
	* libc/stdio/vscanf.c: New file.
	* libc/stdio/vsscanf.c: Ditto.

2001-04-19  Robert Collins  <rbtcollins@hotmail.com>

	* include/time.h[__CYGWIN__]:  Define tzname to _tzname if not defined.
	Define daylight to _daylight if it is not defined
	Prepare a variable export of timezone based on timezonevariable.
	(Cannot be used with the timezone() function.)

2001-04-17  Stephen L. Moshier  <moshier@moshier.ne.mediaone.net>

	* newlib/libm/math/ef_asin.c (pio2_hi, pio2_lo, pio4_hi):
	 Correct the numerical values.

2001-04-13  Robert Collins <rbtcollins@hotmail.com>

	* libc/include/sys/unistd.h: Add pthread_atfork (Cygwin only).

Thu Apr 12 23:11:00 2001  Corinna Vinschen <corinna@vinschen.de>

	* libc/include/sys/errno.h: Add ECASECLASH to indicate case clash
	on case insensitve file systems.

2001-04-12  Robert Collins <rbtcollins@hotmail.com>

	* libc/include/sys/features.h: Add appropriate defines for Cygwin
	pthread support.
	* libc/include/sys/signal.h: Remove unneeded __CYGWIN__ protection.
	* libc/include/sys/types.h: Protect __CYGWIN__ from the rtems pthreads
	types.  Include <cygwin/types.h> for the cygwin specific typedefs.

2001-04-04  Richard Sandiford  <rsandifo@redhat.com>

	* libc/include/machine/ieeefp.h: Comment about new configuration
	macros _FLT_LARGEST_EXPONENT_IS_NORMAL and _FLT_NO_DENORMALS.
	* libm/common/fdlib.h: Define new macros for testing floats.
	* libm/common/sf_*: Use them.
	* libm/math/ef_*: Likewise.
	* libm/math/sf_*: Likewise.

2001-03-29  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/arm/setjmp.S: Added .code 16 specifier for thumb-mode
	prolog to by-pass possible assembler error.

2001-03-21  Egor Duda  <deo@logos-m.ru>

	Allow building internal stubs for non-reentrant syscalls
	if target provides its own malloc
	* libc/reent/reent.c (errno): Move definition here.
	* libc/reent/sbrkr.c: From here.

2001-03-20  Danny Smith <dannysmith@users.sourceforge.net>

	* libc/include/sys/types.h (BSD int typedefs): Guard with
	_BSDTYPES_DEFINED rather than _WINSOCK_H.
	(fd_set): Add !defined __USE_W32_SOCKETS to guard; define
	_SYS_TYPES_FD_SET.
	* libc/include/sys/unistd.h (gethostname): Don't declare if defined
	(_WINSOCK_H) || defined (__USE_W32_SOCKETS).

Sat Mar 17 18:30:00 2001  Corinna Vinschen <corinna@vinschen.de>

	* libc/include/sys/unistd.h: Add _PC_POSIX_PERMISSONS and
	_PC_POSIX_SECURITY constants for Cygwin.

Wed Mar 14  9:34:00 2001  Corinna Vinschen <corinna@vinschen.de>

	* libc/sys/cygwin/crt0.c: Add copyright hint.
	* libc/sys/cygwin/sys/dirent.h: Ditto.
	* libc/sys/cygwin/sys/param.h: Ditto.
	* libc/sys/cygwin/sys/utime.h: Ditto.
	* libc/sys/cygwin/sys/utmp.h: Ditto.

2001-03-13  Alexandre Oliva  <aoliva@redhat.com>

	* libc/stdio/vfprintf.c (QUADINT) [_NO_LONGLONG]: Make it
	equivalent to LONGINT.

2001-03-08  Richard Sandiford  <rsandifo@redhat.com>

	* (libc/include/machine/setjmp.h): Use 23 long long ints for a
	jmpbuf on MIPS64 targets.
	* (libc/machine/mips/setjmp.S): Add MIPS64 version.

Wed Mar  7 16:02:07 2001  Christopher Faylor <cgf@cygnus.com>

	* libc/include/sys/config.h: Use ssize_t for Cygwin read/write
	  declarations.

Mon Mar  5 21:48:54 2001  J"orn Rennecke <amylaar@redhat.com>

	* libc/include/sys/config.h (_READ_WRITE_RETURN_TYPE): Define.
	For RTEMS, define to be ssize_t.  Default to int if not defined.
	* libc/stdio/sscanf.c (eofread): Return _READ_WRITE_RETURN_TYPE.
	* libc/stdio/stdio.c (__sread, __swrite): Likewise.
	* libc/stdio/local.h (__sread, __swrite): Likewise.
	* libc/include/sys/reent.h (_read, _write): Likewise.
	* libc/include/sys/unistd.h (read, write, _read, _write): Likewise.
	* libc/syscalls/sysread.c (read): Likewise.
	* libc/syscalls/syswrite.c (write): Likewise.

2001-03-05  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/time/mktime.c: Add L suffix to _SEC_IN_xxxx constants.

Sat Mar  3 00:34:14 2001  Christopher Faylor <cgf@cygnus.com>

	* libc/include/sys/stat.h: Use special defines for executable stat bits
	when compiling for Cygwin.
	* libc/include/sys/unistd.h: Use special define for X_OK when compiling
	for Cygwin.

2001-03-02  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/string/strtok.c: Add #undef of __STRICT_ANSI__ so prototype
	of strtok_r is always defined.

2001-03-02  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/machine/ansi.h: New dummy header file.

2001-02-22  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/machine/setjmp-dj.h: With DJ Delorie's permission,
	changed the copyright information to allow free modification of the
	file with no reference to "copying.dj".
	* libc/include/sys/stat-dj.h: Ditto.
	* libc/machine/i386/setjmp.S: Ditto.
	* libc/sys/h8300hms/sys/file.h: Ditto.
	* libc/sys/sysmec/access.c: Ditto.
	* libc/sys/sysnecv850/access.c: Ditto.
	* libc/stdio/mktemp.c: Fixed typo for the word copyright.
	* libc/stdlib/getenv_r.c: Ditto.
	* libc/stdlib/putenv_r.c: Ditto.
	* libc/stdlib/setenv_r.c: Ditto.
	* libc/stdlib/getenv.c: Removed DJ reference since any possible
	modifications will now be in the _r version of this file.
	* libc/stdlib/putenv.c: Ditto.
	* libc/stdlib/setenv.c: Ditto.
	* libc/sys/go32/copying.dj: Removed DJ's address which is no longer
	valid.  Added a reference to DJ's web page that contains his address.
	* libc/sys/go32/*.s: Removed references to DJ's old address.
	* libc/sys/go32/*.c: Ditto.
	* libc/sys/go32/*.h: Ditto.
	* libc/sys/go32/*.S: Ditto.
	* libc/sys/go32/sys/*.h: Ditto.

2001-02-21  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/fdopen.c (fdopen): Protect calls to _fcntl() with
	HAVE_FCNTL flag check.
	* configure.host: Define HAVE_FCNTL for Cygwin, go32, RTEMS, sparc64,
	powerpcle, x86 netware, x86 sco, x86 Linux and Vxworks.

Thu Feb 15 01:39:51 2001  Christopher Faylor <cgf@cygnus.com>

	* libc/include/sys/signal.h: Always include sys/types.h under Cygwin.

2001-02-14  Kazuhiro Fujieda  <fujieda@jaist.ac.jp>

	* libc/include/stdlib.h: Add declarations of rand48 functions and
	their reentrant versions.
	* libc/include/sys/reent.h: Move macros from rand48.h. Add
	struct _rand48 for shared parameters of rand48 functions.
	(struct _reent): Add a variable _r48 of struct _rand48.
	(_REENT_INIT): Add _r48 initialization.
	* libc/stdlib/Makefile.am (lib_a_SOURCES): Add rand48 functions.
	(CHEWOUT_FILES): Add rand48.def.
	* libc/stdlib/Makefile.am: Add dependencies for rand48 functions.
	* libc/stdlib/Makefile.in: Regenerated.
	* libc/stdlib/drand48.c (drand48, _drand48_r): Derived from the
	NetBSD C library.
	* libc/stdlib/erand48.c (erand48, _erand48_r): Ditto.
	* libc/stdlib/jrand48.c (jrand48, _jrand48_r): Ditto.
	* libc/stdlib/lcong48.c (lcong48, _lcong48_r): Ditto.
	* libc/stdlib/lrand48.c (lrand48, _lrand48_r): Ditto.
	* libc/stdlib/mrand48.c (mrand48, _mrand48_r): Ditto.
	* libc/stdlib/nrand48.c (nrand48, _nrand48_r): Ditto.
	* libc/stdlib/seed48.c (seed48, _seed48_r): Ditto.
	* libc/stdlib/srand48.c (srand48, _srand48_r): Ditto.
	* libc/stdlib/rand48.c (__dorand48): Ditto.
	* libc/stdlib/rand48.h: Ditto, and modify declarations of global
	parameters into macros referring them in the reentrant structure.

2001-02-12  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/stat.h: Add mknod for Cygwin now that
	Cygwin definition has correct prototype.

2001-02-08  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/stat.h: Must revert change for mknod
	for CYGWIN until winsup/cygwin/syscalls.cc changes mknod
	prototype.

2001-02-08  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/stdio.h: Revert putw prototype.

2001-02-08  Edward M. Lee  <tailbert@yahoo.com>

	* libc/include/grp.h: add prototype for initgroups.
	* libc/include/stdio.h: fix prototype for putw.
	* libc/include/sys/signal.h: add prototype for killpg.
	* libc/include/sys/stat.h: enable mknod/lstat for CYGWIN.
	* libc/include/sys/unistd.h: add prototypes for getpgid, setpgrp,
	vhangup and remove duplicate sysconf prototype.

2001-02-07  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/rtems/sys/types.h: Removed.

2001-02-05  Charles Wilson  <cwilson@ece.gatech.edu>

	* libc/include/locale.h: add LC_MESSAGES definition

2001-02-01  Alexandre Oliva  <aoliva@redhat.com>

	* libc/sys/sh/sys/syscall.h (SYS_get_argc, SYS_get_argN_len,
	SYS_get_argN):
	* libc/sys/sh/syscalls.c (__setup_argv_for_main,
	__setup_argv_and_call_main): New.

2001-01-31  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/stdio.h (FILENAME_MAX): Changed to use __FILENAME_MAX__
	if defined.
	(FOPEN_MAX): Changed to use __FOPEN_MAX__ if defined.
	(L_tmpnam): Changed to use __L_tmpnam__ if defined.
	* libc/include/sys/config.h: Changed to set __FILENAME_MAX__
	appropriately for Cygwin and RTEMS so not to exceed PATH_MAX.

Mon Jan 29 23:03:06 2001  Christopher Faylor <cgf@cygnus.com>

	* libc/stdlib/mallocr.c: Undefine windows preprocessor variables when
	compiling under Cygwin.

2001-01-29  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/math.h (signgam): Change to errno-like solution
	using a function to return the address of the real signgam.
	* libc/reent/signgam.c: New file containing __signgam().
	* libc/reent/Makefile.am: Added signgam.c to list of files.
	* libc/reent/Makefile.in: Regenerated.

2001-01-25  Alexandre Oliva  <aoliva@redhat.com>

	* libc/sys/sh/syscalls.c (_times): New.

	* configure.host (sh*-*-*): Add -DHAVE_GETTIMEOFDAY to newlib_cflags.
	* libc/sys/sh/syscalls.c (_gettimeofday): New.

2001-01-23  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/math.h (signgam): Regress previous fix as
	it does not handle programs with extern int signgam in them.

2001-01-23  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/math.h (signgam): Changed to a macro refering to
	its location in the reentrant structure.

2001-01-23  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdio/vfprintf.c (_VFPRINTF_R): Modification to fix
	that suppressed . for %.0f, 0.1.  Check now looks if there
	are padding zeroes (expt) in addition to any digits (ndig) to
	print.

2001-01-18  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/sys/arc/Makefile.am: New file.
	* libc/sys/arc/Makefile.in: Ditto.
	* libc/sys/arc/aclocal.m4: Ditto.
	* libc/sys/arc/configure: Ditto.
	* libc/sys/arc/configure.in: Ditto.
	* libc/sys/arc/crt0.S: Ditto.
	* libc/sys/arc/isatty.c: Ditto.
	* libc/sys/arc/mem-layout.c: Ditto.
	* libc/sys/arc/sbrk.c: Ditto.
	* libc/sys/arc/syscalls.c: Ditto.
	* libc/sys/arc/sys/syscall.h: Ditto.

Wed Jan 17 23:20:56 2001  Christopher Faylor <cgf@cygnus.com>

	* libc/include/sys/unistd.h: Use correct declaration for setdtablesize.

Fri Jan 12 00:34:31 2001  Christopher Faylor <cgf@cygnus.com>

	* libc/include/sys/signal.h: Add some SA_* defines for Cygwin.

Thu Jan 11 20:42:06  2001  Earnie Boyd  <earnie_boyd@yahoo.com>

	* libc/include/sys/features.h: __CYGWIN__ preferred over __CYGWIN32__

2001-01-09  Nick Clifton  <nickc@redhat.com>

	* configure.host (v859): Remove unsupported compiler options.

Fri Jan  5 19:57:00 EST 2001  Aaron J. Grier  <aaron@frye.com>

	* src/newlib/configure.host (*-*-rtems*): add printf long long
	support for RTEMS.

2000-12-19  Graham Stott <grahams@redhat.com>

	* libc/machine/xscale/memcmp.c (memcmp): Add clobber for "lr".

Wed Dec 14  Jeff Johnston  <jjohnstn@redhat.com>

	* configure.host: Turn on long double I/O for Cygwin.

Wed Dec 14  Jeff Johnston  <jjohnstn@redhat.com>

	* MAINTAINERS: Removed Ranjith.
	* NEWS: Updated for 1.9.0.
	* README: Updated.
	* acinclude.m4: Updated to release 1.9.0.
	* aclocal.m4 configure
	  doc/aclocal.m4 doc/configure libc/aclocal.m4 libc/configure
	  libc/machine/aclocal.m4 libc/machine/configure
	  libc/machine/a29k/aclocal.m4 libc/machine/a29k/configure
	  libc/machine/arm/aclocal.m4 libc/machine/arm/configure
	  libc/machine/d10v/aclocal.m4 libc/machine/d10v/configure
	  libc/machine/d30v/aclocal.m4 libc/machine/d30v/configure
	  libc/machine/fr30/aclocal.m4 libc/machine/fr30/configure
	  libc/machine/h8300/aclocal.m4 libc/machine/h8300/configure
	  libc/machine/h8500/aclocal.m4 libc/machine/h8500/configure
	  libc/machine/hppa/aclocal.m4 libc/machine/hppa/configure
	  libc/machine/i386/aclocal.m4 libc/machine/i386/configure
	  libc/machine/i960/aclocal.m4 libc/machine/i960/configure
	  libc/machine/m32r/aclocal.m4 libc/machine/m32r/configure
	  libc/machine/m68k/aclocal.m4 libc/machine/m68k/configure
	  libc/machine/m88k/aclocal.m4 libc/machine/m88k/configure
	  libc/machine/mips/aclocal.m4 libc/machine/mips/configure
	  libc/machine/mn10200/aclocal.m4 libc/machine/mn10200/configure
	  libc/machine/mn10300/aclocal.m4 libc/machine/mn10300/configure
	  libc/machine/necv70/aclocal.m4 libc/machine/necv70/configure
	  libc/machine/powerpc/aclocal.m4 libc/machine/powerpc/configure
	  libc/machine/sh/aclocal.m4 libc/machine/sh/configure
	  libc/machine/sparc/aclocal.m4 libc/machine/sparc/configure
	  libc/machine/tic80/aclocal.m4 libc/machine/tic80/configure
	  libc/machine/v850/aclocal.m4 libc/machine/v850/configure
	  libc/machine/w65/aclocal.m4 libc/machine/w65/configure
	  libc/machine/xscale/aclocal.m4 libc/machine/xscale/configure
	  libc/machine/z8k/aclocal.m4 libc/machine/z8k/configure
	  libc/sys/aclocal.m4 libc/sys/configure
	  libc/sys/a29khif/aclocal.m4 libc/sys/a29khif/configure
	  libc/sys/arm/aclocal.m4 libc/sys/arm/configure
	  libc/sys/cygwin/aclocal.m4 libc/sys/cygwin/configure
	  libc/sys/d10v/aclocal.m4 libc/sys/d10v/configure
	  libc/sys/decstation/aclocal.m4 libc/sys/decstation/configure
	  libc/sys/go32/aclocal.m4 libc/sys/go32/configure
	  libc/sys/h8300hms/aclocal.m4 libc/sys/h8300hms/configure
	  libc/sys/h8500hms/aclocal.m4 libc/sys/h8500hms/configure
	  libc/sys/linux/aclocal.m4 libc/sys/linux/configure
	  libc/sys/m88kbug/aclocal.m4 libc/sys/m88kbug/configure
	  libc/sys/netware/aclocal.m4 libc/sys/netware/configure
	  libc/sys/rtems/aclocal.m4 libc/sys/rtems/configure
	  libc/sys/sh/aclocal.m4 libc/sys/sh/configure
	  libc/sys/sparc64/aclocal.m4 libc/sys/sparc64/configure
	  libc/sys/sun4/aclocal.m4 libc/sys/sun4/configure
	  libc/sys/sysmec/aclocal.m4 libc/sys/sysmec/configure
	  libc/sys/sysnec810/aclocal.m4 libc/sys/sysnec810/configure
	  libc/sys/sysnecv850/aclocal.m4 libc/sys/sysnecv850/configure
	  libc/sys/sysvi386/aclocal.m4 libc/sys/sysvi386/configure
	  libc/sys/sysvnecv70/aclocal.m4 libc/sys/sysvnecv70/configure
	  libc/sys/tic80/aclocal.m4 libc/sys/tic80/configure
	  libc/sys/w65/aclocal.m4 libc/sys/w65/configure
	  libc/sys/z8ksim/aclocal.m4 libc/sys/z8ksim/configure
	  libm/aclocal.m4 libm/configure: Regenerated.

Wed Dec 13 11:52:00 2000  Corinna Vinschen <vinschen@cygnus.com>

	* libc/include/sys/unistd.h: Add declarations for `chroot' and `getwd'
	when __CYGWIN__ is defined.

2000-12-13  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdlib/ldtoa.c (_ldcheck): New routine
	that categorizes a long double as NaN, Infinity, or other.
	* libc/stdio/vfprintf.c [WANT_IO_LONG_DBL](_VFPRINTF_R): Removed
	isinfl and isnanl static routines which were i386-specific.  Changed
	calls to the two removed routines to a single _ldcheck call.
	* libc/stdio/vfieeefp.h (ldieee): Fixed missing semi-colons.

2000-12-13  Jeff Johnston  <jjohnstn@redhat.com>

	* Makefile.am: Fixed install-data-local target to use
	$(mkinstalldirs) for the installed header files to ensure
	the directories exist before copying.
	* Makefile.in: Regenerated.

2000-12-12  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/unistd.h: Restored Cygwin _SC
	constants and moved new constants appropriately
	so Cygwin will build.

2000-12-11  Joel Sherrill <joel@OARcorp.com>

	* Merge RTEMS specific .h files into main libc/include.
	* libc/sys/rtems/include/signal.h: Removed.
	* libc/sys/rtems/include/time.h: Removed.
	* libc/sys/rtems/sys/features.h: Removed.
	* libc/sys/rtems/sys/sched.h: Removed.
	* libc/sys/rtems/sys/siginfo.h: Removed.
	* libc/sys/rtems/sys/signal.h: Removed.
	* libc/sys/rtems/sys/time.h: Removed.
	* libc/sys/rtems/sys/times.h: Removed.
	definitions for time_t and clock_t since these are
	no longer in time.h.
	* libc/include/pthread.h: New file.
	* libc/include/sys/sched.h: New file.
	* libc/include/sys/features.h: New file.
	* libc/include/time.h: Removed duplicate definition of clock_t
	and time_t, get them from <sys/types.h> instead.  Add prototypes
	for POSIX clock and timer functionality.
	* libc/sys/linux/sys/types.h: Changed to include
	* libc/include/machine/types.h: Add _CLOCKID_T_ and _TIMER_T_.
	* libc/include/sys/signal.h: Add more complete set of POSIX
	signal functionality including real-time and threaded signals.
	* libc/include/sys/types.h: Add clock_t, time_t, struct
	timespec, and struct itimerspec.  Centralizing these makes
	things cleaner.  RTEMS uses 64-bit dev_t.
	Added numerous primitive definitions
	for pthreads including macros, pthread_attr_t,
	pthread_mutexattr_t, pthread_condattr_t, pthread_key_t,
	pthread_once_t, and pthread_t.
	* libc/include/sys/unistd.h: Added getlogin_r() prototype.
	If RTEMS follow POSIX on read(), write() and sbrk() prototype.
	Feature flags removed and moved to new file <sys/features.h>.
	Full set of POSIX sysconf() constants

2000-12-08  Werner Almesberger  <Werner.Almesberger@epfl.ch>

	* configure.host: Added x86 linux target.
	* libc/unix/getpass.c (_PATH_PASSWD, _PASSWORD_LEN): Default
	definitions provided if not already defined.
	* libc/sys/linux/crt0.c: New file.
	* libc/sys/linux/Makefile.am: Ditto.
	* libc/sys/linux/Makefile.in: Ditto.
	* libc/sys/linux/aclocal.m4: Ditto.
	* libc/sys/linux/brk.c: Ditto.
	* libc/sys/linux/configure: Ditto.
	* libc/sys/linux/configure.in: Ditto.
	* libc/sys/linux/getoptlong.c: Ditto.
	* libc/sys/linux/ids.c: Ditto.
	* libc/sys/linux/inode.c: Ditto.
	* libc/sys/linux/io.c: Ditto.
	* libc/sys/linux/linux.c: Ditto.
	* libc/sys/linux/process.c: Ditto.
	* libc/sys/linux/realpath.c: Ditto.
	* libc/sys/linux/select.c: Ditto.
	* libc/sys/linux/signal.c: Ditto.
	* libc/sys/linux/systat.c: Ditto.
	* libc/sys/linux/termios.c: Ditto.
	* libc/sys/linux/time.c: Ditto.
	* libc/sys/linux/wait.c: Ditto.
	* libc/sys/linux/include/alloca.h: Ditto.
	* libc/sys/linux/include/getopt.h: Ditto.
	* libc/sys/linux/include/stdint.h: Ditto.
	* libc/sys/linux/include/unistd.h: Ditto.
	* libc/sys/linux/sys/cdefs.h: Ditto.
	* libc/sys/linux/sys/dirent.h: Ditto.
	* libc/sys/linux/sys/errno.h: Ditto.
	* libc/sys/linux/sys/fcntl.h: Ditto.
	* libc/sys/linux/sys/file.h: Ditto.
	* libc/sys/linux/sys/ioctl.h: Ditto.
	* libc/sys/linux/sys/resource.h: Ditto.
	* libc/sys/linux/sys/signal.h: Ditto.
	* libc/sys/linux/sys/stat.h: Ditto.
	* libc/sys/linux/sys/syscall.h: Ditto.
	* libc/sys/linux/sys/termios.h: Ditto.
	* libc/sys/linux/sys/time.h: Ditto.
	* libc/sys/linux/sys/types.h: Ditto.
	* libc/sys/linux/sys/utmp.h: Ditto.
	* libc/sys/linux/sys/utsname.h: Ditto.
	* libc/sys/linux/sys/wait.h: Ditto.

2000-12-08  Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* Makefile.am: $(INSTALL), $(INSTALL_DATA), and $(INSTALL_PROGRAM)
	can be a relative path to $(top_srcdir)/install.sh so ensure the
	autoconf detected settings are properly passed recursively.
	Similarly, add AM_MAKEFLAGS to FLAGS_TO_PASS so they also get passed
	properly to subdirectories.
	* Makefile.in: Regenerated.

2000-12-07  Jay Kulpinski <jskulpin@eng01.gdds.com>

	* libc/stdio/vfprintf.c: Minor modification to avoid requiring
	a floating point register unless really printing a floating
	point number.

2000-12-07  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdlib/ldtoa.c: Removed include of alloca.h.
	Also removed \r's.
	(asctoeg): Replaced alloca call with stack array and malloc
	when storage exceeds reasonable limit.
	(e53toe): Fixed einfin calls missing ldp parameter.
	(eiisinf): Hide behind check for LDBL_MANT_DIG == 64.

2000-12-06  Jeff Johnston  <jjohnstn@redhat.com>


	* libc/stdio/vfscanf.c: Fix typo for _NO_LONGDBL macro.

2000-12-06  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/stdlib/Makefile.am: Added ldtoa.c to list of sources.
	* libc/stdlib/Makefile.in: Regenerated.
	* libc/stdio/floatio.h: Added suitable MAXEXP for long double.
	* libc/stdio/vfieeefp.h: Added long double bit structures.
	* libc/stdio/vfprintf.c[WANT_IO_LONG_DBL]: Added long double support.
	[WANT_IO_LONG_DBL](isinfl, isnanl): New static long double routines.
	(exponent): Changed expbuf to reasonable maximum instead of MAXEXP.
	* libc/stdio/vfscanf.c[WANT_IO_LONG_DBL]: Added long double support.
	* libc/stdlib/ldtoa.c: New file containing _ldtoa_r and
	_strtold routines used for conversions between character
	and long double.

Wed Dec  6 12:01:00 2000  Corinna Vinschen <vinschen@cygnus.com>

	* libc/include/stdlib.h: Add declarations for `mkstemp' and `mktemp'.

2000-12-04  Joel Sherrill <joel@OARcorp.com>

	* libc/include/machine/time.h: RTEMS systems can configure clock
	tick rate so use sysconf() to ask.

2000-12-04  Joel Sherrill <joel@OARcorp.com>

	* libc/include/sys/times.h: Add reference to POSIX standard.

2000-12-04  Joel Sherrill <joel@OARcorp.com>

	* libc/include/sys/time.h: Added BSD timer manipulation macros
	used by RTEMS code.

2000-12-04  Joel Sherrill <joel@OARcorp.com>

	* libc/sys/rtems/crt0.c: Add stubs for functions implicitly
	referenced by code generated by gcc 2.8.1.
	(a29k): Add stubs for V_SPILL, V_FILL, V_BSD_OS, V_EPI_OS to
	satisfy gcc.

2000-12-04  Joel Sherrill <joel@OARcorp.com>

	* libc/stdlib/system.c: Avoid compiling do_system() for RTEMS.

2000-12-04  Joel Sherrill <joel@OARcorp.com>

	* libc/include/ieeefp.h: Added entries for OpenCores CPUs.

2000-12-04  Joel Sherrill <joel@OARcorp.com>

	* configure.host (or16, or32): New entries for OpenCores
	OpenRisc CPUs.
	(*-*-rtems*): Add -DNO_EXEC.

2000-12-04  Keith Outwater <vac4050@cae597.rsc.raytheon.com>

	* libc/include/sys/errno.h: Added comments on many error numbers.
	* libc/string/strerror.c: Added some more strings.

2000-11-30  Jeff Johnston <jjohnstn@redhat.com>

	* libc/sys/sh/syscalls.c (_link): New stub.

2000-11-29  Nick Clifton  <nickc@redhat.com>

	* configure.host: Add xscale target.
	* libc/machine/xscale: New directory.
	* libc/machine/xscale/Makefile.am: New file.
	* libc/machine/xscale/Makefile.in: New file.
	* libc/machine/xscale/aclocal.m4: New file.
	* libc/machine/xscale/configure: New file.
	* libc/machine/xscale/configure.in: New file.
	* libc/machine/xscale/memchr.S: New file.
	* libc/machine/xscale/memcmp.S: New file.
	* libc/machine/xscale/memcpy.S: New file.
	* libc/machine/xscale/memmove.S: New file.
	* libc/machine/xscale/memset.S: New file.
	* libc/machine/xscale/strchr.S: New file.
	* libc/machine/xscale/strcmp.S: New file.
	* libc/machine/xscale/strcpy.S: New file.
	* libc/machine/xscale/strlen.S: New file.

Sat Nov 25 11:24:00 2000  Corinna Vinschen <vinschen@cygnus.com>

	* libc/include/sys/types.h: Change i to `__i' in FD_ZERO macro to
	avoid compiler warnings.

2000-11-22  Michael Meissner  <meissner@redhat.com>

	* libc/posix/execl.c (execl): Don't reference environ directly,
	reference it only via a static pointer to avoid problems with some
	shared library systems and with different uses of small data where
	the user specifies his own version of environ.
	* libc/posix/execv.c (execv): Ditto.
	* libc/stdlib/getenv_r.c (_findenv_r): Ditto.
	* libc/stdlib/setenv_r.c (_setenv_r,_unsetenv_r): Ditto.
	* libc/stdlib/system.c (system, !cygwin32 case): Ditto.

	* libc/stdlib/getenv.c (environ): Delete unused reference to
	environ.

	* libc/stdlib/getenv_r.c: Make initial comment friendlier to emacs
	colorization.
	* libc/stdlib/system.c: Ditto.

Tue Nov 21 20:32:21 2000  Christopher Faylor <cgf@cygnus.com>

	* libc/sys/cygwin/sys/dirent.h: Change definition to avoid necessity of
	including windows headers.

2000-11-20  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/include/sys/unistd.h: Removed definition of MAXNAMLEN.
	* libc/include/dirent.h: Added definition of MAXNAMLEN if
	not defined by sys/dirent.h.
	* libc/posix/execvp.c: Added include of dirent.h to get
	MAXNAMLEN value which used to be in unistd.h.

Mon Nov  6 12:56:00 2000  Corinna Vinschen <vinschen@cygnus.com>

	* libc/include/sys/types.h: Change type of i to `size_t' in
	FD_ZERO macro to avoid compiler warnings.

Sun Oct 29 20:06:41 2000  Christopher Faylor <cgf@cygnus.com>

	* libc/include/stdlib.h: Avoid declaring cfree under Cygwin.
	* libc/include/malloc.h: Ditto.  Also remove obsolete declaration.

Tue Oct 24 20:16:00 2000  Corinna Vinschen <vinschen@cygnus.com>

	* libc/include/sys/unistd.h: Add defines for sysconf values
	_SC_NPROCESSORS_CONF, _SC_NPROCESSORS_ONLN, _SC_PHYS_PAGES and
	_SC_AVPHYS_PAGES.

Mon Oct  9 20:26:33 2000  Christopher Faylor <cgf@cygnus.com>

	* libc/include/sys/unistd.h: Add getdtablesize and setdtablesize
	declarations for __CYGWIN__.

2000-09-19  Geoffrey Keating  <geoffk@cygnus.com>

	* libc/signal/signal.c (__sigtramp_r): ISO C requires
	case labels to be integral constant expressions, so
	use an if/else tree instead.
	(_raise_r): Likewise.

2000-09-13  Jeff Johnston  <jjohnstn@redhat.com>

	* libc/machine/v850/setjmp.S: Fixed tab problems caused by
	clipping patch from e-mail reader.

2000-09-13  Will Cohen  <wcohen@redhat.com>

	* libc/machine/v850/setjmp.S (_setjmp): Save r1 rather than r0.
	Added return value 0.
	(_longjmp): Allow longjmp to return value of second argument
	passed to it.

2000-09-06  Jeff Johnston <jjohnstn@redhat.com>

	* libc/include/sys/types.h (FD_ZERO): Remove call to bzero and
	inline code to prevent having to include another header file.

Wed Sep  6 15:06:40 2000  Christopher Faylor <cgf@cygnus.com>

	* Makefile.am: Fix space vs. tab problem in install-data-local.
	* Makefile.in: Regenerate.

Wed Sep  6 13:49:51 2000  Christopher Faylor <cgf@cygnus.com>

	* libc/include/_ansi.h (_EXFUN): Define specially for __CYGWIN__.
	(_EXPARM): New macro for defining a function parameter.
	* libc/include/stdlib.h: Use _EXPARM.
	* libc/stdlib/mallocr.c: Don't build cfree for Cygwin.

2000-09-05  Manfred Hollstein  <manfredh@redhat.com>

	* Makefile.am (install-data-local): Use optional $(DESTDIR) where
	required, as documented in the gnu coding standards.
	* Makefile.in: Regenerate.

2000-09-05  Jeff Johnston <jjohnstn@redhat.com>

	* libc/include/fcntl.h (_FNDELAY): Changed to be _FNONBLOCK to
	make O_NDELAY and O_NONBLOCK have the same value.

2000-08-30  Kazu Hirata  <kazu@hxi.com>

	* libc/sys/h8300hms/crt0.S: Optimize for both speed and code size.

2000-08-30  Werner Almesberger  <Werner.Almesberger@epfl.ch>

	* libc/posix/execve.c: included unistd.h for "_execve" prototype.
	* libc/misc/unctrl.c libc/sys/sysvi386/crt0.c (sccsid): changed
	"#ifndef lint" to "#if defined(LIBC_SCCS) && !defined(lint)" like
	everywhere else.

2000-08-30  Geoffrey Keating  <geoffk@cygnus.com>

	* libc/string/swab.c: Specify that it's defined in <unistd.h>.
	* libc/include/string.h: Don't include <sys/types.h>,
	as it causes really bad namespace pollution.  Don't declare
	swab(), it is properly declared in unistd.h.

2000-08-29  Werner Almesberger  <Werner.Almesberger@epfl.ch>

	* libc/unix/getpwent.c (getpwnam, getpwuid, getpwent): removed
	(broken) support for non-existent /etc/passwd field "comment".

2000-08-27  Werner Almesberger  <Werner.Almesberger@epfl.ch>

	* libc/posix/scandir.c (DIRSIZ, scandir): use struct dirent.d_namlen
	only if _DIRENT_HAVE_D_NAMLEN is defined.
	(alphasort): aligned prototype with
	libc/sys/cygwin/sys/dirent.h and simplified function body.
	* libc/posix/telldir.c (telldir): changed "telldir" prototype to
	long telldir (DIR *) as mentioned in annex B of POSIX.1

2000-08-27  Werner Almesberger  <Werner.Almesberger@epfl.ch>

	* libc/machine/i386/i386mach.h: added SOTYPE_FUNCTION to set type
	of global entry points if _I386MACH_NEED_SOTYPE_FUNCTION is defined;
	Added __CLI and __STI macros (controlled via
	_I386MACH_ALLOW_HW_INTERRUPTS macro).
	* libc/machine/i386/f_atan2.S libc/machine/i386/f_atan2f.S
	libc/machine/i386/f_frexp.S libc/machine/i386/f_frexpf.S
	libc/machine/i386/f_ldexp.S libc/machine/i386/f_ldexpf.S
	libc/machine/i386/f_log.S libc/machine/i386/f_log10.S
	libc/machine/i386/f_log10f.S libc/machine/i386/f_logf.S
	libc/machine/i386/f_tan.S libc/machine/i386/f_tanf.S
	libc/machine/i386/memchr.S libc/machine/i386/memcmp.S
	libc/machine/i386/memcpy.S libc/machine/i386/memmove.S
	libc/machine/i386/memset.S libc/machine/i386/setjmp.S
	libc/machine/i386/strchr.S libc/machine/i386/strlen.S:
	(that's libc/machine/i386/*.S) added SOTYPE_FUNCTION(symbol)
	for all global entry points.
	* libc/machine/i386/setjmp.S: removed code replicated in
	libc/machine/i386/i386mach.h and included i386mach.h instead;
	Use __CLI and __STI instead of cli and sti.

2000-08-25  DJ Delorie  <dj@redhat.com>

	* libc/include/sys/unistd.h (environ): this one isn't from the
	DLL, no __IMPORT

Fri Aug 25 13:37:11 2000  Christopher Faylor <cgf@cygnus.com>

	* libc/stdlib/system.c (do_system): Eliminate explicit declaration of
	environ when compiling under cygwin since it is already declared in
	unistd.h.

2000-08-23  Werner Almesberger  <Werner.Almesberger@epfl.ch>

	* libc/stdlib/mprec.c (ulp, b2d, d2b): changed a few expressions
	like  x << y-z  to the equivalent  x << (y-z).
	(d2b): changed if statements with assignment to perform the
	assignment prior to the if check.
	* libc/reent/reent.c: included stdlib.h for "_free_r" prototype.
	* libc/unix/getpass.c (getpass): moved "echo" assignment out of if.
	* libc/unix/ttyname.c: included string.h for "strcpy" prototype.
	* libc/unix/getcwd.c (ISDOT): added parentheses to clarify && and ||
	precedence.
	* libc/include/sys/unistd.h: added "vfork" prototype (for popen.c).
	Added "_execve" prototype (for execl.c, execle.c, execv.c, and
	execve.c).
	* libc/posix/popen.c (popen): added parentheses to clarify && and ||
	precedence.
	* libm/math/e_cosh.c (__ieee754_cosh): changed parentheses to
	clarify && and || precendence (and to remove pascalism).
	* libm/math/e_sinh.c (__ieee754_sinh): Ditto.
	* libm/math/s_infconst.c: added another pair of braces to all
	initializers for __infinity (need three: for __infinity[1] array,
	for union __dmath, and for i[2]).

2000-08-23  Werner Almesberger  <Werner.Almesberger@epfl.ch>

	* libc/stdlib/abort.c: changed description: uses "raise" instead of
	"getpid" and "kill"; added: uses "write" and "_exit".
	Also included unistd.h for "_exit" prototype.
	* libc/stdlib/system.c: included unistd.h for "execve" prototype,
	reent.h for "_fork_r" and "_wait_r" prototypes.
	(do_system): changed  extern char *environ[] to POSIX-friendly
	extern char **environ.
	* libc/stdlib/wctomb_r.c: included string.h for "strlen" and "strcmp"
	prototypes.
	* libc/stdlib/remove.c: included reent.h for "_unlink_r" prototype.
	* libc/reent/execr.c: included sys/wait.h for "wait" prototype.
	* libc/reent/fstatr.c: included sys/stat.h for "fstat" prototype.
	* libc/reent/openr.c: included fcntl.h for "open" prototype.
	* libc/reent/signalr.c: included signal.h for "kill" prototype,
	unistd.h for "getpid" prototype.
	* libc/reent/statr.c: included sys/stat.h for "stat" prototype.
	* libc/reent/timer.c: included sys/time.h for "gettimeofday" prototype.
	* libc/unix/getut.c (utmpname): removed local, incorrect "strdup"
	prototype.  Also included stdlib.h for "abort", string.h for
	"strdup" and "strncmp" prototypes.
	* libc/unix/getlogin.c: included string.h for "strncmp", "memset", and
	"strncpy", unistd.h for "read" and "close" prototypes.
	* libc/posix/execvp.c: included string.h for "strchr", "strlen", and
	"strcat" prototypes.

2000-08-23  Werner Almesberger  <Wernen Almesberger@epfl.ch>

	* libc/stdio/stdio.c (__swrite): declare "oldmode" only if it's
	used later (ifdef __SCLE)
	* libc/stdio/vfscanf.c (__svfscanf): declare "state" only if it's
	used later (ifdef MB_CAPABLE)
	* libc/string/memset.c (memset): removed unused variables "count"
	and "unaligned_addr"
	* libc/locale/locale.c (_setlocale_r): declare "lc_ctype" and
	"last_lc_ctype" only of they're used later (ifdef MB_CAPABLE)
	* libc/unix/getpwent.c (getpwnam): removed unused variables "uid"
	and "gid"

2000-08-23  Werner Almesberger  <Werner.Almesberger@epfl.ch>

	* libc/stdlib/envlock.c: changed documented "__env_lock" and
	"__env_unlock" prototype from "void *" or "char *" to
	"struct _reent *" to match real function.  Also added include
	of envlock.h.
	* libc/stdlib/mlock.c: changed documented "__malloc_lock" and
	"__malloc_unlock" prototype from "void *" or "char *" to
	"struct _reent *" to match real function.
	* libc/stdlib/envlock.h: added "__env_lock" and "__env_unlock"
	prototypes (for getenv_r.c and setenv_r.c).

2000-08-22  Werner Almesberger  <Werner.Almesberger@epfl.ch>

	* libc/unix/getut.c (utmpname): added _CONST to reflect common use
	and prototype in cygwin's utmp.h

2000-08-16  Eric Fifer  <efifer@sanwaint.com>

	* libc/stdio/vfprintf.c (_vfprintf_r): suppress . with "%.0f", 0.1

2000-08-09  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/arm/setjmp.S: Recode to clean up function prologues and
	epilogue and to allow the functions to be used in a Thumb based
	toolchain.

2000-08-08  Jeff Johnston <jjohnstn@redhat.com>

	* libc/stdio/snprintf.c (snprintf, _snprintf_r): Fixed code
	so size of 0 results in nothing being written to string.
	Also fixed code so that when size is non-zero, there is only
	a maximum of size - 1 characters written to the array and
	a nul terminator is appended at the end.
	* libc/stdio/vsnprintf.c (vsnprintf, _vsnprintf_r): Ditto.

2000-08-01  DJ Delorie  <dj@redhat.com>

	* libc/include/sys/config.h: define __IMPORT appropriately
	* libc/include/ctype.h (_ctype_): use __IMPORT
	* libc/include/math.h (__infinity, signam, _LIB_VERSION): ditto
	* libc/include/math.h (__mb_cur_max): ditto
	* libc/include/time.h (_timezone, _daylight, _tzname): ditto
	* libc/include/unctrl.h (__unctrl, __unctrllen): ditto
	* libc/include/errno.h (_sys_errlist, _sys_nerr): ditto
	* libc/include/unistd.h (environ): ditto

2000-07-28  Michael Meissner  <meissner@redhat.com>

	* libc/include/math.h (__infinity): Declare as an array without
	bounds to get around small data support.  Rewrite Cygwin support
	to be more general.
	* libm/math/s_infconst.c (__infinity): Ditto.
	* libm/mathfp/s_infconst.c (__infinity): Ditto.

Thu Jul 27 10:46:01 2000  Christopher Faylor <cgf@cygnus.com>

	* libc/include/math.h: Use appropriate dll import linkage for
	__infinity under Cygwin.

2000-07-13  DJ Delorie  <dj@cygnus.com>

	* libc/stdio/vfprintf.c: pad 0.0 correctly with %e

Wed Jun 28 14:08:00 2000  Keith Walker  <keith.walker@arm.com>

	* libc/sys/arm/crt0.S (.LC30): Added missing length parameter
	to argument list for AngelSWI_Reason_GetCmdLine.

Tue Jun 27 15:49:00 2000  Marek Michalkiewicz  <marekm@linux.org.pl>

	* configure.host: Add support for AVR target.
	* libc/include/machine/ieeefp.h: Likewise.
	* libc/include/sys/config.h: Likewise.

Thu Jun 22 18:35:00 2000  Ranjith Kumaran  <ranjith@cygnus.com>

	* README: Newlib 1.8.2 must be built in a separate directory
	than the sources.

Tue Jun 20 14:30:00 2000  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/include/sys/reent.h (_rand_next): Added __extension__
	qualifier as long long type is not strict ANSI.
	* libc/stdlib/rand.c (rand): Added __extension__ qualifier
	to long long constant.

Fri Jun 16 23:02:00 2000  Corinna Vinschen <corinna@vinschen.de>

	* libc/include/sys/unistd.h: Add prototypes for `seteuid' and
	`setegid' provided by Cygwin.

Thu Jun 15  0:21:00 2000  Corinna Vinschen <corinna@vinschen.de>

	* libc/stdio/fdopen.c: Take explicit given bin/textmode into
	account for Cygwin.

Fri Jun  9 14:28:00 2000  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/include/sys/reent.h (_rand_next): Changed to
	unsigned long long and moved to end of _reent struct in _new union.
	(_REENT_INIT): Changed to move _rand_next initialization.
	* libc/stdlib/rand.c (rand): Changed to use unsigned long long
	linear congruential algorithm that is used by DJGPP.

Thu Jun  8 21:18:00 2000  Ranjith Kumaran  <ranjith@cygnus.com>

	* libc/include/stdlib.h: Set RAND_MAX to __RAND_MAX.
	* libc/include/sys/config.h: Define __RAND_MAX.

Thu Jun  8 17:54:00 2000  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/stdlib/rand_r.c: New algorithm that meets minimal
	standard.

Fri Jun  2 23:02:11 2000  Christopher Faylor <cgf@cygnus.com>

	* libc/include/string.h: Work around problem with strsignal and gdb.

Tue May 30 13:13:01 2000  Christopher Faylor <cgf@cygnus.com>

	* libc/include/ctype.h: __CYGWIN32__ -> __CYGWIN__
	* libc/include/malloc.h: Ditto.
	* libc/include/process.h: Ditto.
	* libc/include/stdio.h: Ditto.
	* libc/include/stdlib.h: Ditto.
	* libc/include/time.h: Ditto.
	* libc/include/machine/setjmp.h: Ditto.
	* libc/include/sys/errno.h: Ditto.
	* libc/include/sys/signal.h: Ditto.
	* libc/include/sys/stat.h: Ditto.
	* libc/include/sys/time.h: Ditto.
	* libc/include/sys/unistd.h: Ditto.
	* libc/include/string.h: Ditto.  strsignal should return a const char *.

2000-05-26  Marek Michalkiewicz  <marekm@linux.org.pl>

	* libm/common/s_expm1.c (expm1): Add curly braces, avoid warnings.
	* libm/common/s_log1p.c (log1p): Likewise.
	* libm/common/s_scalbn.c (scalbn): Likewise.
	* libm/math/e_log.c: Likewise.
	* libm/math/e_asin.c: Likewise.
	* libm/math/ef_asin.c: Likewise.
	* libm/math/e_j0.c (pzero, qzero): Remove redundant test.
	* libm/math/e_j1.c (pone, qone): Likewise.
	* libm/math/ef_j0.c (pzerof, qzerof): Likewise.
	* libm/math/ef_j1.c (ponef, qonef): Likewise.
	* libm/mathfp/e_j0.c (pzero, qzero): Likewise.
	* libm/mathfp/e_j1.c (pone, qone): Likewise.
	* libm/mathfp/ef_j0.c (pzerof, qzerof): Likewise.
	* libm/mathfp/ef_j1.c (ponef, qonef): Likewise.

2000-05-19  DJ Delorie  <dj@cygnus.com>

	* libc/stdio/stdio.c (__stextmode): new, see if file is text mode
	(__sread): always read in binary mode
	(__swrite): always write in binary mode
	* libc/include/stdio.h: no getc/putc macros for cygwin; causes
	compatibility issues with different dll versions
	* libc/stdio/fopen.c: use __stextmode
	* libc/stdio/fdopen.c: ditto
	* libc/stdio/freopen.c: ditto
	* libc/stdio/findfp.c: set up __SCLE for std{in,out,err}
	* libc/stdio/local.h: declare __stextmode

2000-05-18  DJ Delorie  <dj@cygnus.com>

	* libc/stdio/fgets.c (fgets): perform CRLF conversions if __SCLE

Mon May 15 18:54:00 2000  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/include/ctype.h: Changed tolower and toupper macros
	to use __extension__ to prevent pedantic warnings.

Mon May 15 14:26:00 2000  Joel Sherrill  <joel@oarcorp.com>

	* libc/sys/rtems/sys/time.h: Add macros for manipulating timeval
	structures.

Wed May 10 19:24:53 2000  Jim Wilson  <wilson@cygnus.com>

	* libc/include/machine/ieeefp.h: Add ia64 support.
	* configure.host: Likewise.

Wed May 10 13:52:24 2000  Egor Duda <deo@logos-m.ru>

	* libc/time/asctime_r.c (asctime_r): Change output format. Day of
	month is now padded with space, not zero.  This now conforms to
	ANSI standard.

Wed May 03 17:57:00 2000  Corinna Vinschen <corinna@vinschen.de>

	* libc/include/sys/errno.h: Add define for ENOSHARE ("No such
	host or network path") used by cygwin. Add some comments.

Tue May 02 23:45:48 2000  DJ Delorie  <dj@cygnus.com>

	* libc/include/stdio.h (FILE): define __SCLE for "convert line
	endings" for Cygwin.
	(__sgetc): convert line endings if needed
	(__sputc): ditto
	* libc/stdio/fdopen.c (_fdopen_r): Remember if we opened in text mode
	* libc/stdio/fopen.c (_fopen_r): ditto
	* libc/stdio/freopen.c (freopen): ditto
	* libc/stdio/fread.c (fread): perform CRLF conversions if __SCLE
	* libc/stdio/fvwrite.c (__sfvwrite): ditto

Thu Apr 27 07:45:48 2000  Alexandre Oliva  <aoliva@cygnus.com>

	* libc/machine/mn10300/setjmp.S (setjmp, longjmp): Use
	post-increment when it is worth it, spacewise.

Mon Apr 17 12:46:00 2000  Marek Michalkiewicz <marekm@linux.org.pl>

	* libc/signal/signal.c (_signal_r) : Removed unused local variable temp.
	* libc/stdio/findfp.c (std): Added declaration of flags and file.
	* libc/stdio/mktemp.c (_gettemp, _mkstemp_r, mkstemp): Added int
	return type.
	* libc/stdio/putchar.c (putchar): Added return statement.
	* libc/stdio/refill.c (lflush): Added correct parentheses.
	* libc/stdio/vfprintf.c (_VFPRINTF_R): Ditto.
	* libc/stdio/vfscanf.c (__svfscanf): Changed sprintf call which
	prints long value to use l qualifier.
	* libc/stdlib/dtoa.c (_dtoa_r): Added parentheses to remove warning
	messages and initialized local values: ilim, ilim1, and spec_case.
	* libc/stdlib/ecvtbuf.c (print_e): Removed unused variable dp.
	* libc/stdlib/mbctype.h (_issjis1, _issjis2): Added parentheses.
	* libc/stdlib/mprec.c: Ditto.
	* libc/stdlib/setenv_r.c: Ditto.
	* libc/stdlib/strtod.c: Ditto.
	* libc/stdlib/strtol.c: Ditto.
	* libc/stdlib/strtoul.c: Ditto.
	* libm/common/sf_expm1.c: Added curly braces to if else clauses.
	* libm/common/sf_log1p.c: Ditto.
	* libm/common/sf_scalbn.c: Ditto.
	* libm/math/ef_log.c: Ditto.

Sun Apr 16 12:45:00 2000  Corinna Vinschen <corinna@vinschen.de>

	* libc/posix/execvp.c (execvp): Check path for
	trailing slash.

Fri Mar 31 20:39:00 2000  Corinna Vinschen <corinna@vinschen.de>

	* libc/include/sys/unistd.h: Add prototypes for
	fchmod, fchown, lchown.

Fri Mar 24 15:34:00 2000  Jeff Johnston  <jjohnstn@cygnus.com>

	* acinclude.m4: Changed release to 1.8.2.
	* aclocal.m4 configure doc/aclocal.m4 doc/configure
	  libc/aclocal.m4 libc/configure libc/machine/aclocal.m4
	  libc/machine/configure libc/machine/a29k/aclocal.m4
	  libc/machine/a29k/configure libc/machine/arm/aclocal.m4
	  libc/machine/arm/configure libc/machine/d10v/aclocal.m4
	  libc/machine/d10v/configure libc/machine/d30v/aclocal.m4
	  libc/machine/d30v/configure libc/machine/fr30/aclocal.m4
	  libc/machine/fr30/configure libc/machine/h8300/aclocal.m4
	  libc/machine/h8300/configure libc/machine/h8500/aclocal.m4
	  libc/machine/h8500/configure libc/machine/hppa/aclocal.m4
	  libc/machine/hppa/configure libc/machine/i386/aclocal.m4
	  libc/machine/i386/configure libc/machine/i960/aclocal.m4
	  libc/machine/i960/configure libc/machine/m32r/aclocal.m4
	  libc/machine/m32r/configure libc/machine/m68k/aclocal.m4
	  libc/machine/m68k/configure libc/machine/m88k/aclocal.m4
	  libc/machine/m88k/configure libc/machine/mips/aclocal.m4
	  libc/machine/mips/configure libc/machine/mn10200/aclocal.m4
	  libc/machine/mn10200/configure libc/machine/mn10300/aclocal.m4
	  libc/machine/mn10300/configure libc/machine/necv70/aclocal.m4
	  libc/machine/necv70/configure libc/machine/powerpc/aclocal.m4
	  libc/machine/powerpc/configure libc/machine/sh/aclocal.m4
	  libc/machine/sh/configure libc/machine/sparc/aclocal.m4
	  libc/machine/sparc/configure libc/machine/tic80/aclocal.m4
	  libc/machine/tic80/configure libc/machine/v850/aclocal.m4
	  libc/machine/v850/configure libc/machine/w65/aclocal.m4
	  libc/machine/w65/configure libc/machine/z8k/aclocal.m4
	  libc/machine/z8k/configure libc/sys/aclocal.m4
	  libc/sys/aclocal.m4 libc/sys/configure
	  libc/sys/a29khif/aclocal.m4 libc/sys/a29khif/configure
	  libc/sys/arm/aclocal.m4 libc/sys/arm/configure
	  libc/sys/cygwin/aclocal.m4 libc/sys/cygwin/configure
	  libc/sys/d10v/aclocal.m4 libc/sys/d10v/configure
	  libc/sys/decstation/aclocal.m4 libc/sys/decstation/configure
	  libc/sys/go32/aclocal.m4 libc/sys/go32/configure
	  libc/sys/h8300hms/aclocal.m4 libc/sys/h8300hms/configure
	  libc/sys/h8500hms/aclocal.m4 libc/sys/h8500hms/configure
	  libc/sys/m88kbug/aclocal.m4 libc/sys/m88kbug/configure
	  libc/sys/netware/aclocal.m4 libc/sys/netware/configure
	  libc/sys/rtems/aclocal.m4 libc/sys/rtems/configure
	  libc/sys/sh/aclocal.m4 libc/sys/sh/configure
	  libc/sys/sparc64/aclocal.m4 libc/sys/sparc64/configure
	  libc/sys/sun4/aclocal.m4 libc/sys/sun4/configure
	  libc/sys/sysmec/aclocal.m4 libc/sys/sysmec/configure
	  libc/sys/sysnec810/aclocal.m4 libc/sys/sysnec810/configure
	  libc/sys/sysnecv850/aclocal.m4 libc/sys/sysnecv850/configure
	  libc/sys/sysvi386/aclocal.m4 libc/sys/sysvi386/configure
	  libc/sys/sysvnecv70/aclocal.m4 libc/sys/sysvnecv70/configure
	  libc/sys/tic80/aclocal.m4 libc/sys/tic80/configure
	  libc/sys/w65/aclocal.m4 libc/sys/w65/configure
	  libc/sys/z8ksim/aclocal.m4 libc/sys/z8ksim/configure
	  libm/aclocal.m4 libm/configure: Regenerated.

2000-03-24  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/arm/syscalls.c: Fix compile time warnings.
	(do_AngelSWI): Add "cc" to list o registers clobbered.

Thu Mar 22 14:57:00 2000  Fernando Nasser <fnasser@redhat.com>

	* libc/sys/arm/syscalls.c (do_AngelSWI): Prevent registers with valid
	information to be clobbered by an Angel C library support syscall.

Tue Mar 21 19:08:00 2000  Jeff Johnston <jjohnstn@cygnus.com>

	* libc/stdlib/envlock.c: Fixed comment typo.

Fri Mar 17 15:37:00 2000  Jeff Johnston <jjohnstn@cygnus.com>

	* libc/stdio/vfscanf.c (__svfscanf): Fixed floating point
	code to update nread as each character is processed instead
	of using buffer contents which throw away leading zeroes.

Mon Mar 13 15:22:00 2000  Sergei Organov <osv@javad.ru>

	* libm/mathfp/sf_sqrt.c: Change _DOUBLE_IS_32BITS sqrt call to sqrtf.

Fri Mar 10 16:09:20 2000  Jeff Johnston <jjohnstn@cygnus.com>

	* libc/include/string.h: Include <sys/types.h>.

Fri Mar 10 14:53:50 2000  Alexandre Oliva  <oliva@lsd.ic.unicamp.br>

	* libc/stdio/putw.c (putw): Return 0 on success, to be compliant
	with XSH5, not SVID.

Thu Mar  9 17:20:41 2000  Jeff Johnston <jjohnstn@cygnus.com>

	* libc/include/string.h: Changed last argument back to ssize_t
	to make it compatible with XPG4 definition which is
	defined in <unistd.h>.  There is a conflict in the SVID 3
	and XPG4 definitions and newlib will settle with XPG4.
	* libc/string/swab.c: Ditto.

Wed Mar  8 17:11:41 2000  Jeff Johnston <jjohnstn@cygnus.com>

	* libc/include/string.h: Changed last argument to size_t.
	* libc/string/swab.c: Changed last argument to size_t.

Wed Mar  8 00:46:41 2000  Alexandre Oliva  <oliva@lsd.ic.unicamp.br>

	* libc/reent/Makefile.am (lib_a_SOURCES): Added unlinkr.c.
	(CHEWOUT_FILES): Added unlinkr.def.
	* libc/reent/Makefile.in: Rebuilt.
	* libc/sys.tex: Include unlinkr.def.
	* libc/reent/linkr.c (_unlink_r): Moved to...
	* libc/reent/unlinkr.c: ... new file.

Wed Mar  8 00:43:07 2000  Alexandre Oliva  <oliva@lsd.ic.unicamp.br>

	* libc/string/Makefile.am (lib_a_SOURCES): Added swab.c.
	(CHEWOUT_FILES): Added swab.def.
	* libc/string/Makefile.in: Rebuilt.
	* libc/string/string.tex: Include swab.def.
	* libc/include/string.h (swab): Declare.
	* libc/string/swab.c: New file.

Wed Mar  8 00:38:35 2000  Alexandre Oliva  <oliva@lsd.ic.unicamp.br>

	* libc/stdio/Makefile.am (lib_a_SOURCES): Added getw.c and putw.c.
	(CHEWOUT_FILES): Added getw.def and putw.def.
	* libc/stdio/Makefile.in: Rebuilt.
	* libc/stdio/stdio.tex: Include getw.def and putw.def.
	* libc/stdio/getw.c: New file.
	* libc/stdio/putw.c: New file.

Fri Feb 25 14:50:50 2000  Jeff Johnston <jjohnstn@cygnus.com>

	* libc/stdio/flags.c (__sflags): Added check that mode[1]
	is non-null before looking at mode[2].

Thu Feb 24 11:43:00 2000  Ran Cabell <rcabell@norfolk.infi.net>

	* libm/mathfp/sf_atan2.c: Fix atan2 typo for _DOUBLE_IS_32_BITS.
	* libm/mathfp/sf_atan.c: Ditto.

Thu Feb 24 11:39:00 2000  Joel Sherrill <joel@OARcorp.com>

	* libc/include/sys/stat.h: Add RTEMS prototype for lstat.

Tue Feb 22 14:37:00 2000  Ran Cabell <rcabell@norfolk.infi.net>

	* libm/mathfp/sf_exp.c: Corrected _DOUBLE_IS_32_BITS to be
	_DOUBLE_IS_32BITS.

Mon Feb 21 11:43:50 2000  Jeff Johnston <jjohnstn@cygnus.com>

	* libc/stdio/vfprintf.c (VFPRINTF): Added CHECK_INIT
	call prior to calling _VFPRINTF_R so reentrant data area is set.
	(_VFPRINTF_R): Removed now extraneous CHECK_INIT call.

Thu Feb 17 01:42:50 2000  J"orn Rennecke <amylaar@cygnus.co.uk>

	* libc/stdio/vfscanf.c (limits.h): #include.
	(MAX_LONG_LEN): #define.
	(__svfscanf): Handle floating point numbers with arbitrary amounts
	of leading zeroes.

2000-02-15  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/arm/syscalls.c (_fstat): Initialise all fields to
	zero.  Set the blocksize to 1024/

Thu Jan 20 18:57:00 2000  Fernando Nasser <fnasser@redhat.com>

	* setvbuf.c (setvbuf):  Set size to BUFSIZ when passed a zero size
	with line buffering.

Mon Jan 10 18:43:00 2000  Jeff Johnston <jjohnstn@cygnus.com>

	* acinclude.m4: Changed include directory for winsup headers.
	* aclocal.m4 configure libc/aclocal.m4
	  libc/configure libc/ctype/Makefile.in libc/errno/Makefile.in
	  libc/locale/Makefile.in libc/machine/aclocal.m4
	  libc/machine/configure libc/machine/a29k/aclocal.m4
	  libc/machine/a29k/configure libc/machine/arm/aclocal.m4
	  libc/machine/arm/configure libc/machine/d10v/aclocal.m4
	  libc/machine/d10v/configure libc/machine/d30v/aclocal.m4
	  libc/machine/d30v/configure libc/machine/fr30/aclocal.m4
	  libc/machine/fr30/configure
	  libc/machine/h8300/aclocal.m4
	  libc/machine/h8300/configure libc/machine/h8500/aclocal.m4
	  libc/machine/h8500/configure libc/machine/hppa/aclocal.m4
	  libc/machine/hppa/configure libc/machine/i386/aclocal.m4
	  libc/machine/i386/configure libc/machine/i960/aclocal.m4
	  libc/machine/i960/configure libc/machine/m32r/aclocal.m4
	  libc/machine/m32r/configure libc/machine/m68k/aclocal.m4
	  libc/machine/m68k/configure libc/machine/m88k/aclocal.m4
	  libc/machine/m88k/configure libc/machine/mips/aclocal.m4
	  libc/machine/mips/configure libc/machine/mn10200/aclocal.m4
	  libc/machine/mn10200/configure libc/machine/mn10300/aclocal.m4
	  libc/machine/mn10300/configure libc/machine/necv70/aclocal.m4
	  libc/machine/necv70/configure libc/machine/powerpc/aclocal.m4
	  libc/machine/powerpc/configure
	  libc/machine/sh/aclocal.m4
	  libc/machine/sh/configure libc/machine/sparc/aclocal.m4
	  libc/machine/sparc/configure
	  libc/machine/tic80/aclocal.m4 libc/machine/tic80/configure
	  libc/machine/v850/aclocal.m4 libc/machine/v850/configure
	  libc/machine/w65/aclocal.m4 libc/machine/w65/configure
	  libc/machine/z8k/aclocal.m4 libc/machine/z8k/configure
	  libc/misc/Makefile.in libc/posix/Makefile.in
	  libc/reent/Makefile.in
	  libc/signal/Makefile.in
	  libc/string/Makefile.in libc/sys/aclocal.m4 libc/sys/configure
	  libc/sys/a29khif/aclocal.m4 libc/sys/a29khif/configure
	  libc/sys/arm/Makefile.in libc/sys/arm/aclocal.m4
	  libc/sys/arm/configure libc/sys/cygwin/aclocal.m4
	  libc/sys/cygwin/configure libc/sys/d10v/Makefile.in
	  libc/sys/d10v/aclocal.m4 libc/sys/d10v/configure
	  libc/sys/decstation/aclocal.m4 libc/sys/decstation/configure
	  libc/sys/go32/aclocal.m4 libc/sys/go32/configure
	  libc/sys/h8300hms/aclocal.m4 libc/sys/h8300hms/configure
	  libc/sys/h8500hms/aclocal.m4 libc/sys/h8500hms/configure
	  libc/sys/m88kbug/aclocal.m4 libc/sys/m88kbug/configure
	  libc/sys/netware/aclocal.m4 libc/sys/netware/configure
	  libc/sys/rtems/aclocal.m4 libc/sys/rtems/configure
	  libc/sys/sh/Makefile.in libc/sys/sh/aclocal.m4
	  libc/sys/sh/configure libc/sys/sparc64/aclocal.m4
	  libc/sys/sparc64/configure libc/sys/sun4/aclocal.m4
	  libc/sys/sun4/configure libc/sys/sysmec/aclocal.m4
	  libc/sys/sysmec/configure libc/sys/sysnec810/aclocal.m4
	  libc/sys/sysnec810/configure libc/sys/sysnecv850/aclocal.m4
	  libc/sys/sysnecv850/configure libc/sys/sysvi386/aclocal.m4
	  libc/sys/sysvi386/configure libc/sys/sysvnecv70/aclocal.m4
	  libc/sys/sysvnecv70/configure libc/sys/tic80/aclocal.m4
	  libc/sys/tic80/configure libc/sys/w65/aclocal.m4
	  libc/sys/w65/configure libc/sys/z8ksim/aclocal.m4
	  libc/sys/z8ksim/configure libc/syscalls/Makefile.in
	  libc/time/Makefile.in libc/unix/Makefile.in libm/aclocal.m4
	  libm/configure: Regenerated.

Mon Jan 10 18:43:46 2000  Jeff Johnston <jjohnstn@cygnus.com>

	* libc/stdlib/putenv_r.c (_putenv_r): New file.
	* libc/stdlib/strdup_r.c (_strdup_r): New file.
	* libc/include/string.h: Added _strdup_r.
	* libc/stdlib/putenv.c: Added call to reentrant version.
	* libc/stdlib/strdup.c: Ditto.
	* libc/stdlib/Makefile.am: Added _putenv_r and _unsetenv_r.
	* libc/include/stdlib.h: Ditto.
	* libc/stdlib/Makefile.in: Regenerated.
	* libc/string/Makefile.in: Regenerated.
	* libc/stdlib/setenv.c: Added reentrant version of unsetenv.
	* libc/stdlib/setenv_r.c: Added unsetenv_r and changed memory
	management calls to reentrant versions.
	* libc/stdlib/wcstombs.c: Added #ifndef _REENT_ONLY wrapper.
	* libc/stdlib/wctomb.c: Ditto.
	* libc/stdlib/mblen.c: Ditto.
	* libc/stdlib/mbstowcs.c: Ditto.
	* libc/stdlib/mbtowc.c: Ditto.
	* libc/stdlib/getenv.c: Ditto.
	* libc/reent/reent.tex: Added references to _putenv_r, _setenv_r,
	and _strdup_r.

Thu Jan  6 15:33:46 2000  Christopher Faylor <cgf@cygnus.com>

	patch from Corinna Vinschen <corinna@vinschen.de>
	* libc/sys/cygwin/sys/param.h: Define NGROUP_MAX as 16.

Mon Jan 03 14:36:00 2000  Sergei Organov <osv@javad.ru>

	* libm/mathfp/s_atangent.c: Fix exponent calculation.
	* libm/mathfp/s_ldexp.c: Ditto.
	* libm/mathfp/sf_atangent.c: Ditto.
	* libm/mathfp/sf_ldexp.c: Ditto.

Tue Dec 14 5:42:00 1999  Ranjith Kumaran <ranjith@cygnus.com>

	* libc/machine/i960/setjmp.S: fix typo leaving .link_pix uncommented
	* libc/include/locale.h: define NULL to be 0.

Tue Dec  7 15:41:45 1999  Jim Wilson  <wilson@cygnus.com>

	* libc/sys/sh/syscalls.c (stack_ptr): Move definition before first
	function.

Wed Dec  1 17:39:29 1999  Jeffrey A Law  (law@cygnus.com)

	* libc/machine/mn10300/setjmp.S: Handle am33.

1999-11-26  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/arm/syscalls.c: Add function prototypes.
	(stack_ptr): Move declaration before function definitions.

Sat Nov 20 17:13:00 1999  Ranjith Kumaran <ranjith@cygnus.com>

	* NEWS: Updated version information.
	* README: Ditto.

Tue Nov 09 12:19:21 1999  Jeff Johnston <jjohnstn@cygnus.com>

	* libc/machine/i386/strchr.S: Fixed alignment test.

Thu Oct 28 05:30:46 1999  Andrew Cagney  <cagney@makita.cygnus.com>

	* libc/sys/d10v/crt0.S (_start): Construct a real stack frame.

Thu Oct 28 15:29:11 1999  Andrew Cagney  <cagney@b1.cygnus.com>

	* libc/sys/d10v/crt0.S (_start): Initialize both SPI and SPU
	ensuring that there is space between the two.

Thu Oct 14 13:39:21 1999  Christopher Faylor <cgf@cygnus.com>

	* libc/stdio/flags.c: Conditionalize check for 't' for cygwin case
	only.

1999-10-08  Vadim Egorov  <egorovv@1c.ru>

	* libc/include/stdlib.h: add ptsname, grantpt, unlockpt to cygwin
	section

Sat Oct  2 02:02:00 MEST 1999  Ralf Corsepius <corsepiu@faw.uni-ulm.de>

	* libc/machine/sh/asm.h: Added __SH4_SINGLE__ to DELAYED_BRANCHES
	* libc/machine/sh/memcpy.S: Fix line wrapping in SL macro

Fri Oct  1 13:17:59 CDT 1999  <joel@OARcorp.com>
	* libc/include/grp.h: Added getgrnam_r and getgrgid_r prototypes
	  per POSIX 1003.1b.
	* libc/include/pwd.h: Added getpwnam_r and getpwuid_r prototypes
	  per POSIX 1003.1b.

1999-09-13  DJ Delorie  <dj@cygnus.com>

	* libc/stdio/mktemp.c (_gettemp): on cygwin, check for EACCESS
	also.

Thu Sep  9 15:31:00 1999  Jeff Johnston <jjohnstn@cygnus.com>

	* setvbuf.c (setvbuf):  When mallocing a buffer of size BUFSIZ,
	also note BUFSIZ as its size.

Tue Sep  7 17:15:00 1999  Joel Sherrill <joel@OARcorp.com>

	* configure.host: Corrected feature defines for RTEMS.
	* libc/include/sys/stat.h: Added protototype for RTEMS mknod.
	* libc/include/sys/stat.h: mkfifo() should take const path arg.
	* libc/include/sys/unistd.h: pathconf() should take const path arg.
	  Enabled usleep(), ftruncate(), and truncate() prototypes for RTEMS.
	  Added defines for _POSIX_JOB_CONTROL, _POSIX_SAVED_IDS, and
	  _POSIX_VERSION for RTEMS.  Added defines for _PC_ASYNC_IO,
	  _PC_PRIO_IO, and _PC_SYNC_IO.
	* libc/machine/m68k/Makefile.am: Added strcpy.c and strlen.c.
	* libc/machine/m68k/Makefile.in: Regenerated.
	* libc/machine/m68k/strcpy.c: New file.
	* libc/machine/m68k/strlen.c: New file.
	* libc/stdio/tmpnam.c: Always make the returned name usable.
	* libc/sys/rtems/crt0.c: New version that passes all autoconf tests.
	* libc/sys/rtems/sys/dirent.h: New file.
	* libc/sys/rtems/sys/types.h: Added dev_t.

Tue Sep  7 17:15:00 1999   Jay Kulpinski <jskulpin@eng01.gdds.com>

	* libc/stdlib/mprec.c: Fixed unitialized variable problem.

Fri Sep  3 12:35:20 1999  Jeff Johnston <jjohnstn@cygnus.com>

	* libc/stdio/ftell.c (ftell): Backing off Joern's fix and
	my patch.

Thu Sep  2 22:05:20 1999  Christopher Faylor <cgf@cygnus.com>

	patch from Jeff Johnston <jjohnstn@cygnus.com>
	* libc/stdio/ftell.c (ftell): Avoid using buffer position when the
	buffer is not in a useful state.

1999-09-01  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/arm/syscalls.c (_link): Add stub.

Fri Aug 27 23:09:09 1999  J"orn Rennecke <amylaar@cygnus.co.uk>

	* ftell.c (ftell): Use actual position within buffer for text mode.
	* findfp.c (std): Initialize ptr->_bf._size.

Wed Aug 18 18:48:02 1999  Christopher Faylor <cgf@cygnus.com>

	* libc/include/sys/unistd.h: Add nice() declaration.

1999-08-09  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/arm/crt0.S (change_mode): Rename to __change_mode and
	declare as a thumb function so that the disassembler will see the
	mode change.

Thu Aug  5 17:37:00 1999  Ranjith Kumaran <ranjith@cygnus.com>

	* libc/reent/reent.tex: Updated list of reentrant functions.

1999-07-09  Michael Meissner  <meissner@cygnus.com>

	* libc/include/stdlib.h (_findenv{,_r}): Add prototypes.

Tue Jul  6 10:46:24 1999  Jeff Johnston <jjohnstn@cygnus.com>

	* libc/stdio/sprintf.c: Moved snprintf and _snprintf_r to
	separate file.
	* libc/stdio/snprintf.c: New file.
	* libc/stdio/vsprintf.c: Moved vsnprintf and _vsnprintf_r to
	separate file.
	* libc/stdio/vsnprintf.c: New file.
	* libc/stdio/Makefile.am: Added snprintf.c and vsnprintf.c.
	* libc/stdio/Makefile.in: Regenerated.

Mon Jul  5 14:43:24 1999  Christopher Faylor <cgf@cygnus.com>

	Patch submitted by Egor Duda <deo@logos-m.ru>:
	* libc/include/stdio.h: Add declarations for *nprintf.
	* libc/stdio/sprintf.c (snprintf): New function.
	(_snprintf_r): New function.
	* libc/stdio/vsprintf.c (vsnprintf): New function.
	(_vnsprintf_r): New function.

Wed Jun 30 16:36:27 1999  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/Makefile.am (stmp-targetdep): Remove extraneous blank.
	* libm/Makefile.am (stmp-targetdep): Ditto.
	* libc/Makefile.in: Regenerated.
	* libm/Makefile.in: Ditto.

Fri Jun 25 10:49:27 1999  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/Makefile.am (stmp-targetdep): Ignore "." in SUBDIRS.
	* libm/Makefile.am (stmp-targetdep): Ditto.
	* libc/Makefile.in: Regenerated.
	* libm/Makefile.in: Ditto.

Thu June 03 16:25:00 1999  Jeff Johnston <jjohnstn@cygnus.com>

	* Makefile.am: Removed dependencies on all-recursive and added "."
	to the SUBDIRS list to prevent infinite recursion from occurring.
	Also removed any references to EXTRA_DATA.
	* libc/Makefile.am: Ditto.
	* libc/machine/Makefile.am: Ditto.
	* libc/machine/i386/Makefile.am: Ditto.
	* libm/Makefile.am: Ditto.
	* libc/sys/Makefile.am: Ditto.
	* Makefile.in: Regenerated.
	* aclocal.m4: Ditto.
	* configure: Ditto.
	* doc/Makefile.in: Ditto.
	* doc/aclocal.m4: Ditto.
	* doc/configure: Ditto.
	* libc/Makefile.in: Ditto.
	* libc/aclocal.m4: Ditto.
	* libc/configure: Ditto.
	* libc/machine/Makefile.in: Ditto.
	* libc/machine/aclocal.m4: Ditto.
	* libc/machine/configure: Ditto.
	* libc/machine/mn10300/Makefile.in: Ditto.
	* libc/machine/mn10300/aclocal.m4: Ditto.
	* libc/machine/mn10300/configure: Ditto.
	* libc/sys/Makefile.in: Ditto.
	* libc/sys/aclocal.m4: Ditto.
	* libc/sys/configure: Ditto.
	* libm/Makefile.in: Ditto.
	* libm/aclocal.m4: Ditto.
	* libm/configure: Ditto.

Thu June 03 16:20:00 1999  Ranjith Kumaran <ranjith@cygnus.com>

	* libc/include/stdlib/stdlib.tex: Add link to env_lock.

Fri May 28 17:09:00 1999  Ranjith Kumaran <ranjith@cygnus.com>

	* libc/include/stdlib.h: Add reentrant routines.
	* libc/stdlib/Makefile.am: Add reentrant routines.
	* libc/stdlib/Makefile.in: Ditto.
	* libc/stdlib/envlock.c: New file.
	* libc/stdlib/envlock.h: New file.
	* libc/stdlib/getenv.c: Modify to call reentrant routine.
	* libc/stdlib/getenv_r.c: New file.
	* libc/stdlib/mblen.c: Modify to call reentrant routine.
	* libc/stdlib/mblen_r.c: New file.
	* libc/stdlib/setenv.c: Modify to call reentrant routine.
	* libc/stdlib/setenv_r.c: New file.
	* libc/stdlib/stdlib.tex: Add reentrant routines.

Mon May 17 22:01:38 1999  Christopher Faylor <cgf@cygnus.com>

	* libc/include/sys/types.h: Define __MS_types__ whenever
	cygwin or win32.

Sun May 16 16:02:41 1999  Christopher Faylor <cgf@cygnus.com>

	* libc/include/machine/ieeefp.h: Always default to little
	endian if Windows, regardless of architecture.
	* libc/include/machine/sethmp.h: Define JBLEN if CYGWIN
	regardless of architecture.

Mon May  3 11:49:18 1999  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/machine/setjmp.h: Accept CYGWIN define, even if
	_WIN32 isn't defined.

Mon May  3 11:41:51 1999  Jeff Johnston  <jjohnstn@cygnus.com>

	* libm/common/s_rint.c (rint): Add volatile qualifier for
	intermediate value w.
	* libm/common/sf_rint.c (rintf): Ditto.

Thu Apr 29 20:34:27 1999  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/sys/arm/syscalls.c (remap_handle): Added check to
	ensure that std streams are initialized before being referenced.

1999-04-27  Jason Molenda  (jsm@bugshack.cygnus.com)

	* README: Update reference to newlib@cygnus.com new
	newlib@sourceware.cygnus.com address.

Mon Apr 26 18:17:33 1999  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/sys/types.h: Define MS_types if CYGWIN is defined.
	* libc/include/sys/fcntl.h: Define _O_BINARY et al if CYGWIN is
	defined, even if _WIN32 isn't defined.

Sat Apr 24 19:59:55 1999  Christopher Faylor <cgf@cygnus.com>

	* libc/include/sys/fcntl.h: Correct _O_CREATE to _O_CREAT.

Wed Apr 21 18:01:00 1999  Ranjith Kumaran  <ranjith@cygnus.com>

	* libc/include/sys/reent.h: Change Long and ULong to __Long and
	__ULong.
	* libc/stdlib/dtoa.c: Ditto.
	* libc/stdlib/mprec.c: Ditto.
	* libc/stdlib/mprec.h: Ditto.
	* libc/stdlib/strtod.c: Ditto.

1999-04-21  Nick Clifton  <nickc@cygnus.com>

	* configure.host (mcore): Remove mcore machine directory.

1999-04-18  Nick Clifton  <nickc@cygnus.com>

	* libc/include/machine/ieeefp.h: Add support for mcore target.
	* libc/include/machine/setjmp.h: Add support for mcore target.
	* configure.host: Add support for mcore target.

1999-04-13  Mark Salter  <msalter@cygnus.com>

	* libc/sys/arm/libcfunc.c: Moved isatty to syscall.c
	* libc/sys/arm/syscalls.c: Added isatty.

Wed Apr 07 16:06:04 1999  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/stdlib/ecvtbuf.c (fcvtbuf): Fixed code to properly
	insert zeroes after significant digits.

Wed Mar 17 22:06:04 1999  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/stdio/vfprintf.c (cvt): Changed floating point
	cvt routine to use union used by dtoa to properly determine
	if the sign bit is on or not.
	* libc/stdio/vfieeefp.h: New file

Wed Mar 17 17:35:04 1999  Jeff Johnston  <jjohnstn@cygnus.com>

	* aclocal.m4: Regenerated.
	* configure: Regenerated.

Wed Mar 17 16:35:04 1999  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/machine/i386/Makefile.am (lib_a_SOURCES): Added missing
	f_tanf reference.
	* libc/machine/i386/Makefile.in: Regenerated.

Tue Mar 16 14:56:36 1999  Jeff Johnston  <jjohnstn@cygnus.com>

	* acinclude.m4: Changed to work with new automake.
	* configure: Regenerated.
	* libc/machine/i386/aclocal.m4: Regenerated.
	* libc/machine/i386/configure: Regenerated.

Tue Mar 16 13:55:36 1999  Corinna Vinschen  <corinna.vinschen@cityweb.de>

	* libc/sys/cygwin/sys/dirent.h: Add additional prototypes
	for telldir() and seekdir().  Rename unused structure element
	for use with these two routines.

Fri Mar 12 19:11:58 1999  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/time/mktime.c (validate_structure): Multiple fixes to
	code to handle cases where input fields are outside valid ranges.
	* libc/stdlib/div.c (div): Modified invalid rounding check.
	* libc/stdlib/ldiv.c (ldiv): Ditto.

Thu Mar 11 21:32:13 1999  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/machine/i386/memcpy.S: Performance rewrite.
	* libc/machine/i386/memmove.S: Ditto.
	* libc/machine/i386/i386mach.h: Added more register definitions.
	* libc/include/math.h: Include <machine/fastmath.h> if -ffast-math
	option used.
	* libc/include/machine/fastmath.h: Add definitions for x86
	fast-math routines.

Wed Mar 10 17:56:00 1999 Ranjith Kumaran  <ranjith@cygnus.com>

	* libc/stdlib/strtod.c: Change from unsigned long to ULong.

Tue Mar  9 14:31:58 1999  Geoffrey Noer  <noer@cygnus.com>

	Adjust newlib headers for new Cygwin Win32 API header files:
	* libc/include/sys/time.h: Check _WINSOCK_H rather than
	_GNU_H_WINDOWS32_SOCKETS.
	* libc/include/sys/types.h: Ditto.

Tue Mar 09 15:55:00 1999 Ranjith Kumaran  <ranjith@cygnus.com>

	*include/sys/reent.h: Add checks for size of Bigint element Long.
	*libc/dtoa.c: Change routines to use generic Long type.
	*libc/mprec.c: Change routines to use generic Long type.
	*libc/mprec.h: Change routines to use generic Long type.

Tue Mar 02 18:07:49 1999 Ranjith Kumaran  <ranjith@cygnus.com>

	* libc/Makefile.am: Add .def files.
	* libc/Makefile.in: Regenerate.
	* libc/e_acosh.c: Documentation update.
	* libc/e_atanh.c: Documentation update.
	* libc/e_hypot.c: Documentation update.
	* libc/e_remainder.c: Documentation update.
	* libc/er_lgamma.c: Documentation update.
	* libc/mathfp.tex: Documentation update.
	* libc/s_acos.c: Documentation update.
	* libc/s_atan.c: Documentation update.
	* libc/s_atan2.c: Documentation update.
	* libc/s_cosh.c: Documentation update.
	* libc/s_fmod.c: Documentation update.
	* libc/s_isnan.c: Documentation update.
	* libc/s_log10.c: Documentation update.
	* libc/s_pow.c: Documentation update.
	* libc/w_jn.c: Documentation update.

Sun Feb 28 23:18:49 1999  Geoffrey Noer  <noer@cygnus.com>

	* aclocal.m4: Regenerate.
	* configure: Regenerate.

Tue Feb 23 13:57:26 1999  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/machine/mn10300/setjmp.S (_longjmp): Fixed longjmp
	to return 1 if user specified return code is 0.
	* libc/machine/mn10200/setjmp.S (_longjmp): Ditto.

Thu Feb 18 11:13:28 1999  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/machine/mn10200/setjmp.S (_setjmp/_longjmp): Fixed setjmp
	to save the return address.  Fixed longjmp to return to the original
	calling address of setjmp and to return the user specified return code
	rather than default to 1.
	* libc/machine/mn10300/setjmp.S (_setjmp/_longjmp): Ditto.

Mon Feb 15 17:48:17 1999  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/stdlib/mprec.h (mult): Define mult to be _multiply instead of _mult.

1999-02-10  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/arm/syscalls.c (initialise_monitor_handles): Make block
	volatile so that its assignments will not be discarded.

Wed Feb 10 17:19:40 1999  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/include/_ansi.h: Corrected _STRICT_ANSI reference to
	be __STRICT_ANSI__ which is generated by compiler.
	* libc/include/ctype.h: Ditto.
	* libc/include/math.h: Ditto.
	* libc/include/stdio.h: Ditto.
	* libc/include/stdlib.h: Ditto.
	* libc/include/string.h: Ditto.
	* libc/include/sys/signal.h: Ditto.

1999-02-08  Nick Clifton  <nickc@cygnus.com>

	* configure.host: Add support for StrongARM target.

Fri Feb  5 11:13:14 1999  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/string/strncpy.c (strncpy): Removed redundant code
	that was copying bytes if data unaligned.

1999-02-02  Brendan Kehoe  <brendan@cygnus.com>

	* libc/stdlib/Makefile.{am,in} (CHEWOUT_FILES): Add mblen.def,
	mbstowcs.def, and wcstombs.def.

Sat Jan 30 02:36:33 1999  Christopher Faylor <cgf@cygnus.com>

	* libc/include/sys/errno.h: Add Cygwin errno.
	* libc/stdio/flags.c: Don't default to O_TEXT if no other flag
	is specified.

1999-01-29  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/arm/syscalls.c: Move C library functions into seperate
	file.

	* libc/sys/arm/libcfunc.c: New file containing C library functions
	from syscalls.c

	* libc/sys/arm/Makefile.am (lib_a_SOURCES): Add libcfuncs.c
	* libc/sys/arm/Makefile.in (lib_a_SOURCES): Regenerate.


1999-01-27  Michael Meissner  <meissner@cygnus.com>

	* libc/include/machine/setjmp.h (D30V _JBLEN/_JBTYPE): Use double
	type, and cut size in half so that the jmp_buf array is guaranteed
	to be aligned on a 64-bit boundary.

Mon Jan 25 12:05:38 1999  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/string/strings.tex: Added information about
	strcasecmp and strncasecmp.
	* libc/stdlib/stdlib.tex: Added missing information
	about mblen, mbstowcs, and wcstombs.
	* libc/string/strchr.c: Changed how mask is built to use
	shift operators so register will be used instead of storage.

1999-01-22  DJ Delorie  <dj@cygnus.com>

	* libc/include/stdlib.h: don't use dllimport if we're building
	newlib, since it's inside cygwin.dll

Fri Jan 22 14:57:18 1999  Christopher Faylor <cgf@cygnus.com>

	* libc/ctype/ctype_.c: Need to use __declspec(dllexport) for
	_ctype_ under cygwin.

Fri Jan 22 09:50:19 1999  Christopher Faylor <cgf@cygnus.com>

	* include/stdlib.h: Fix typo from previous checkin.

Thu Jan 21 22:42:21 1999  Christopher Faylor <cgf@cygnus.com>

	* include/ctype.h: Use __declspec(dllimport) method for exporting
	variable from cygwin DLL.
	* include/time.h: Ditto.
	* sys/errno.h: Ditto.
	* include/stdlib.h: Export __mb_cur_max from cygwin DLL.
	* libc/locale/locale.c: Use __declspec(dllexport) method for
	exporting variable from cygwin DLL.

Sat Jan 16 13:29:54 1999  Christopher Faylor <cgf@cygnus.com>

	* libc/stdio/setvbuf.c: Always clean up when _IONBF or possible
	access of bogus pointer will result in SIGSEGV.

1999-01-07  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/arm/setjmp.S: Use C macros to cope with the possibility
	of an underscore prefix to function names.

Fri Jan  8 19:00:07 1999  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/machine/i386/i386mach.h (__REG_PREFIX__): Create new
	define __REG_PREFIX__ instead of using __REGISTER_PREFIX__.

1998-12-31  Michael Meissner  <meissner@cygnus.com>

	* libc/machine/i386/i386mach.h (__REGISTER_PREFIX__): Only define
	to `%' if not already defined.

1998-12-30  Michael Meissner  <meissner@cygnus.com>

	* libc/stdio/tmpnam.c (_tempnam_r): Make directory and prefix
	arguments const char *, not char *.
	* libc/include/stdio.h (_tempnam_r): Ditto.

	* libc/include/sys/reent.h (struct _reent): The _sig_func type
	points to a function taking an integer, not void.

Tue Dec 29 14:35:53 1998  Christopher Faylor <cgf@cygnus.com>

	* configure.host: Add a define for Cygwin builds.
	* libc/include/ctype.h: Don't use dll imported variables in newlib.

Mon Dec 28 09:19:56 1998  Christopher Faylor <cgf@cygnus.com>

	* libc/include/ctype.h: Define _ctype_ as dll imported variable
	for use with Cygwin.
	* libc/include/sys/errno.h: Define _sys_errlist and _sys_nerr as
	dll imported variables for use with Cygwin.
	* libc/ctype/ctype_.c: Undefine _ctype_ in case it has been defined
	as a dll imported variable for Cygwin.

Sat Dec 26 00:13:53 1998  Christopher Faylor <cgf@cygnus.com>

	* libc/include/sys/unistd.h: Add proto for getpass.

Fri Dec 18 19:28:19 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/sys/cygwin/sys/dirent.h: add protos for scandir and
	alphasort.

Fri Dec 18 16:33:25 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/posix/execvp.c (execvp): call cygwin_posix_path_list_p,
	not posix_path_list_p.

1998-12-15  Nick Clifton  <nickc@cygnus.com>

	* libc/string/memchr.c: Treat 'c' argument as an unsigned byte not
	a signed int.

1998-12-13  Nick Clifton  <nickc@cygnus.com>

	* libc/include/machine/setjmp.h (_JBLEN): Set to 10.

1998-12-12  Nick Clifton  <nickc@cygnus.com>

	* libc/machine/fr30/setjmp.S: New file, supplied by Mark Slater
	<msalter@cygnus.com>
	* libc/machine/fr30/Makefile.am: Add build of setjmp.S
	* libc/machine/fr30/Makefile.in: Regenerated.

1998-12-11  Nick Clifton  <nickc@cygnus.com>

	* configure.host: Remove use of libc/sys for FR30 port.
	* libc/sys/fr30: Remove directory (replaced by libgloss).

1998-12-10  Ken Raeburn  <raeburn@cygnus.com>

	* libc/string/strcat.c (ALIGNED): Sense of result was reversed.
	* libc/string/strncat.c (ALIGNED): Ditto.

Wed Dec  9 14:37:57 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/sys/time.h: include sys/types.h

Tue Dec  8 15:53:18 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/machine/i386/memcmp.S (memcmp): Fix for unequal
	comparison found when checking word at a time.

1998-12-04  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/fr30/crt0.s (_start): Initialise frame pointer.

1998-12-03  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/fr30/syscalls.c (_times): New function stub.

Thu Dec  3 15:59:19 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* configure.host (mach_add_setjmp): Replaced mach_add_objs
	with mach_add_setjmp flag which indicates if setjmp should
	be added to the machine directory objects.
	* acinclude.m4: Removed reference to mach_add_objs.
	* aclocal.m4: Regenerated.
	* Makefile.in: Regenerated.
	* configure: Regenerated.
	* libc/aclocal.m4: Regenerated.
	* libc/Makefile.in: Regenerated.
	* libc/configure: Regenerated.
	* libc/machine/aclocal.m4: Regenerated.
	* libc/machine/Makefile.in: Regenerated.
	* libc/machine/configure: Regenerated.
	* libc/machine/i386/aclocal.m4: Regenerated.
	* libc/machine/i386/Makefile.am: Altered to selectively add
	setjmp.S to the src files list.
	* libc/machine/i386/Makefile.in: Regenerated.
	* libc/machine/i386/configure.in: Altered to test mach_add_setjmp.
	* libc/machine/i386/configure: Regenerated.

1998-12-02  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/fr30/crt0.s (_start): Fix function names.

	* libc/machine/fr30: New directory
	* libc/machine/fr30/Makefile.am: New file.
	* libc/machine/fr30/Makefile.in: New generated file.
	* libc/machine/fr30/configure.in: New file.
	* libc/machine/fr30/configure: New generated file.
	* libc/machine/fr30/aclocal.m4: New generated file.
	* libc/sys/fr30/Makefile.am: New file.
	* libc/sys/fr30/Makefile.in: New generated file.
	* libc/sys/fr30/configure.in: New file.
	* libc/sys/fr30/configure: New generated file.
	* libc/sys/fr30/syscalls.c: New file.

Tue Dec  1 16:28:56 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/sys/cygwin/sys/utmp.h: new file, moved from winsup/include.

1998-12-01  Ken Raeburn  <raeburn@cygnus.com>

	* libc/time/strftime.c (strftime): Also handle %y for years before
	1900.

Tue Dec  1 13:26:07 1998  Christopher Faylor <cgf@cygnus.com>

	* libc/string/strcasecmp.c (strcasecmp): Adhere to standard
	UNIX convention.  Perform tolower on characters before comparing
	them rather than use toupper.
	* libc/string/strncasecmp.c (strncasecmp): Ditto.

Mon Nov 30 16:24:19 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* configure.host: Added using i386 machine directory
	for all x86 cross-compiler and configuring
	which added object files to use via new "mach_add_objs" variable.
	* configure: Regenerated.
	* libc/configure: Regenerated.
	* libc/Makefile.in: Regenerated.
	* libc/aclocal.m4: Regenerated.
	* libc/ctype/Makefile.in: Regenerated.
	* libc/errno/Makefile.in: Regenerated.
	* libc/locale/Makefile.in: Regenerated.
	* libc/machine/Makefile.in: Regenerated.
	* libc/machine/aclocal.m4: Regenerated.
	* libc/machine/configure: Regenerated.
	* libc/posix/Makefile.in: Regenerated.
	* libc/reent/Makefile.in: Regenerated.
	* libc/signal/Makefile.in: Regenerated.
	* libc/stdio/Makefile.in: Regenerated.
	* libc/stdlib/Makefile.in: Regenerated.
	* libc/string/Makefile.in: Regenerated.
	* libc/string/memmove.c: Optimized code to use memcpy
	logic when performing a non-destructive copy.
	* libc/string/strncmp.c: Altered code to allow building
	optimized for size or speed.
	* libc/syscalls/Makefile.in: Regenerated.
	* libc/time/Makefile.in: Regenerated.
	* libc/unix/Makefile.in: Regenerated.
	* libc/machine/i386/Makefile.am: Added new files and reference
	to "mach_add_objs" to indicate optional object files.
	* libc/machine/i386/Makefile.in: Regenerated.
	* libc/machine/i386/aclocal.m4: Regenerated.
	* libc/machine/i386/configure: Regenerated.
	* libc/machine/i386/memchr.S: New file that implements
	function in Intel assembler.
	* libc/machine/i386/memcmp.S: ditto.
	* libc/machine/i386/memcpy.S: ditto.
	* libc/machine/i386/memmove.S: ditto.
	* libc/machine/i386/memset.S: ditto.
	* libc/machine/i386/strchr.S: ditto.
	* libc/machine/i386/strlen.S: ditto.
	* libc/machine/i386/f_atan2.S: New file that implements
	fast version of math function to be used by compiler when
	--ffast_math compile option is used.
	* libc/machine/i386/f_atan2f.S: ditto.
	* libc/machine/i386/f_exp.c: ditto.
	* libc/machine/i386/f_expf.c: ditto.
	* libc/machine/i386/f_frexp.S: ditto.
	* libc/machine/i386/f_frexpf.S: ditto.
	* libc/machine/i386/f_ldexp.S: ditto.
	* libc/machine/i386/f_ldexpf.S: ditto.
	* libc/machine/i386/f_log.S: ditto.
	* libc/machine/i386/f_logf.S: ditto.
	* libc/machine/i386/f_log10.S: ditto.
	* libc/machine/i386/f_log10f.S: ditto.
	* libc/machine/i386/f_math.h: New file.
	* libc/machine/i386/f_pow.c: ditto.
	* libc/machine/i386/f_powf.S: ditto.
	* libc/machine/i386/f_tan.S: ditto.
	* libc/machine/i386/f_tan.S: ditto.
	* libc/machine/i386/i386mach.h: New file.

Mon Nov 30 13:02:17 1998  Christopher Faylor <cgf@cygnus.com>

	patch from Mumit Khan <khan@xraylith.wisc.edu>
	* libc/include/stdio.h (tempnam): Add prototype.
	* libc/stdio/tmpnam.c (_tempnam_r): Handle NULL prefix.
	(tempnam): Adhere to prototype.

Thu Nov 26 00:21:32 1998  Christopher Faylor <cgf@cygnus.com>

	* Makefile.am: Add default for AR_FLAGS.
	* Makefile.in: Regenerate.

Tue Nov 24 18:48:56 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/time.h: move __cplusplus wrapper after includes
	* libc/include/sys/time.h: ditto.  If Cygwin, include
	sys/select.h.
	* libc/include/sys/types.h: lose "32" in comment about Cygwin.

1998-11-23  Ken Raeburn  <raeburn@cygnus.com>

	* libc/time/strftime.c (strftime): Handle %y after year 2000.

Wed Nov 18 12:22:41 1998  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/fr30/crt0.s (_start): Switch over to using int #9 as
	abnormnal end-of-crt0 marker.

Tue Nov 17 16:27:58 1998  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/fr30/crt0.s: New file/directory.
	* libc/include/machine/setjmp.h: Add FR30 target.
	* libc/include/machine/ieeefp.h: Add FR30 target.
	* configure.host: Add FR30 target.

Mon Nov  16 23:15:00 1998  Ranjith Kumaran <ranjith@cygnus.com>

	* libm/math: Files that are duplicated in common directory removed.
	* libm/math/fdlibm.h: Removed.
	* libm/math/s_cbrt.c: Removed.
	* libm/math/s_copysign.c: Removed.
	* libm/math/s_expm1.c: Removed.
	* libm/math/s_finite.c: Removed.
	* libm/math/s_ilogb.c: Removed.
	* libm/math/s_infinity.c: Removed.
	* libm/math/s_lib_ver.c: Removed.
	* libm/math/s_log1p.c: Removed.
	* libm/math/s_logb.c: Removed.
	* libm/math/s_matherr.c: Removed.
	* libm/math/s_modf.c: Removed.
	* libm/math/s_nan.c: Removed.
	* libm/math/s_nextafter.c: Removed.
	* libm/math/s_rint.c: Removed.
	* libm/math/s_scalbn.c: Removed.
	* libm/math/sf_cbrt.c: Removed.
	* libm/math/sf_copysign.c: Removed.
	* libm/math/sf_expm1.c: Removed.
	* libm/math/sf_finite.c: Removed.
	* libm/math/sf_ilogb.c: Removed.
	* libm/math/sf_infinity.c: Removed.
	* libm/math/sf_log1p.c: Removed.
	* libm/math/sf_logb.c: Removed.
	* libm/math/sf_modf.c: Removed.
	* libm/math/sf_nan.c: Removed.
	* libm/math/sf_nextafter.c: Removed.
	* libm/math/sf_rint.c: Removed.
	* libm/math/sf_scalbn.c: Removed.
	* libm/math/Makefile.am: Removed references to deleted files (above).
	* libm/math/Makefile.in: Regenerated.
	* libm/Makefile.am: Added common directory to math.
	* libm/Makefile.in: Regenerated.

Mon Nov  2 23:12:00 1998  Ranjith Kumaran <ranjith@cygnus.com>

	* libm/mathfp: Add non-ANSI functions.
	* libm/mathfp/e_acosh.c acosh(): New file.
	* libm/mathfp/e_atanh.c atanh(): New file.
	* libm/mathfp/e_hypot.c hypot(): New file.
	* libm/mathfp/e_j0.c j0(): New file.
	* libm/mathfp/e_j1.c j1(): New file.
	* libm/mathfp/e_remainder.c remainder(): New file.
	* libm/mathfp/e_scalb.c scalb(): New file.
	* libm/mathfp/ef_acosh.c acoshf(): New file.
	* libm/mathfp/ef_atanh.c atanhf(): New file.
	* libm/mathfp/ef_hypot.c hypotf(): New file.
	* libm/mathfp/ef_j0.c j0f(): New file.
	* libm/mathfp/ef_j1.c j1f(): New file.
	* libm/mathfp/ef_remainder.c remainderf(): New file.
	* libm/mathfp/ef_scalb.c scalbf(): New file.
	* libm/mathfp/er_gamma.c gamma_r: New file.
	* libm/mathfp/er_lgamma.c lgamma_r(): New file.
	* libm/mathfp/erf_gamma.c gamma_rf(): New file.
	* libm/mathfp/erf_lgamma.c lgamma_rf(): New file.
	* libm/mathfp/w_cabs.c cabs(): New file.
	* libm/mathfp/w_drem.c drem(): New file.
	* libm/mathfp/w_jn.c jn(): New file.
	* libm/mathfp/wf_cabs.c cabsf(): New file.
	* libm/mathfp/wf_drem.c dremf(): New file.
	* libm/mathfp/wf_jn.c jnf(): New file.

Mon Nov  2 16:43:18 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/sys/cygwin32: remove directory and contents
	* libc/sys/cygwin: and add back, losing the "32".
	* configure.host: check for cygwin* instead of cygwin32.
	* acinclude.m4: ditto.
	* aclocal.m4: regenerate with aclocal
	* configure: regenerate with autoconf

Tue Oct 20 17:28:28 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/stdio/tmpnam.c (_tempnam_r): not enough memory allocated
	for length

Tue Oct 20 18:49:05 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/include/sys/reent.h (struct _reent): Added variables _rand_next, _strtok_last,
	_asctime_buf, _localtime_buf and _gamma_signgam to struct reent
	to make rand/srand, strtok, asctime, localtime, w_gamma,
	w_lgamma, wf_gamma, and wf_lgamma reentrant.  Included
	time.h to bring in struct tm definition.
	* libc/stdlib/rand.c (rand, srand): Don't emit functions 'rand' and 'srand' if
	'_REENT_ONLY' is set. Used variable '_rand_next' from struct reent.
	* libc/stdlib/strtok.c (strtok): Used variable '_strtok_last' from struct reent
	instead of static variable.
	* libc/stdlib/asctime.c (asctime): Used variable '_asctime_buf' from
	struct reent instead of static variable.
	* libc/stdlib/lcltime.c (localtime): Used variable '_localtime_buf' from
	struct reent instead of static variable.
	* libm/math/Makefile.am: Removed s_signgam.o.
	* libm/math/Makefile.in: Regenerated.
	* libm/math/w_gamma.c (gamma): Used variable '_gamma_signgam' from
	struct reent instead of global variable 'signgam'.
	* libm/math/w_lgamma.c (lgamma): Likewise.
	* libm/math/wf_gamma.c (gammaf): Likewise.
	* libm/math/wf_lgamma.c (lgammaf): Likewise.
	* libm/math/s_signgam.c: Removed.
	* libc/include/unctrl.h: Defined arrays __unctrl and __unctrllen
	to be const.
	* libc/misc/unctrl.c: Defined arrays __unctrl and __unctrllen
	to be const.
	* libc/reent/Makefile.am: Added dependence for impure.o on impure.c and
	libc/include/reent.h.
	* libc/reent/Makefile.in: Regenerated.
	* libc/stdio/vfprintf.c (_vfprintf_r): Defined arrays 'blanks' and 'zeroes'
	to be const.
	* libc/stdlib/mbtowc_r.c (_mbtowc_r): Defined arrays 'JIS_state_table' and
	'JIS_action_table' to be const.
	* libm/math/s_lib_ver.c: define variable _LIB_VERSION to be const.

Mon Oct 12 00:26:33 1998  Christopher Faylor <cgf@cygnus.com>

	* acinclude.m4:  $with_target_subdir should default to '.'
	or confusion results when configuring in same directory as sources.
	* Regenerate all aclocal.m4 and configure files.

Fri Oct  9 16:27:36 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/stdlib/mallocr.c: Added 16 byte alignment support which
	can be set by defining MALLOC_ALIGNMENT=16.  Also added support
	for platforms where sizeof(size_t) < sizeof(long) via
	SIZE_T_SMALLER_THAN_LONG macro.

Wed Oct  7 14:02:40 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/include/time.h (CLOCKS_PER_SEC): Change CLOCKS_PER_SEC
	to refer to _CLOCKS_PER_SEC_ and added including <machine/time.h>
	which sets _CLOCKS_PER_SEC_ for selected machines.
	* libc/include/machine/time.h: New file.

Tue Oct  6 16:08:05 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/syscalls/sysexecve.c: New file.
	* libc/syscalls/sysgettod.c: New file.
	* libc/syscalls/systimes.c: New file.
	* libc/syscalls/Makefile.am: Added new objects.
	* libc/syscalls/Makefile.in: Regenerated.
	* libc/include/_syslist.h (_execve): Moved define in file.
	* libc/include/reent.h:  Added _execve_r declaration.
	* libc/Makefile.in: Regenerated.
	* libc/ctype/Makefile.in: Regenerated.
	* libc/errno/Makefile.in: Regenerated.
	* libc/locale/Makefile.in: Regenerated.
	* libc/machine/Makefile.in: Regenerated.
	* libc/misc/Makefile.in: Regenerated.
	* libc/posix/Makefile.in: Regenerated.
	* libc/reent/Makefile.in: Regenerated.
	* libc/reent/execr.c (_execve_r): Added _execve_r function.
	* libc/signal/Makefile.in: Regenerated.
	* libc/stdio/Makefile.in: Regenerated.
	* libc/time/Makefile.in: Regenerated.
	* libc/unix/Makefile.in: Regenerated.
	* libm/mathfp/Makefile.in: Regenerated.

Tue Oct  6 14:14:05 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/string/Makefile.in: Regenerated.
	* libc/string/memchr.c (memchr): Moved code to reduce object size.
	* libc/string/memcpy.c (memcpy): Ditto.
	* libc/string/memcmp.c (memcmp): Ditto.
	* libc/string/memset.c (memset): Ditto.
	* libc/string/strchr.c (strchr): Ditto.
	* libc/string/strcmp.c (strcmp): Ditto.
	* libc/string/strcpy.c (strcpy): Ditto.
	* libc/string/strlen.c (strlen): Ditto.

Tue Oct  6 13:58:05 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libm/acinclude.m4: Removed since newlib/acinclude.m4 can be used
	to generate aclocal.m4.
	* libm/Makefile.in: Regenerated.
	* libm/aclocal.m4: Regenerated.
	* libm/configure: Regenerated.
	* libm/math/Makefile.in: Regenerated.
	* libm/mathfp/Makefile.in: Regenerated.

1998-09-25  Mark Salter  <msalter@cygnus.com>

	* libc/include/machine/setjmp.h: Fixed test for mn10300 and mn10200
	by adding leading and trailing underscores to symbol names.

Tue Sep 22 15:33:41 1998  Christopher Faylor <cgf@cygnus.com>

	* Makefile.in: Add default for AR_FLAGS.

Tue Sep 22 15:02:49 1998  Christopher Faylor <cgf@cygnus.com>

	patch from ian@airs.com (Ian Taylor):
	* acinclude.m4: Run AC_CANONICAL_BUILD explicitly before
	NEWLIB_CONFIGURE so AC_CANONICAL_HOST will be run before it
	is needed for detecting the build machine.  Required for
	cygwin native builds.

	* Regenerate all aclocal.m4 and configure files.

Mon Sep 21 14:44:16 1998  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/arm/crt0.S: Prepend a period to all local labels that
	used to start with LC.

Thu Sep 17 18:18:11 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* libc/machine/sh/setjmp.S (setjmp): Handle __SH4* like __SH3E__ .
	(longjmp): Likewise.

Thu Sep 17 16:25:33 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* libc/machine/sh/memset.S (memset): Move copy from r4 to r4 before
	the test for small number of bytes.

Thu Sep 10 11:40:00 1998  Ranjith Kumaran <ranjith@cygnus.com>

	* Makefile.am: Add --enable-newlib-hw-fp check.  This builds the new
	math library that uses floating point algorithms instead of the old
	libm.
	* Makefile.in: Regenerate with automake version 1.3b.
	* configure: Rebuild.
	* libm/Makefile.in: Regenerate with automake version 1.3b.
	* libm/aclocal.m4: Regenerate.
	* libm/configure: Rebuild.
	* libm/configure.in: Add newlib_hw_fp definition and mathfp directory.
	* libm/acinclude.m4: Define macros for configure.in.
	* libm/config.h.in: Generate.
	* libm/mathfp/Makefile.am: New file.
	* libm/mathfp/Makefile.in: Generate.
	* libm/mathfp/s_acos.c (acos): New file.
	* libm/mathfp/s_asin.c (asin): New file.
	* libm/mathfp/s_asine.c (asine): New file.
	* libm/mathfp/s_atan.c (atan): New file.
	* libm/mathfp/s_atan2.c (atan2): New file.
	* libm/mathfp/s_atangent.c (atangent): New file.
	* libm/mathfp/s_ceil.c (ceil): New file.
	* libm/mathfp/s_copysign.c (copysign): New file.
	* libm/mathfp/s_cos.c (cos): New file.
	* libm/mathfp/s_cosh.c (cosh): New file.
	* libm/mathfp/s_exp.c (exp): New file.
	* libm/mathfp/s_fabs.c (fabs): New file.
	* libm/mathfp/s_finite.c (finite): New file.
	* libm/mathfp/s_floor.c (floor): New file.
	* libm/mathfp/s_fmod.c (fmod): New file.
	* libm/mathfp/s_frexp.c (frexp): New file.
	* libm/mathfp/s_infconst.c: New file.
	* libm/mathfp/s_isinf (isinf).c: New file.
	* libm/mathfp/s_isnan.c (isnan): New file.
	* libm/mathfp/s_ispos.c (ispos): New file.
	* libm/mathfp/s_ldexp.c (ldexp): New file.
	* libm/mathfp/s_log.c (log): New file.
	* libm/mathfp/s_log10.c (log10): New file.
	* libm/mathfp/s_logarithm.c (logarithm): New file.
	* libm/mathfp/s_mathcnst.c: New file.
	* libm/mathfp/s_modf (modf).c: New file.
	* libm/mathfp/s_numtest.c (numtest): New file.
	* libm/mathfp/s_pow.c (pow): New file.
	* libm/mathfp/s_scalbn.c (scalbn): New file.
	* libm/mathfp/s_sin (sin).c: New file.
	* libm/mathfp/s_sine.c (sine): New file.
	* libm/mathfp/s_sineh.c (sineh): New file.
	* libm/mathfp/s_sinf.c (sinf): New file.
	* libm/mathfp/s_sinh.c (sinh): New file.
	* libm/mathfp/s_sqrt.c (sqrt): New file.
	* libm/mathfp/s_tan.c (tan): New file.
	* libm/mathfp/s_tanh.c (tanh): New file.
	* libm/mathfp/sf_acos.c (acosf): New file.
	* libm/mathfp/sf_asin.c (asinf): New file.
	* libm/mathfp/sf_asine.c (asinef): New file.
	* libm/mathfp/sf_atan.c (atanf): New file.
	* libm/mathfp/sf_atan2.c (atan2f): New file.
	* libm/mathfp/sf_atangent.c (atangent): New file.
	* libm/mathfp/sf_ceil.c (ceilf): New file.
	* libm/mathfp/sf_copysign.c (copysignf): New file.
	* libm/mathfp/sf_cos.c (cosf): New file.
	* libm/mathfp/sf_cosh.c (coshf): New file.
	* libm/mathfp/sf_exp.c (expf): New file.
	* libm/mathfp/sf_fabs.c (fabsf): New file.
	* libm/mathfp/sf_finite.c (finitef): New file.
	* libm/mathfp/sf_floor.c (floorf): New file.
	* libm/mathfp/sf_fmod.c (fmodf): New file.
	* libm/mathfp/sf_frexp.c (frexpf): New file.
	* libm/mathfp/sf_isinf.c (isinff): New file.
	* libm/mathfp/sf_isnan.c (isnanf): New file.
	* libm/mathfp/sf_ispos.c (isposf): New file.
	* libm/mathfp/sf_ldexp.c (ldexpf): New file.
	* libm/mathfp/sf_log.c (logf): New file.
	* libm/mathfp/sf_log10.c (log10f): New file.
	* libm/mathfp/sf_logarithm.c (logarithmf): New file.
	* libm/mathfp/sf_modf.c (modff): New file.
	* libm/mathfp/sf_numtest.c (numtestf): New file.
	* libm/mathfp/sf_pow.c (powf): New file.
	* libm/mathfp/sf_scalbn.c (scalbnf): New file.
	* libm/mathfp/sf_sin.c (sinf): New file.
	* libm/mathfp/sf_sine.c (sinef): New file.
	* libm/mathfp/sf_sineh.c (sinehf): New file.
	* libm/mathfp/sf_sinh.c (sinhf): New file.
	* libm/mathfp/sf_sqrt.c (sqrtf): New file.
	* libm/mathfp/sf_tan.c (tanf): New file.
	* libm/mathfp/sf_tanh.c (tanhf): New file.
	* libm/mathfp/zmath.h: New file.

Wed Sep  2 02:49:03 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* libc/machine/sh/strcmp.S (L_char_loop): Re-load r0 at loop
	exit if it has been overwritten by pre-fetching in delay slot.

1998-09-01  Michael Meissner  <meissner@cygnus.com>

	* Makefile.am (tooldir): Add in host_alias, so that multilib
	libraries are installed in the directory the compiler looks in.
	* Makefile.in: Regenerate.

	* libc/stdlib/Makefile.in: Regenerate with automake version 1.3b.

Mon Aug 31 11:39:31 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/machine/mn10300/memcpy.S (_memcpy): Move alignment test
	ahead of test for number of bytes being moved.

Thu Aug 27 14:07:53 1998  Christopher Faylor <cgf@cygnus.com>

	* libc/include/sys/unistd.h: Nothing special needed for
	_exit under cygwin.

Wed Aug 26 15:05:21 1998  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/arm/syscalls.c (_sbrk): Rename '_end' to 'end' to
	conform to user label naming conventions.

Mon Aug 24 14:46:19 1998  Geoffrey Noer <noer@cygnus.com>

	* libc/sys/cygwin32/sys/utime.h: variable names in
	protos should start with two leading underscores
	* libc/include/string.h: ditto
	* libc/include/sys/signal.h: ditto
	* libc/include/sys/stat.h: ditto
	* libc/include/sys/time.h: ditto
	* libc/include/sys/unistd.h: ditto
	* libc/include/ctype.h: ditto
	* libc/include/stdlib.h: ditto
	* libc/include/sys/reent.h: struct _atexit function ptr takes a
	void, same with _sig_func.

Fri Aug 21 14:44:14 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/stdlib/mbtowc_r.c (_mbtowc_r): Added preprocessor checks
	for MB_CAPABLE to reduce code size when newlib is not configured
	with --enable-newlib-mb.
	* libc/stdlib/Makefile.am: Specified -fshort-enums when building
	mbtowc_r.o to minimize size.
	* libc/stdlib/Makefile.in: Rebuild.

Wed Aug 19 16:20:13 1998  Jim Wilson  <wilson@cygnus.com>

	* libc/sys/sparc64/Makefile.am (.S_r.o, .c_r.o): Change -DREENTRANT
	to -DREENT.
	* libc/sys/sparc64/Makefile.in: Rebuild.

Tue Aug 18 22:38:29 1998  Ian Lance Taylor  <ian@cygnus.com>

	* Makefile.am (MAKEOVERRIDES): Define.
	* Makefile.in: Rebuild.

Tue Aug 18 12:38:47 1998  Jim Wilson  <wilson@cygnus.com>

	* libc/sys/sparc64/sys/stat.h (stat): Add const.

Mon Aug 17 22:27:06 1998  Ian Lance Taylor  <ian@cygnus.com>

	* acinclude.m4 (NEWLIB_CONFIGURE): Use top_builddir in
	newlib_cflags when looking for targ-include.
	* */aclocal.m4, */configure: Rebuild.

Fri Jul 31 10:57:42 1998  Catherine Moore  <clm@cygnus.com>

	* libc/sys/arm/syscalls.c (_sbrk): Change "__end__"
	to "_end".

Wed Jul 29 00:02:01 1998  Mark Alexander  <marka@cygnus.com>

	* libc/include/sys/config.h: Define __IEEE_LITTLE_ENDIAN
	on SPARCs with little-endian data.
	* libc/include/machine/ieeefp.h: Ditto.

Wed Jul 22 18:00:10 1998  Ian Lance Taylor  <ian@cygnus.com>

	* acinclude.m4: Handle a relative srcdir correctly when setting
	newlib_cflags.
	* */aclocal.m4, */configure: Rebuild.

Wed Jul 22 17:11:33 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libm/math/wrf_lgamma.c (lgammaf_r): Initialize exc.err to 0 and
	also set exc.arg1, exc.arg2 appropriately in case matherr is supplied.
	* libm/math/wrf_gamma.c (gammaf_r): ditto
	* libm/math/wr_lgamma.c (lgamma_r): ditto
	* libm/math/wr_gamma.c (gamma_r): ditto
	* libm/math/wf_sqrt.c (sqrtf): ditto
	* libm/math/wf_sinh.c (sinhf): ditto
	* libm/math/wf_scalb.c (scalbf): ditto
	* libm/math/wf_remainder.c (remainderf): ditto
	* libm/math/wf_pow.c (powf): ditto
	* libm/math/wf_log10.c (log10f): ditto
	* libm/math/wf_log.c (logf): ditto
	* libm/math/wf_lgamma.c (lgammaf): ditto
	* libm/math/wf_jn.c (jnf, ynf): ditto
	* libm/math/wf_j1.c (j1f, y1f): ditto
	* libm/math/wf_j0.c (j0f, y0f): ditto
	* libm/math/wf_hypot.c (hypotf): ditto
	* libm/math/wf_gamma.c (gammaf): ditto
	* libm/math/wf_fmod.c (fmodf): ditto
	* libm/math/wf_exp.c (expf): ditto
	* libm/math/wf_cosh.c (coshf): ditto
	* libm/math/wf_atanh.c (atanhf): ditto
	* libm/math/wf_atan2f.c (atan2f): ditto
	* libm/math/wf_asin.c (asinf): ditto
	* libm/math/wf_acosh.c (acoshf): ditto
	* libm/math/wf_acos.c (acosf): ditto
	* libm/math/w_sqrt.c (sqrt): ditto
	* libm/math/w_sinh.c (sinh): ditto
	* libm/math/w_scalb.c (scalb): ditto
	* libm/math/w_remainder.c (remainder): ditto
	* libm/math/w_pow.c (pow): ditto
	* libm/math/w_log10.c (log10): ditto
	* libm/math/w_log.c (log): ditto
	* libm/math/w_lgamma.c (lgamma): ditto
	* libm/math/w_jn.c (jn, yn): ditto
	* libm/math/w_j1.c (j1, y1): ditto
	* libm/math/w_j0.c (j0, y0): ditto
	* libm/math/w_hypot.c (hypot): ditto
	* libm/math/w_gamma.c (gamma): ditto
	* libm/math/w_fmod.c (fmod): ditto
	* libm/math/w_exp.c (exp): ditto
	* libm/math/w_cosh.c (cosh): ditto
	* libm/math/w_atanh.c (atanh): ditto
	* libm/math/w_atan2f.c (atan2): ditto
	* libm/math/w_asin.c (asin): ditto
	* libm/math/w_acosh.c (acosh): ditto
	* libm/math/w_acos.c (acos): ditto

Tue Jul 21 12:34:54 1998  Ian Lance Taylor  <ian@cygnus.com>

	* libm/math/Makefile.am (src): Add w_cabs.c and w_drem.c.
	(fsrc): Add wf_cabs.c and wf_drem.c.
	* libm/math/Makefile.in: Rebuild.

	* Makefile.am (AM_MAKEFLAGS): Add CFLAGS_FOR_BUILD.  Remove some
	unused directory variables.  Remove duplicate CFLAGS.
	* Makefile.in: Rebuild.

	* doc/Makefile.am ($(MKDOC)): Don't use $(CFLAGS) when building
	with $(CC_FOR_BUILD).
	(makedoc.o): Likewise.
	* doc/Makefile.in: Rebuild.

	* libc/sys/cygwin32/Makefile.am (EXTRA_LIBRARIES): Define, to
	force a definition of COMPILE.
	(libfoo_a_SOURCES): Define.
	* libc/sys/cygwin32/Makefile.in: Rebuild.
	* libc/sys/tic80/Makefile.am (EXTRA_LIBRARIES): Define, to
	force a definition of COMPILE.
	(libfoo_a_SOURCES): Define.
	* libc/sys/tic80/Makefile.in: Rebuild.

Mon Jul 20 20:49:24 1998  Christopher Faylor <cgf@cygnus.com>

	* libc/include/sys/fcntl.h: Add O_NOINHERIT, Win32-specific
	flag.

Fri Jul 17 16:13:16 1998  Ian Lance Taylor  <ian@cygnus.com>

	* Build using autoconf and automake.  Added many Makefile.am and
	configure.in files, plus generated files.  Old configure.in files
	and all old Makefile.in files completely replaced.  Removed
	host/any.  Added acinclude.m4 and configure.host.

Sat Jul 11 18:14:49 1998  Felix Lee  <flee@cygnus.com>

	* libc/stdio/vfprintf.c: enable long long support, sometimes.
	* configure.in (*-*-cygwin32): add -DWANT_PRINTF_LONG_LONG.

Tue Jul  7 01:51:55 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* libc/machine/sh/strcmp.S, libc/machine/sh/strcpy.S: New files.
	* libc/machine/sh/Makefile.in: Add rules for new files.

Tue Jul  7 01:40:55 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* libc/machine/sh/asm.h (SL, DELAYED_BRANCHES): Define.
	* libc/machine/sh/memset.S (memset): Remove uses of dt; shorten code.
	* libc/machine/sh/memcpy.S (SL, DELAYED_BRANCHES): Don't define.

Thu Jul  2 10:33:16 1998  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/arm/syscalls.c (_exit): Add comment, noting that exit
	code is ignored.

Wed Jun 24 13:56:54 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/stdio/tmpnam.c (_tmpnam_r): Changed routine to use
	internal static buffer when s is NULL, as prescribed by ANSI.

1998-06-22  Vladimir N. Makarov  <vmakarov@cygnus.com>

	* libc/sys/h8300hms/Makefile.in (OFILES): malloc.o has been
	removed.
	* libc/sys/h8300hms/malloc.c: has been removed.  Now malloc.c from
	libc/stdlib will be used for h8300hms.

Thu Jun 18 16:56:05 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/machine/mn10300/strlen.S (_strlen): New optimized assembler
	version that can be built either for speed or size.
	* libc/machine/mn10300/memset.S (_memset): ditto
	* libc/machine/mn10300/memchr.S (_memchr): ditto
	* libc/machine/mn10300/memcpy.S (_memcpy): ditto
	* libc/machine/mn10300/memcmp.S (_memcmp): ditto
	* libc/machine/mn10300/strchr.S (_strchr): ditto
	* libc/machine/mn10300/strcmp.S (_strcmp): ditto
	* libc/machine/mn10300/strcpy.S (_strcpy): ditto
	* libc/machine/mn10300/Makefile.in: Added entries for
	memchr.o, memcmp.o, memcpy.o, memset.o, strchr.o,
	strcmp.o, strcpy.o, and strlen.o.

Wed Jun 17 12:50:26 1998  Mark Alexander  <marka@cygnus.com>

	* configure.in: Don't use libc/sys/sysmec for MN10200; it's
	been replaced with libgloss/mn10200.

Fri Jun 12 14:34:39 1998  Michael Meissner  <meissner@cygnus.com>

	* libc/string/strchr.c (strchr): Make s a constant pointer to
	avoid warning.

Tue Jun  9 16:29:30 1998  Jason Molenda  (crash@bugshack.cygnus.com)

	* configure.in (target == arm* or thumb*): Define ARM_RDI_MONITOR
	instead of ARM_RDP_MONITOR (sys/libc/arm/crt0.S to assume Angel
	board SWIs instead of Demon board SWIs).

Thu Jun  4 12:16:46 1998  Michael Meissner  <meissner@cygnus.com>

	* libc/string/strncat.c (strncat):  Make -Os act the same as
	PREFER_SIZE_OVER_SPEED being defined.

Wed Jun  3 17:52:33 1998  Michael Meissner  <meissner@cygnus.com>

	* libc/string/memchr.c (memchr): Make -Os act the same as
	PREFER_SIZE_OVER_SPEED being defined.
	* libc/string/memcmp.c (memcmp): Ditto.
	* libc/string/memcpy.c (memcpy): Ditto.
	* libc/string/memset.c (memset): Ditto.
	* libc/string/strcat.c (strcat): Ditto.
	* libc/string/strchr.c (strchr): Ditto.
	* libc/string/strcmp.c (strcmp): Ditto.
	* libc/string/strcpy.c (strcpy): Ditto.
	* libc/string/strlen.c (strlen): Ditto.
	* libc/string/strncat.c (strncat): Ditto.
	* libc/string/strncmp.c (strncmp): Ditto.
	* libc/string/strncpy.c (strncpy): Ditto.

Mon Jun  1 15:25:07 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/sys/itimer.h: remove
	* libc/include/sys/time.h: itimer stuff should be here

Mon Jun  1 16:31:29 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/stdio/vfprintf.c (cvt): Changed code to look at sign
	bit instead of comparing to 0 so -0.0 can be printed correctly.

Sat May 30 09:33:51 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* libc/stdlib/mprec.c (b2d): Inilialize d in non-VAX case too.

Fri May 29 22:25:10 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/sys/unistd.h: fix sync() proto
	* libc/include/sys/fcntl.h: remove _close which is already
	defined in unistd.h.
	* libc/include/sys/time.h: add getitimer proto

Fri May 29 16:10:28 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/string/strchr.c: convert arg to unsigned char
	* libc/include/stdlib.h: add protos for random, srandom
	* libc/include/sys/stat.h: add lstat proto
	* libc/include/sys/time.h: add setitimer proto
	* libc/include/sys/unistd.h: add readlink, symlink protos
	* libc/include/process.h: instead of including windows.h and using
	HANDLEs in sexec protos, just use void *s.  Need to include
	sys/types.h.

Fri May 29 03:04:29 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/sys/fcntl.h: add _close proto for Cygwin32

Thu May 28 16:34:21 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/process.h: add secure exec protos

Wed May 27 13:54:51 1998  Jeffrey A Law  (law@cygnus.com)

	* libc/stdlib/dtoa.c (_dtoa_r): Use "double_union" for variables
	which are accessed as both doubles and integers.
	* libc/stdlib/mprec.c (ulp, b2d, ratio): Likewise.
	* libc/stdlib/strtod.c (_strtod_r): Likewise.
	* libc/stdlib/mprec.h: Add "union double_union" and change
	word0/word1 macros to use it.

Tue May 26 18:04:21 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/sys/signal.h: add __cplusplus wrapper

Tue May 26 15:10:22 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/sys/utime.h: new generic file that gets replaced by
	libc/sys/SYSDIR/sys/utime.h on systems that support the utime
	function.
	* sys/cygwin32/sys/utime.h: use _EXFUN in utime proto
	* libc/include/time.h: remove duplicate utime proto
	* libc/include/utime.h: add comment

Sun May 24 23:56:20 1998  Christopher Faylor <cgf@cygnus.com>

	* libc/include/sys/time.h: Add missing include to
	allow use of _EXFUN.  Remove times function that is
	already defined in times.h.

Sun May 24 01:32:14 1998  Christopher Faylor <cgf@cygnus.com>

	* libc/include/time.h: Fix typo in tzset.

Fri May 22 17:00:48 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/sys/time.h: add missing Cygwin32 function protos
	* libc/include/sys/unistd.h: ditto
	* libc/include/time.h: ditto

Wed May 20 20:35:11 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/sys/cygwin32/sys/param.h: add protected NULL def, remove
	FIXME.
	* libc/include/sys/types.h: add a new __MS_types__ section
	to define vm_offset_t, vm_size_t, int32_t et al, register_t,
	__BIT_TYPES_DEFINED__.

Wed May 20 18:49:21 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/sys/cygwin32/sys/param.h: move here from winsup/include/sys
	since it overrides the one in libc/include/sys.  Also, start
	including types.h.

Wed May 20 14:45:40 1998  Geoffrey Noer  <noer@cygnus.com>

	* libm/math/Makefile.in: add s_signgam.o to obj list

Tue May 19 11:57:11 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/include/sys/reent.h (_REENT_INIT): Initialize current locale to "C".

Mon May 18 22:36:12 1998  Christopher Faylor <cgf@cygnus.com>

	* libc/include/sys/signal.h: cygwin32 exports sig{empty,add}set,
	so don't use defines.

Mon May 18 19:01:02 1998  Michael Meissner  <meissner@cygnus.com>

	* libc/sys/d10v/crt0.S: Use correct stab for 16-bit ints.

Sun May 17 18:40:32 1998  Frank Ch. Eigler  <fche@cygnus.com>

	* libc/stdlib/mbtowc_r.c (_mbtowc_r): Accept a NULL
	_current_locale as default locale.

Sat May 16 21:59:59 1998  Bob Manson  <manson@charmed.cygnus.com>

	* libc/stdlib/mallocr.c (mALLOc): Add explicit tests for
	insufficient space in a chunk.

Tue May 12 14:41:01 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* configure.in (links): Added check for --enable-newlib-mb configure
	option which defines the MB_CAPABLE macro.
	* libc/locale/locale.c (_setlocale_r): Added support for setting
	LC_CTYPE to "C-JIS", "C-SJIS" or "C-EUCJP", when MB_CAPABLE is
	defined.
	* libc/stdlib/mbtowc_r.c (_mbtowc_r): New function _mbtowc_r that
	implements mbtowc() with multibyte support for JIS, SJIS, and EUC-JP.
	* libc/stdlib/wctomb_r.c (_wctomb_r): New function _wctomb_r that
	implements wctomb() with multibyte support for JIS, SJIS, and EUC-JP.
	* libc/stdlib/mbstowcs_r.c (_mbstowcs_r): New function _mbstowcs_r that
	implements mbstowcs() with multibyte support for JIS, SJIS, and EUC-JP.
	* libc/stdlib/wcstombs_r.c (_wcstombs_r): New function _wcstomb_r that implements
	wcstombs() with multibyte support for JIS, SJIS, and EUC-JP.
	* libc/stdlib/Makefile.in: Added new multibyte
	routines: _mbtowc_r(), _wctomb_r(), _mbstowcs_r(), and _wcstombs_r().
	* libc/include/stdlib.h: Added declarations of _mbtowc_r(), _wctomb_r(),
	_mbstowcs_r(), and _wcstombs_r().
	* libc/stdlib/mbctype.h: New internal header file that contains macros to test
	for JIS, SJIS, and EUC-JP characters.
	* libc/stdlib/mblen.c (mblen): Added code to call _mbtowc_r() if
	MB_CAPABLE defined.
	* libc/stdlib/mbtowc.c (mbtowc): Added code to call _mbtowc_r() if
	MB_CAPABLE defined.
	* libc/stdlib/wctomb.c (wctomb): Added code to call _wctomb_r() if
	MB_CAPABLE defined.
	* libc/stdlib/mbstowcs.c (mbstowcs): Added code to call _mbstowcs_r()
	if MB_CAPABLE defined.
	* libc/stdlib/wcstombs.c (wcstombs): Added code to call _wcstombs_r()
	if MB_CAPABLE defined.
	* libc/stdio/vfscanf.c (__svfscanf): Added multibyte tolerance
	to the format string processing when MB_CAPABLE.
	* libc/stdio/vfprintf.c (_VFPRINTF_R): Changed mbtowc() call to
	call _mbtowc_r().

Tue May  5 16:07:23 1998  Nick Clifton  <nickc@cygnus.com>

	The following modifications are courtesy of Anthony Thompson,
	athompson@cambridge.arm.com:
	* libc/sys/arm/syscalls.c: Initialise and track stdin/out/err for
	boith RDI and RDP monitors.
	* libc/sys/arm/crt0.S: Call initialise_monitor_handles() for both
	RDI and RDP monitors.

Wed Apr 29 15:22:15 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* configure.in (links): Added -DHAVE_GETTIMEOFDAY for arm and thumb.
	* libc/sys/arm/syscalls.c (_gettimeofday _times): Added functions.
	(_swiopen): Fixed open flags to treat write with append as just append.
	(_swilseek): Fixed lseek support to properly handle offsets from SEEK_END.
	* libc/sys/arm/sys/param.h: New file to override param.h for ARM.

Fri Apr 24 18:00:09 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* libc/machine/sh/memcpy.S (L_odddst, big endian version):
	When needing to transfer an initial 2-byte-word, store as
	two single bytes.

Wed Apr 22 17:56:03 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* libc/sys/sh/crt0.S (start): Handle __SH4_SINGLE_ONLY__ like
	__SH3E__ .
	* libc/machine/sh/memcpy.S (DELAYED_BRANCHES, SL): Likewise.
	* libc/include/machine/ieeefp.h (_DOUBLE_IS_32BITS): Likewise.

Wed Apr 22 12:28:03 1998  Michael Meissner  <meissner@cygnus.com>

	* configure.in (target_cflags): If --enable-target-optspace, use
	-Os to compile newlib rather than -O2.  Default to using -Os for
	d10v, d30v and m32r if --{enable,disable}-target-optspace is not
	used.

Tue Apr 21 23:13:34 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/machine/setjmp.h: change sigsetjmp and
	siglongjmp definitions to use an array instead of a struct
	for __CYGWIN32__

Tue Apr 14 11:47:47 1998  Doug Evans  <devans@canuck.cygnus.com>

	* libc/reent/impure.c (__ATTRIBUTE_IMPURE_DATA__): Fix spelling.

Mon Apr  6 15:05:08 1998  Jonathan Larmour  <jlarmour@cygnus.co.uk>

	* libc/string/strxfrm.c: fix to get correct return value

Wed Apr  1 16:09:05 1998  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/arm/crt0.S: Set top of RAM to be 0x800000 for PE
	builds.  Make mode change labels global so that they will be seen
	by the debugger.

Wed Mar 18 09:45:10 1998  Nick Clifton  <nickc@cygnus.com>

	* configure.in (links): Do not use ARM debiugging protocols for PE
	builds.

	* libc/sys/arm/syscalls.c (_sbrk): Add "_sbrk: " to error
	message.

Fri Mar 13 11:24:34 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/stdio/findfp.c (__sinit): Made stdout default to
	line buffered mode as defined by ANSI.

Tue Mar 10 11:41:26 1997  Bob Manson  <manson@charmed.cygnus.com>

	* libc/include/sys/itimer.h: New file.

	* libc/signal/signal.c (__sigtramp_r,__sigtramp): New functions.

Mon Mar  9 14:19:26 1998  J"orn Rennecke <amylaar@cygnus.co.uk>

	* libc/machine/sh/memcpy.S: (_memcpy): Fix for execute/memcpy-1.c
	failure.

Fri Feb 27 13:56:10 1998  Michael Meissner  <meissner@cygnus.com>

	* libc/machine/d30v/setjmp.S (longjmp): Fix order of parallel
	insns.

Wed Feb 25 09:29:54 1998  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/arm/syscalls.c (_open): Add varags to conform to prototype.

Tue Feb 24 18:00:13 1998  Michael Meissner  <meissner@cygnus.com>

	* libc/machine/d30v/{setjmp.S,Makefile.in}: New files for D30V
	support.

	* libc/include/machine/setjmp.h: Add D30V support.

	* configure.in (d30v-*): Add d30v machine directory.

Mon Feb 23 09:32:58 1998  Mark Alexander  <marka@cygnus.com>

	* configure.in: Don't use libc/sys/sysmec for MN10300; it's
	been replaced with libgloss/mn10300.

Sat Feb 21 17:44:43 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/stdlib/mallocr.c: remove __malloc_copy routine now that
	it is no longer needed.

Thu Feb 19 16:15:10 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/sys/signal.h: add sigpause proto for Cygwin32

Wed Feb 18 23:51:08 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/stdio/fdopen.c (fdopen): Make all writes go to the end of
	the file when O_APPEND is set, wherever the EOF happens to be at
	that time.

Wed Feb 18 23:25:02 1998  Geoffrey Noer  <noer@cygnus.com>

	patch from cgf@bbc.com (Christopher Faylor):
	* libc/stdio/freopen.c (freopen): Conform to standard UNIX
	convention of closing fp prior to attempting to open the file
	argument.  This allows correct operation when reopening
	stdin/stdout/stderr.  Replaces last freopen.c patch.

Wed Feb 18 16:27:40 1998  Geoffrey Noer  <noer@cygnus.com>

	patch from cgf@bbc.com (Christopher Faylor):
	* libc/stdio/freopen.c: freopen was not preserving the fd
	of the stream being operated on.  This confuses programs that
	expect that the handles for stdout and stderr will be 1 and 2.

Mon Feb 16 23:34:07 1998  Andrew Cagney  <cagney@b1.cygnus.com>

	* libc/sys/d10v/crt0.S (_start): Set PSW{SW} - select SPU.

Thu Feb 12 15:09:20 1998  Ranjith Kumaran <ranjith@cygnus.com>

	* libc/sys/go32/longjmp.S: Fix longjmp to not return 0.

Wed Feb 11 17:50:45 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/machine/powerpc/setjmp.S (setjmp, longjmp): Alignment code
	altered to not use a branch.  Also added hint that last
	bclr in longjmp will likely result in branch.


Mon Feb  9 03:44:02 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/sys/cygwin32/crt0.c: add missing args to main() extern

Fri Feb  6 16:32:32 1998  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/sysnecv850/crt0.S (_start): Initialise _ctbp even for
	v850 builds.

	* configure.in: Add -msmall-sld to target_cflags for v850 builds.

Wed Feb  4 16:56:20 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/machine/powerpc/setjmp.S (longjmp): Fixed code
	that loads FR14 to specify offset of 8 rather than 4
	so it loads from offset 96 (where setjmp stored it).

Tue Feb  3 18:08:34 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/machine/sh/memcpy.S: (_memcpy): Update to
	latest version supplied by customer.
	* libc/machine/sh/memset.S (_memset): Ditto.

Mon Feb  2 16:20:39 1998  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/sysnecv850/Makefile.in (OFILES): Add link.o (for
	PR14730).

Mon Feb  2 15:13:26 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/string.h: remove redefinition of ffs

Wed Jan 28 13:30:14 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/sys/signal.h: include _ansi.h so _EXFUN is
	defined

Wed Jan 28 10:38:34 1998  Jeff Johnston  <jjohnstn@cygnus.com>

	* libc/machine/tic80/setjmp.S: Adding _setjmp to allow
	TI Libraries to link to libc.a

Sat Jan 24 10:15:56 1998  Michael Meissner  <meissner@cygnus.com>

	* libc/include/sys/fcntl.h (_open,_fcntl): Add prototypes.
	* libc/include/sys/stat.h (_{,f}stat): Ditto.
	* libc/include/sys/wait.h (_wait): Ditto.
	* libc/include/sys/unistd.h (_close,_fork,_getpid): Ditto.
	(_link,_lseek,_read,_sbrk,_unlink,_write): Ditto.

Fri Jan 23 11:32:10 1998  Michael Meissner  <meissner@cygnus.com>

	* libc/machine/d10v/setjmp.S: Change to new ABI.  Add simple
	minded stabs so function name shows up when running the simulator
	with -t.
	* libc/sys/d10v/{crt0,trap}.S: Ditto.

Thu Jan 22 15:57:14 1998  Fred Fish  <fnf@cygnus.com>

	* libc/sys/d10v/trap.S: Change syscalls to use trap 15.
	* libc/sys/d10v/crt0.S: Use R6 where we used to use R2.
	Use R5 where we used to use R3.

Wed Jan 21 14:22:23 1998  Bill Moyer <billm@cygnus.com>

	* libc/stdlib/getopt.c (getopt): replaced __progname
	with nargv[0] to improve portability to imbedded systems.

Thu Jan 15 12:32:38 1998  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/arm/syscalls.c (initialise_angel_handles): Applied
	patch supplied by Tont.Thompson@arm.com to fix the creation of the
	stdout file.

Wed Jan 14 13:00:19 1998  Ian Lance Taylor  <ian@cygnus.com>

	* libc/stdio/tmpnam.c (worker): Generate a different file name
	each time.

	* libc/posix/popen.c (popen): If __CYGWIN32__, and execing /bin/sh
	fails, try an execlp for sh.

	* host/any (INCLUDES): If target_os is cygwin32, then add a -I
	option for the winsup include directory.

Wed Jan  7 17:02:58 1998  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/arm/syscalls.c: Applied patches for Angel based remote
	debugging interface from Tony.Thompson@arm.com.

	* libc/sys/arm/crt0.S (_mainCRTStartup): ditto.
	* libc/sys/arm/swi.h: ditto.

Tue Jan  6 14:15:10 1998  Geoffrey Noer  <noer@cygnus.com>

	* libc/sys/cygwin32/sys/dirent.h: add __d_dirhash field to
	DIR struct used for readdir hashes.

Thu Jan  1 11:22:22 1998  Jeffrey A Law  (law@cygnus.com)

	* libc/string/strchr.c: Use "unsigned chars" as necessary.

Wed Dec 31 04:25:30 1997  Jeffrey A Law  (law@cygnus.com)

	* libc/stdlib/mallocr.c (idx2binblock): Don't lose on 16bit
	integer targets.

Sat Dec 13 15:11:06 1997  Ian Lance Taylor  <ian@cygnus.com>

	* libc/stdlib/mallocr.c (__malloc_copy): New function, compiled if
	INTERNAL_NEWLIB and __CYGWIN32__ and DEFINE_MALLOC.
	* libc/include/malloc.h: Add extern "C" if __cplusplus.
	(__malloc_copy): Declare.

Wed Dec 10 12:15:54 1997  Ian Lance Taylor  <ian@cygnus.com>

	* libc/stdlib/mallocr.c: If INTERNAL_NEWLIB, include
	<sys/config.h>.
	(POINTER_UINT): Define.
	(DEFAULT_TRIM_THRESHOLD): Mark constants as long.
	(MALLOC_ALIGNMENT): Don't define if already defined.
	(malloc_extend_top): Cast pointers to POINTER_UINT, not unsigned
	long.

Tue Dec  9 19:23:42 1997  Michael Meissner  <meissner@cygnus.com>

	* libc/string/memset.c (memset): Fiddle with code so that the long
	value being stored is not a stack value.  Unroll storing longs 4
	times.

Tue Dec  9 14:13:18 1997  Jeff Johnston  <jjohnstn@cygnus.com>

	* Reduce code size for libm modules.
	* libm/math/w_sqrt.c (sqrt): Remove call to kernel_standard
	and simply move code into sqrt.
	* libm/math/wrf_lgamma.c (lgammaf_r): Likewise.
	* libm/math/wr_lgamma.c (lgamma_r): Likewise.
	* libm/math/wrf_gamma.c (gammaf_r): Likewise.
	* libm/math/wr_gamma.c (gamma_r): Likewise.
	* libm/math/wf_sinh.c (sinfh): Likewise.
	* libm/math/w_sinh.c (sinh): Likewise.
	* libm/math/wf_scalb.c (scalbf): Likewise.
	* libm/math/w_scalb.c (scalb): Likewise.
	* libm/math/wf_remainder.c (remainderf): Likewise.
	* libm/math/w_remainder.c (remainder): Likewise.
	* libm/math/wf_pow.c (powf): Likewise.
	* libm/math/w_pow.c (pow): Likewise.
	* libm/math/wf_log10.c (log10f): Likewise.
	* libm/math/w_log10.c (log10): Likewise.
	* libm/math/wf_log.c (logf): Likewise.
	* libm/math/w_log.c (log): Likewise.
	* libm/math/w_lgamma.c (lgamma): Likewise.
	* libm/math/wf_lgamma.c (lgammaf): Likewise.
	* libm/math/wf_jn.c (jnf): Likewise.
	* libm/math/w_jn.c (jn): Likewise.
	* libm/math/wf_j1.c (j1f): Likewise.
	* libm/math/w_j1.c (j1): Likewise.
	* libm/math/wf_j0.c (j0f): Likewise.
	* libm/math/w_j0.c (j0): Likewise.
	* libm/math/wf_hypot.c (hypotf): Likewise.
	* libm/math/w_hypot.c (hypot): Likewise.
	* libm/math/wf_gamma.c (gammaf): Likewise.
	* libm/math/w_gamma.c (gamma): Likewise.
	* libm/math/wf_fmod.c (fmodf): Likewise.
	* libm/math/w_fmod.c (fmod): Likewise.
	* libm/math/wf_exp.c (expf): Likewise.
	* libm/math/w_exp.c (exp): Likewise.
	* libm/math/wf_cosh.c (coshf): Likewise.
	* libm/math/w_cosh.c (cosh): Likewise.
	* libm/math/wf_atanh.c (atanhf): Likewise.
	* libm/math/w_atanh.c (atanh): Likewise.
	* libm/math/wf_atan2.c (atan2f): Likewise.
	* libm/math/w_atan2.c (atan2): Likewise.
	* libm/math/wf_asin.c (asinf): Likewise.
	* libm/math/w_asin.c (asin): Likewise.
	* libm/math/wf_acosh.c (acoshf): Likewise.
	* libm/math/w_acosh.c (acosh): Likewise.
	* libm/math/wf_acos.c (asocf): Likewise.
	* libm/math/w_acos.c (acos): Likewise.
	* libm/math/wf_sqrt.c (sqrtf): Likewise.
	* libm/math/k_standard.c (_k_standard): Don't require SVID behavior
	for embedded systems.

Mon Dec  8 12:12:58 1997  Ian Lance Taylor  <ian@cygnus.com>

	* libc/stdlib/mallocr.c (malloc_extend_top): Add patch from Doug
	Lea in case of a foreign sbrk.

Fri Dec  5 23:27:28 1997  Ian Lance Taylor  <ian@cygnus.com>

	Incorporate Doug Lea's malloc:
	* libc/stdlib/mallocr.c: Completely replaced.
	* libc/stdlib/malloc.c: Document malloc_usable_size and memalign.
	(realloc): Remove.
	* libc/stdlib/calloc.c (calloc): Just call _calloc_r.
	* libc/stdlib/mstats.c: Document mallinfo, malloc_stats, and
	mallopt.
	(mallinfo, malloc_stats, mallopt): New functions.
	(_mstats_r): Just call _malloc_stats_r.
	* libc/stdlib/malign.c: New file.
	* libc/stdlib/mlock.c: New file.
	* libc/stdlib/msize.c: New file.
	* libc/stdlib/mtrim.c: New file.
	* libc/stdlib/realloc.c: New file.
	* libc/stdlib/valloc.c: New file.
	* libc/stdlib/malloc.h: Remove.
	* libc/stdlib/callocr.c: Remove.
	* libc/stdlib/Makefile.in (OFILES): Add cfreer.o, freer.o,
	malign.o, malignr.o, mallinfor.o, malloptr.o, mallstatsr.o,
	mlock.o, msize.o, msizer.o, mtrim.o, pvallocr.o, realloc.o,
	reallocr.o, valloc.o, vallocr.o.
	(CHEWOUT_FILES): Add mlock.def, mstats.def.
	(MALLOC_CFLAGS): New variable.
	(mallocr.o): New target, build from mallocr.c.
	(freer.o, reallocr.o, callocr.o, cfreer.o, malignr.o): Likewise.
	(vallocr.o, pvallocr.o, mallinfor.o, mallstatsr.o): Likewise.
	(msizer.o, malloptr.o): Likewise.
	(malign.o, mlock.o, msize.o, mtrim.o, realloc.o): New targets.
	(valloc.o): New target.
	* libc/stdlib/stdlib.tex: Include mlock.def and mstats.def.
	* libc/include/malloc.h: Declare struct mallinfo, and new
	routines.
	* libc/include/stdlib.h (cfree): Correct declaration.

Tue Dec  2 10:12:16 1997  Nick Clifton  <nickc@cygnus.com>

	* libc/include/machine/setjmp.h: Add support for Thumb target.

	* libc/include/machine/ieeefp.h: Add support for Thumb target.

	* configure.in (links): Add support for Thumb target.

Wed Nov 26 09:56:17 1997  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/arm/setjmp.S: Updated with version from branch.

Thu Nov 20 01:21:43 1997  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/stdio.h: add POSIX-required define L_ctermid
	for ctermid

Wed Nov 19 16:11:40 1997  Michael Meissner  <meissner@cygnus.com>

	* configure.in (d30v-*-*): Define ABORT_MESSAGE, SMALL_MEMORY, in
	addition to MISSING_SYSCALL_NAMES.

Mon Nov 17 20:05:05 1997  J"orn Rennecke <amylaar@cygnus.co.uk>

	* libc/include/sys/config.h: (UINT_MAX, for D10V):  Make unsigned.

Mon Nov 10 22:26:55 1997  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/string.h: change strsignal proto to return
	a char *.  This eliminates compile problems in gdb resulting
	from gdb's definition of strsignal in defs.h.

Mon Nov 10 17:11:08 1997  Geoffrey Noer  <noer@cygnus.com>

	* libc/sys/cygwin32/sys/utime.h: new (moved here from
	winsup/include) so as not to conflict with the one in
	libc/include.
	* libc/include/string.h: add protos for strsignal, strtosigno

Mon Nov 10 13:49:54 1997  Michael Meissner  <meissner@cygnus.com>

	* libc/include/sys/config.h: Define __IEEE_BIG_ENDIAN if d30v.

	* configure.in (d30v-*-*): Add configuration.

Thu Oct 30 14:01:23 1997  Nick Clifton  <nickc@cygnus.com>

	* configure.in (links): Add -DARM_RD[P|I]_MONITOR to target_cflags
	to select which kind of debug monitor is in use for an ARM target.

	* libc/sys/arm/crt0.S: New version: Supports Thumb startups and
	Angel and Demon debug monitors.  Part of this code was supplied by
	Tony Thompson at ARM: athompso@arm.com.

Fri Oct 24 18:57:05 1997  Jeffrey A Law  (law@cygnus.com)

	* strncat.c (strncat): Don't call strncpy; strncay has the wrong
	semantics when the count is greater than the length of the second
	source string.

Thu Oct 23 01:37:41 1997  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/sys/signal.h: reorder CYGWIN32 signal numbers
	* libc/include/sys/unistd.h: add protos for usleep, truncate,
	truncate and ftruncate take off_t, not size_t

Tue Oct 21 18:42:00 1997  Jim Wilson  <wilson@cygnus.com>

	* libc/string/strcat.c (strcat): Add missing comment end.
	* libc/string/strncat.c (strncat): Likewise.

Tue Oct 21 17:23:34 1997  Nick Clifton  <nickc@cygnus.com>

	* configure.in (links): Define PREFER_SIZE_OVER_SPEED for v850
	targets.
	* libc/string/{memchr.c, memcmp.c, memcpy.c}:	Add space
	optimised version which is selected if PREFER_SIZE_OVER_SPEED is
	defined.
	* libc/string/{memset.c, strcat.c, strchr.c}: Likewise.
	* libc/string/{strcmp.c, strcpy.c, strlen.c}: Likewise.
	* libc/string/{strncat.c, strncmp.c, strncpy.c}: Likewise.

Mon Oct 13 15:12:35 1997  Ian Lance Taylor  <ian@cygnus.com>

	* libc/include/sys/param.h (BIG_ENDIAN): Define if __i386__.
	(LITTLE_ENDIAN, BYTE_ORDER): Likewise.

Thu Oct  9 13:54:44 1997  Doug Evans  <dje@canuck.cygnus.com>

	* libc/machine/i386/setjmp.S: New file.
	* libc/machine/i386/Makefile.in: Delete COPYOFILES.
	(OFILES): Add setjmp.o.
	(setjmp.o): Add rule for.
	* configure.in: Don't set machine_dir for *-*-{go32,sco*,cygwin32}.

Tue Oct  7 14:01:29 1997 Bill Moyer     (billm@cygnus.com)
			 Jeffrey A Law  (law@cygnus.com)

	* libc/string/{memchr.c, memcmp.c, memcpy.c}: Reimplement to run faster.
	* libc/string/{memset.c, strcat.c, strchr.c}: Likewise.
	* libc/string/{strcmp.c, strcpy.c, strlen.c}: Likewise.
	* libc/string/{strncat.c, strncmp.c, strncpy.c}: Likewise.

Mon Oct  6 14:07:59 1997  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/sysnecv850/Makefile.in (crt0.o trap.o): Explicit
	rules.

	* libc/include/sys/config.h: Use __v850 to select v850
	endianness.

	* libc/include/machine/setjmp.h: Use __v850 to select v850 jump
	buffer size.

	* libc/include/machine/ieeefp.h: Use __v850 to select v850
	endianness.

Thu Sep 25 14:11:37 1997  Geoffrey Noer  <noer@cygnus.com>

	* libc/stdlib/setenv.c: change unsetenv definition to match
	style of setenv (with _DEFUN).  The string should be a const.
	* libc/include/stdlib.h: unsetenv proto should return void.

Tue Sep 23 18:17:20 1997  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/stdlib.h: define unsetenv proto for __CYGWIN32__

Thu Sep 18 12:50:15 1997  Angela Marie Thomas (angela@cygnus.com)

	* libc/stdio/glue.h: remove.
	* libc/stdio/findfp.c, libc/stdio/fwalk.c: remove #include "glue.h"
	* libc/stdio/Makefile.in: remove glue.h dependencies

Wed Sep 17 17:42:27 1997  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/sysnecv850/crt0.S: Created V850e version.

Tue Sep  9 10:40:57 1997  Doug Evans  <dje@canuck.cygnus.com>

	* configure.in (target_cpu): Add `arc'.

Tue Sep  9 10:40:42 1997  Joel Sherrill  <joel@OARcorp.com>

	* newlib/configure.in (*-*-rtems*): Add -DSIGNAL_PROVIDED and
	  -DREENTRANT_SYSCALLS_PROVIDED to the target_cflags.
	* newlib/libc/include/sys/errno.h: Add ENOTSUP.
	* newlib/libc/reent/reent.c: Add _wrapup_reent.
	* newlib/libc/sys/rtems/sys/types.h: Avoid redefinitions for go32.

Sun Sep  7 16:41:41 1997  Gavin Koch  <gavin@cygnus.com>

	* libc/machine/mips/setjmp.S: Handle mips16 builds.

Thu Aug 21 20:05:38 1997  Ian Lance Taylor  <ian@cygnus.com>

	* libc/include/stdio.h (siprintf): Declare.

Mon Aug 18 11:19:13 1997  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/sysnecv850/Makefile.in (.c.o): Add rule that includes
	TARGET_CFLAGS and NEWLIB_FLAGS.

Mon Aug 18 11:15:43 1997  Nick Clifton  <nickc@cygnus.com>

	* configure.in (links): Add support for v850ea target.

Mon Aug 18 11:15:43 1997  Nick Clifton  <nickc@cygnus.com>

	* configure.in (links): Add support for v850e target.

Wed Aug 13 19:16:54 1997  Nick Clifton  <nickc@cygnus.com>

	* libc/sys/sysnecv850/crt0.S: Remove initial setting of r0 to 0.

Mon Aug 11 15:49:54 1997  Doug Evans  <dje@canuck.cygnus.com>

	* configure.in (arc-*-*): Add support for.
	* libc/include/machine/ieeefp.h (__arc__): Add support for the ARC.

Fri Jul 25 17:37:41 1997  J"orn Rennecke <amylaar@cygnus.co.uk>

	* libc/sys/sh/crt0.S (start): Add fpscr initialization for SH4.

Thu Jul 24 18:32:17 1997  Geoffrey Noer  <noer@cygnus.com>

	* libc/stdlib/bsearch.c (bsearch): remove last unneeded
	comparison which accesses invalid memory when the key is
	larger than the last member of the array.
	* libc/include/machine/setjmp.h: add sigsetjmp, siglongjmp
	for CYGWIN32
	* libc/include/sys/unistd.h: add _POSIX defines for CYGWIN32

Tue Jul 22 16:03:06 1997  Ian Lance Taylor  <ian@cygnus.com>

	* libc/include/stdlib.h (realpath): Declare if __CYGWIN32__ and
	not _STRICT_ANSI.

Thu Jul 10 15:11:52 1997  Doug Evans  <dje@canuck.cygnus.com>

	* libm/math/k_standard.c (__kernel_standard): Call fflush(stdout)
	ifndef _USE_WRITE, instead of ifdef _USE_WRITE.

Thu Jul 10 16:00:09 1997  Mike Meissner  <meissner@cygnus.com>

	* libc/machine/tic80/setjmp.S (setjmp,longjmp): Use ld.d and st.d
	to load/store memory.

Mon Jul  7 17:38:17 1997  Ian Lance Taylor  <ian@cygnus.com>

	* libc/include/sys/fcntl.h: Define _O_* symbols with leading
	underscores if _WIN32.

Wed Jul  2 10:07:20 1997  Doug Evans  <dje@canuck.cygnus.com>

	* libm/math/k_standard.c (__kernel_standard): Delete reentrancy
	support ifdef _USE_WRITE missed in last change.
	From Anders Blomdell <anders.blomdell@control.lth.se>.

Wed Jun 25 10:18:49 1997  Doug Evans  <dje@canuck.cygnus.com>

	* libc/stdio/tmpnam.c (worker): Handle _open_r being stubbed out.
	(_tmpnam_r, _tempnam_r): Update.

Wed Jun 25 00:16:55 1997  Mark Alexander  <marka@cygnus.com>

	* libc/machine/sparc/setjmp.S: New file.
	* libc/machine/sparc/Makefile.in: Add setjmp.
	* libc/include/machine/setjmp.h: Increase jmpbuf size for sparc.

Tue Jun 24 23:27:38 1997  Mark Alexander  <marka@cygnus.com>

	* libc/include/machine/setjmp.h: Use __TIC80__ instead of __tic80__.

Tue Jun 24 14:53:40 1997  Doug Evans  <dje@canuck.cygnus.com>

	From Joel Sherrill <joel@oarcorp.com>.
	* libc/stdlib/getenv.c (_findenv): Avoid dereferencing null `environ'.

	Add rtems support.  From Joel Sherrill <joel@oarcorp.com>.
	* configure.in: Recognize *-*-rtems*.
	* libc/sys/rtems/{Makefile.in,crt0.c,dummysys.c}: New files.
	* libc/sys/rtems/sys/{features.h,sched.h,siginfo.h,signal.h,
	time.h,times.h,types.h}: New files.
	* libc/sys/rtems/include/{limits.h,signal.h,time.h}. New files.

Fri Jun 20 11:13:16 1997  Geoffrey Noer  <noer@cygnus.com>

	patch from sos@prospect.com.ru (Sergey Okhapkin):
	* include/sys/wait.h: correct operator precidence bug
	in WIFSIGNALED

Wed Jun 18 22:08:27 1997  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/stdlib.h: remove unsetenv proto since it conflicts
	with newlib's unsetenv function
	* libc/sys/cygwin32/sys: new directory for includes
	* libc/sys/cygwin32/sys/dirent.h: move cygwin32's dirent.h
	here from winsup/include/sys

Mon Jun 16 21:02:22 1997  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/sys/unistd.h: _exit should only be
	labelled noreturn when not __CYGWIN32__
	* libc/include/stdlib.h: for __CYGWIN32__, add proto for unsetenv
	* libc/include/sys/signal.h: add SIGIO to _WIN32 list and
	increment NSIG

Thu Jun 12 18:52:41 1997  Ian Lance Taylor  <ian@cygnus.com>

	* libc/include/sys/time.h: Only define timeval and timezone if
	_GNU_H_WINDOWS32_SOCKETS is not defined.
	* libc/include/sys/stat.h: If _WIN32, define _S_IFMT, etc.

Wed Jun 11 09:46:26 1997  Jeffrey A Law  (law@cygnus.com)

	* libc/machine/mn10200/setjmp.S: Implement setjmp/longjmp
	* libc/machine/mn10300/setjmp.S: Likewise.

	* libc/sys/sysmec/crt0.S: Use "call" instead of "calls" for
	the mn10300 (more relaxing opportunities).

Tue Jun 10 17:24:45 1997  Mike Meissner  <meissner@cygnus.com>

	* configure.in (powerpc*-*-{eabi,elf,linux,rtems,sysv,solaris}):
	Build libraries with -mstrict-align.

Fri Jun  6 14:07:59 1997  Ian Lance Taylor  <ian@cygnus.com>

	* libc/string/strlwr.c: New file.
	* libc/string/strupr.c: New file.
	* libc/include/string.h: Declare strlwr and strupr.
	* libc/string/Makefile.in (OFILES): Add strlwr.o and strupr.o.
	(CHEWOUT_FILES): Add strlwr.def and strupr.def.
	(strlwr.o, strupr.o): New targets.
	* libc/string/strings.tex: Include strlwr and strupr docs.

	* libc/include/sys/types.h: Don't define u_char, et. al., if
	_GNU_H_WINDOWS32_SOCKETS is defined.  Likewise for fd_set,
	et. al.  Make FD_SETSIZE default 64 rather than 60.  Define
	_types_fd_set rather than fd_set, and define fd_set as a macro.

	* libc/include/malloc.h: New file.

	* libc/include/string.h: Define strcmpi, stricmp, strncmpi, and
	strnicmp if they are not already defined.

	* libc/include/time.h: If __CYGWIN32__, declare tzset and define
	_timezone, _daylight, and _tzname.

Wed Jun  4 12:51:16 1997  Doug Evans  <dje@canuck.cygnus.com>

	* configure.in: Sort all configuration tables.

	From Joel Sherrill <joel@oarcorp.com>
	* Makefile.in (stmp-targ-include): Copy $(sys_dir)/include/*.h.

Tue Jun  3 14:47:46 1997  Ian Lance Taylor  <ian@cygnus.com>

	* libc/include/sys/signal.h: Don't include <sys/types.h>.  Just
	use int when declaring kill.

	* libc/include/sys/timeb.h: New file.

Mon Jun  2 12:06:58 1997  Geoffrey Noer  <noer@cirdan.cygnus.com>

	* libc/include/sys/time.h: add itimer support for Cygwin32

Mon May 19 11:56:46 1997  Mike Meissner  <meissner@cygnus.com>

	* libc/stdlib/abort.c (abort): If ABORT_MESSAGE is defined, write
	out a message that abort was called to stderr.

Fri May 16 15:02:59 1997  Bob Manson  <manson@charmed.cygnus.com>

	* libc/sys/sysmec/fstat.c (_fstat): Set st_blksize to 4096
	so that libio doesn't freak.

	* libc/sys/sysmec/sbrk.c (_sbrk): The argument is a size_t, not
	int.

	* libc/stdlib/mallocr.c (_morecore_r): Use size_t for
	memory sizes, not int.

Wed May 14 21:16:58 1997  Bob Manson  <manson@charmed.cygnus.com>

	* libm/math/ef_hypot.c: Use long constants where
	appropriate.
	* libm/math/ef_sqrt.c: Ditto.

	* libc/sys/sysmec/times.c(_times): Change to times.

	* libc/sys/sysmec/read.c(_read): The third argument is
	size_t.
	* libc/sys/sysmec/write.c (_write): Ditto.

	* libc/sys/sysmec/lseek.c: Include unistd.h for off_t.
	(_lseek): It's off_t for the second argument.

Wed May 14 15:23:36 1997  Mike Meissner  <meissner@cygnus.com>

	* libc/include/sys/config.h (__IEEE_LITTLE_ENDIAN): Define here,
	as well as machine/ieeefp.h.

Thu May  8 15:47:25 1997  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/sys/signal.h: add signal protos for winsup
	functions (when __CYGWIN32__), include types.h
	* libc/include/sys/types.h: Change __go32_types__ internal
	define to __MS_types__ since it's used for more than just
	GO32 configs.  Define this if GO32, __MSDOS__, or _WIN32 are
	defined.
	* libc/include/sys/unistd.h: add ftruncate proto for
	winsup functions (when __CYGWIN32__)

Fri Apr 25 10:10:16 1997  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/h8300hms/sbrk.c (stack_ptr): Add definition.

Thu Apr 24 15:46:51 1997  Mike Stump  <mrs@cygnus.com>

	* libc/include/machine/setjmp.h: Add tic80 support.
	* libc/machine/tic80/setjmp.S: Likewise.

Tue Apr 22 16:54:40 1997  Geoffrey Noer  <noer@pizza.cygnus.com>

	* libc/sys/cygwin32/crt0.c: Add reference to main() so we can
	link programs from libraries only (such as in the X11
	distribution)

Mon Apr 21 15:02:12 1997  Fred Fish  <fnf@cygnus.com>

	* libc/sys/arm/syscalls.c (signal): Remove stub, signal()
	supplied elsewhere in newlib.

Mon Apr 14 16:25:55 1997  Ian Lance Taylor  <ian@cygnus.com>

	* Makefile.in (INSTALL): Change install.sh to install-sh.

Fri Apr 11 17:04:02 1997  Jason Molenda  (crash@godzilla.cygnus.co.jp)

	* README: update WWW address for on-line documentation.

Wed Apr  9 00:38:13 1997  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/sys/signal.h: for _WIN32, define SIGCONT and
	increment NSIG

Mon Apr  7 23:54:00 1997  Jeffrey A Law  (law@cygnus.com)

	* libc/sys/sysmec/crt0.S: Update for new calling conventions on the
	mn10300.
	* libc/sys/sysmec/trap.S: Don't compare a register to itself.

Tue Mar 25 08:47:43 1997  Jeffrey A Law  (law@cygnus.com)

	* libc/sys/arm/syscalls.c: Fix/add stack/heap collision detection.
	* libc/sys/d10v/syscalls.c: Likewise.
	* libc/sys/h8300hms/sbrk.c: Likewise.
	* libc/sys/h8500hms/syscalls.c: Likewise.
	* libc/sys/m88kbug/syscalls.c: Likewise.
	* libc/sys/sh/syscalls.c: Likewise.
	* libc/sys/sysmec/sbrk.c: Likewise.
	* libc/sys/sysnecv850/sbrk.c: Likewise.
	* libc/sys/w65/syscalls.c: Likewise.
	* libc/sys.tex: Update sbrk sample code to include stack/heap collision.

Tue Mar 18 14:14:34 1997  Jeffrey A Law  (law@cygnus.com)

	* libc/sys/sysmec/trap.S: Use "syscall" to trigger an
	emulated syscall instead of "trap".

Fri Mar 14 11:26:13 1997  Michael Meissner  <meissner@cygnus.com>

	* libc/sys/d10v/trap.S (__trap0): Use trap 15 for system calls,
	not trap 0.

Sun Mar  9 23:27:04 1997  Doug Evans  <dje@seba.cygnus.com>

	* configure.in (m32r-*-*): Add -msdata=sdata to target_cflags.

Sat Mar  8 09:05:01 1997  Fred Fish  <fnf@cygnus.com>

	* libc/machine/arm/Makefile.in: Fix comment, is for "arm"
	not "sh".
	* libc/machine/m32r/Makefile.in: Fix comment, is for "m32r"
	not "d10v".
	* libc/sys/tic80/crt0.c: New file for TIc80.
	* libc/sys/tic80/Makefile.in: New file for TIc80.
	* libc/machine/tic80/Makefile.in: New file for TIc80.

Wed Mar  5 11:32:12 1997  J.T. Conklin  <jtc@cygnus.com>

	* libc/machine/sh/memcpy.S: New file.
	* libc/machine/sh/memset.S: New file.
	* libc/machine/sh/Makefile.in (OFILES): Add memcpy.o and memset.o

Thu Feb 27 16:27:55 1997  Fred Fish  <fnf@cygnus.com>

	* libc/include/machine/ieeefp.h (_IEEE_LITTLE_ENDIAN): Define
	for TIc80.

Wed Feb 26 13:43:39 1997  Jeffrey A Law  (law@cygnus.com)

	* libc/sys/sysmec/crt0.S: Handle new calling conventions for
	the mn10200.

Wed Feb 26 07:11:03 1997  Michael Meissner  <meissner@cygnus.com>

	* libc/machine/powerpc/setjmp.S (longjmp): Correct return status
	(patch from andrew@pogo.WV.TEK.COM).

Fri Feb 14 11:49:28 1997  Doug Evans  <dje@canuck.cygnus.com>

	* libc/machine/m32r/setjmp.S (setjmp): Save r12.
	(longjmp): Restore r12. Fix code that handles returning 1 if passed 0.

Mon Feb 10 10:02:34 1997  Fred Fish  <fnf@cygnus.com>

	* configure.in:  Add cases for "tic80" to set machine_dir,
	sys_dir, and syscall_dir.

Sun Feb  2 17:57:15 1997  Geoffrey Noer  <noer@cygnus.com>

	* libc/sys/cygwin32/crt0.c: initialize floating pt registers

Wed Jan 29 15:57:38 1997  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/math.h: avoid conflicts with ANSI C++ <exception>

Mon Jan 27 12:50:01 1997  Doug Evans  <dje@seba.cygnus.com>

	* libc/machine/m32r/setjmp.S: Use proper comment delimiter.
	Use proper constant prefix.

Fri Jan 24 10:59:04 1997  Jeffrey A Law  (law@cygnus.com)

	* libc/sys/sysmec/*.c: Don't cast args to syscall to integers,
	that loses on the mn10200 where ints and pointers are different
	sizes.

Tue Jan 14 13:29:55 PST 1997  Jeremy Allison <jra@cygnus.com>

	* configure.in: Added -DSIGNAL_PROVIDED to cygwin32
	target as signal is provided in winsup.

Tue Jan 14 11:10:13 1997  Jeremy Allison <jra@cygnus.com>

	* libc/include/sys/process.h: Corrected const definitions
	in spawn functions. Added cwait.

Thu Jan  2 12:22:41 1997  Jeffrey A Law  (law@cygnus.com)

	* libc/include/machine/ieeefp.h: mn10200 uses 16bit ints and 32bit
	doubles.
	* libc/include/sys/config.h: Similarly.

Tue Dec 31 18:36:14 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* configure.in (sparc-sun-sunos*): Add -DSIGNAL_PROVIDED to the
	target_cflags.
	(i[3456]86-*-sco*): Ditto.

	* libc/signal/Makefile.in (OFILES): Add signal.o.
	(CFILES): Add signal.c.

	* libc/signal/raise.c (_raise_r): Only compile code if
	SIGNAL_PROVIDED is defined.

	* libc/signal/signal.c: Redo whole file so that it works with
	current newlib.  Use _kill_r if no signal handler provided.

	* libc/sys/{go32,sparc64,sysmec}/Makefile.in: Delete raise and
	signal stubs.
	* libc/sys/sysvnecv70/Makefile.in: Ditto.
	* libc/sys/sysnecv850/Makefile.in: Ditto.

	* libc/sys/{go32,sparc64}/signal.c: Delete, stub no longer used.
	* libc/sys/sysmec/{raise,signal}.c: Ditto.
	* libc/sys/sysvnecv70/signal.s: Ditto.
	* libc/sys/sysnecv850/raise.c: Ditto.

	* libc/sys/sysnecv850/kill.c (_kill): Encode signal # so that
	simulator and debugger can tell the difference between a signal
	being raised and an exit system call.

	* NEWS: Document software signals being provided.

Mon Dec 23 11:54:19 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/reent/impure.c (_REENT_ATTR): Delete in favor of
	__ATTRIBUTE_IMPURE_PTR__.  Move PowerPC definition to
	include/sys/config.h.
	(impure_data): Use __ATTRIBUTE_IMPURE_DATA__ for attributes.
	Change from 'inpure_data'.
	(_impure_ptr): Use __ATTRIBUTE_IMPURE_PTR__ for attributes.  Use
	&impure_data, not &inpure_data.

	* libc/include/sys/config.h (__ATTRIBUTE_IMPURE_PTR__): If PowerPC
	and and System V ABI, define so that _impure_ptr lives in the
	.sdata section.

Sun Dec 22 23:33:05 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/include/sys/reent.h (__ATTRIBUTE_IMPURE_PTR__): Define as
	nothing if not defined.
	(_impure_ptr): Use __ATTRIBUTRE_IMPURE_PTR__, so a machine can set
	its attributes.

	* libc/include/sys/config.h (__ATTRIBUTE_IMPURE_PTR__):

Wed Dec 18 10:12:04 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/sys/sysmec/crt0.S: Fix mn10200 stuff.
	* libc/sys/sysmec/trap.s: Handle mn10200 too.
	* libc/machine/mn10200/setjmp.S: Fix mn10200 stuff.

Mon Dec 16 10:05:36 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/sys/sysmec/crt0.S: Handle mn10200 too.

Fri Dec 13 11:05:20 1996  Jeremy Allison <jra@cygnus.com>

	* libc/include/sys/errno.h: Added net errno's.

Wed Dec 11 16:24:25 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/misc/ffs.c: New file to support ffs function for GCC test
	gcc.c-torture/execute/960909-1.c.

	* libc/misc/Makefile.in ({O,CHEWOUT_}FILES): Add ffs.

Sat Dec  7 10:12:37 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/sys/sysmec/crt0.S: Handle underscore prefix.
	* libc/sys/sysmec/trap.S: Likewise.

Fri Dec  6 15:08:49 1996  Jim Wilson  <wilson@cygnus.com>

	* configure.in (mips*vr4300*-*-*): Delete use of sys/vr4300.
	* libc/sys/vr4300/{Makefile.in,crt0.S,syscalls.c}: Delete.

Wed Dec  4 16:25:27 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/sys/sysmec/signal.c: Dummy file.
	* libc/sys/sysmec/Makefile.in: Build it.

Wed Nov 27 13:10:18 1996  Ian Lance Taylor  <ian@cygnus.com>

	* libc/machine/mips/machine/regdef.h: Define pc as $pc for
	mips16.

Mon Nov 25 09:58:28 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/sys/sysmec/{crt0.S,trap0.S}: Actually try to implement
	c-startup and simulator traps.


	* libc/sys/sysmec/crt0.S: Remove bogus '_' symbol prefixing
	* libc/sys/sysmec/trap0.S: Likewise.

Sat Nov 23 09:01:03 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/stdlib/mallocr.c (ROUND_TO): If SMALL_MEMORY, set to 0x7 to
	round to double word alignment.
	(_morecore_r): Combine rounding up pointers to both ROUND_TO and 8
	byte alignment.

	* libc/include/sys/config.h (__IEEE_BIG_ENDIAN): Define if d10v.

	* libc/sys/d10v/syscalls.c (_sbrk): Add better checks for running
	out of memory.

Mon Nov 18 13:08:26 1996  Jeffrey A Law  (law@cygnus.com)

	* configure.in: Handle mn10200 and mn10300.
	* libc/include/machine/{ieeefp.h,setjmp.h}: Likewise.
	* libc/include/sys/config.h: Likewise.
	* libc/sys/sysmec: New directory for mec stuff.
	* libc/machine/mn10300: New directory for mn10300 stuff.
	* libc/machine/mn10200: Similarly for mn10200 stuff.

Fri Nov 15 16:41:41 1996  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/arm/crt0.S: Use .text, not .section .text.
	* libc/sys/arm/syscalls.c: Rewrite to set errno properly.

	* libc/include/sys/types.h (_ST_INT32): New macro, local to file.
	(nlink_t): Change type from unsigned int to unsigned short.
	(mode_t): Ensure size is 32 bits even if int is 16.
	* libc/include/sys/stat.h (st_nlink): Change type to nlink_t.
	(st_spare[123]): Change type from int to long.

Fri Nov 15 11:41:50 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/sys/d10v/syscalls.c (_sbrk): Align initial heap_end to 8
	byte boundary.

	* configure.in (d10v*): Define SMALL_MEMORY.

Mon Nov 11 10:30:44 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* configure.in (powerpc*-{eabi,elf,linux,rtem,sysv,solaris}*): Add
	-mrelocatable-lib and -mno-eabi flags.

Mon Nov 11 09:01:39 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/machine/h8300/memcpy.S: Fix comments to reflect reality.
	Fix handling of mis-aligned source operand when both the
	destination & length are properly aligned.

Wed Oct 30 09:41:11 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/sys/sysnecv850/Makefile.in (OFILES): Add
	times.o, time.o and gettime.o
	* libc/sys/sysnecv850/{time.c, times.c, gettime.c}: New files.
	* libc/sys/sysnecv850/sys/syscall.h: Add SYS_times and
	SYS_gettimeofday.

Tue Oct 29 13:40:09 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/sys/sysnecv850/Makefile.in (OFILES): Add access.o
	* libc/sys/sysnecv850/access.c: New file.

Mon Oct 21 19:47:02 1996  Ian Lance Taylor  <ian@cygnus.com>

	* libc/sys/vr4300/Makefile.in (clean): Remove $(OFILES).

	* libc/stdlib/mprec.h (word0, word1): Use __uint32_t, not unsigned
	long.

Mon Oct 21 14:43:07 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/sys/sysnecv850/crt0.S: Initialize ep and gp registers.

Thu Oct 17 11:47:16 1996  Doug Evans  <dje@seba.cygnus.com>

	* libc/include/machine/{ieeefp.h,setjmp.h}: Add m32r support.
	* libc/include/sys/config.h: Add m32r support.

Wed Oct 16 23:08:05 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/sys/sysnecv850/v850.ld: Remove.  It doesn't belong
	here.

Wed Oct 16 21:18:07 1996  Mark Alexander  <marka@cygnus.com>

	* libc/include/machine/setjmp.h: Add D10v support.

Tue Oct 15 22:28:26 1996  Jeffrey A Law  (law@cygnus.com)

	* configure.in: Configure the "libc/syscalls" directory for
	the v850.

	* libc/sys/sysnecv850/{close.c, execve.c, fork.c}: Add missing '_'.
	* libc/sys/sysnecv850/{fstat.c, getpid.c, kill.c}: Likewise.
	* libc/sys/sysnecv850/{lseek.c, open.c, read.c}: Likewise.
	* libc/sys/sysnecv850/{sbrk.c, stat.c, unlink.c}: Likewise.
	* libc/sys/sysnecv850/{wait.c, write.c}: Likewise.

Tue Oct 15 16:24:39 1996  Stu Grossman  (grossman@critters.cygnus.com)

	* libc/sys/sysnecv850/crt0.S (start):  Allocate spill space on
	stack for args for main and other routines.  Zero out args for
	main.

	* libc/sys/sysnecv850/v850.ld:  New.  Linker script to layout memory
	correctly.

Tue Oct 15 11:51:42 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/stdio/findfp.c (std): Remove extraneous ';' after
	function.

	* libc/sys/d10v/sys/syscall.h (SYS_kill): Add.

	* libc/sys/d10v/{syscalls.c,trap.S} (_kill,_getpid): Make these
	real system calls now.

	* libc/stdio/setvbuf (setvbuf): Cast pointers to _POINTER_INT
	before casting them to int.
	* libc/stdio/tmpnam.c (_tempnam_r): Ditto.

	* libc/stdlib/mallocr.c (_morecore_r): Use _POINTER_INT when
	aligning pointer.
	* libc/string/memset.c (memset): Ditto.

	* libc/stdio/vfscanf.c (__svfscanf): When converting to pointer,
	first convert ints to _POINTER_INT to eliminate GCC warning.

	* libc/stdio/vfprintf.c (_vfprintf_r): Use _POINTER_INT when
	processing %p.

	* libm/math/ef_scalb.c (__ieee754_scalbf): Cut down range to 32000
	from 65000 if ints are only 16 bits.

	* libm/math/sf_scalbn.c (scalbnf): Cut down overflow test to 30000
	from 50000 if ints are only 16 bits.

	* libc/include/sys/config.h (_POINTER_INT): New macro, to give an
	int type that is the same size as a pointer.

	* libc/misc/dprintf.c (__dprintf): Use _POINTER_INT when
	processing %p.
	(get_number): Explicitly cast number to long before shifting by 16
	or 24, in case ints are short.

	* libc/include/sys/config.h (_POINTER_INT): Define as short.

Wed Oct  9 16:54:32 1996  Jeremy Allison <jra@cygnus.com>

	* libc/string.h: Added ffs, removed swab.
	* libc/sys/errno.h: Added EOPNOTSUPP.
	* libc/sys/unistd.h: Added swab.

Thu Oct  3 17:08:50 1996  Jeremy Allison <jra@cygnus.com>

	* libc/include/sys/stat.h: Added fchmod.
	* libc/include/sys/unistd.h: Added fsync.

Tue Oct  1 17:34:08 1996  Jeremy Allison <jra@cygnus.com>

	* libc/include/sys/errno.h: Added defines for EPFNOSUPPORT (96)
	and ECONNRESET (104) for cygwin32.

Tue Oct  1 16:24:05 1996  Gavin Koch  <gavin@cygnus.com>

	* libc/sys/sysnecv850/_exit.c: added _do_dtors to
	do the static destructors.

Mon Sep 30 15:59:05 1996  Stu Grossman  (grossman@critters.cygnus.com)

	* libc/sys/sysnecv850/trap.S:  Change I/O to use trap 31.

Mon Sep 30 12:02:50 1996  Doug Evans  <dje@canuck.cygnus.com>

	* libc/machine/m32r/{Makefile.in,setjmp.S}: New files.
	* configure.in: Recognize m32r-*-*.

Mon Sep 30 00:34:41 1996  James G. Smith  <jsmith@cygnus.co.uk>

	* libc/sys/arm/trap.S (__rt_stkovf_split_big,
	__rt_stkovf_split_small): Added default software stack overflow
	handlers, which just call SWI_Exit.
	* libc/sys/arm/crt0.S (_mainCRTStartup): Simple software stack
	limit initialisation.

Fri Sep 27 13:08:03 1996  Mark Alexander  <marka@cygnus.com>

	* libc/sys/d10v/{trap.S,sys/syscall.h}: Add time() function.

Fri Sep 27 12:32:00 1996  Jeremy Allison <jra@cygnus.com>

	* libc/include/sys/types.h: Added ssize_t definition.

Wed Sep 25 14:52:18 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/machine/d10v/setjmp.S: Use ';' for comments.
	* libc/sys/d10v/{crt0.S,trap.S}: Ditto.

	* libc/machine/d10v/setjmp.S (longjmp): Use exef0t || instead of
	branch around a single ldi instruction.

	* libc/sys/d10v/crt0.S (_start): Use auto-increment to zero bss.
	Call exit, instead of just issuing a stop instruction.

Sun Sep 22 17:26:55 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/sys/d10v/{trap.S,syscalls.c}: Add -mint32 support.

Fri Sep 20 13:23:12 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/stdlib/mprec.h: Explicitly declare all large constants as
	longs, and then cast them to __uint32_t.

	* libc/include/sys/config.h: Protect against multiple inclusions.

Tue Sep 17 13:10:33 1996  Mark Alexander  <marka@cygnus.com>

	* configure.in (d10v*): Set syscall_dir.

Sun Sep 15 10:41:59 1996  Mark Alexander  <marka@cygnus.com>

	* libc/sys/d10v/crt0.S: Set stack pointer.

Thu Sep 12 13:02:38 1996  Mark Alexander  <marka@cygnus.com>

	* libc/sys/d10v/{trap.S, syscalls.c}: Rewrite most system calls
	in assembly for efficiency.  Change calling convention to allow
	long ints to be returned.

Wed Sep 11 10:28:18 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/machine/v850/Makefile.in (setjmp.o): Fix dependency.

Thu Sep  5 19:23:06 1996  Doug Evans  <dje@canuck.cygnus.com>

	* libc/posix/execvp.c (execvp): Don't search PATH if file has '/'.
	Handle empty entries in $PATH.

Tue Sep 03 18:15:02 1996  Mark Alexander  <marka@cygnus.com>

	* libc/machine/d10v/setjmp.S: Make it really work.

Tue Sep  3 12:16:26 1996  Ian Lance Taylor  <ian@cygnus.com>

	* libc/sys/sh/crt0.S: If __ELF__, use ELF section attributes for
	the .stack section.

Tue Sep  3 10:08:45 1996  Jeffrey A Law  (law@cygnus.com)

	* sys/sysnecv850/sys/file.h: Remove.
	* sys/sysnecv850/sys/syscall.h: New file.
	* sys/sysnecv850/{misc.c,syscalls.c,malloc.c}: Deleted.
	* sys/sysnecv850/{chmod.c, chown.c, close.c, creat.c} New files.
	* sys/sysnecv850/{execv.c, execve.c, fork.c, fstat.c} New files.
	* sys/sysnecv850/{getpid.c, isatty.c, kill.c, lseek.c} New files.
	* sys/sysnecv850/{open.c, pipe.c, raise.c, read.c} New files.
	* sys/sysnecv850/{stat.c, unlink.c, utime.c, wait.c} New files.
	* sys/sysnec850/trap.S: New file.
	* sys/sysnecv850/{_exit.c, write.c}: Use new TRAP0 mechanism for
	syscalls.
	* sys/sysnecv850/crt0.S: Use cmp/bl, not tst/bz.
	* sys/sysnec850/sbrk.c: New version.

Sun Sep  1 20:08:27 1996  Jeffrey A Law  (law@cygnus.com)

	* sys/sysnecv850/crt0.S: Fix order of comparison args.  Loop
	as long as r6 is less than r7.

Sun Sep  1 13:54:19 1996  Ian Lance Taylor  <ian@cygnus.com>

	* Makefile.in (mostlyclean): Separate from clean target.  Don't
	remove *.a or targ-include.
	* libc/machine/sparc/Makefile.in (mostlyclean): New target.

Sun Sep  1 11:35:26 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/include/machine/ieeefp.h (_DOUBLE_IS_32BITS): Define for
	d10v.
	(__SMALL_BITFIELDS): Ditto.

	* libc/include/sys/config.h (_DOUBLE_IS_32BITS): Define for d10v.

Sat Aug 31 16:42:36 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/sys/sysnecv850/misc.c (raise, getpid, kill): Remove '_'
	prefix.

	* libc/sys/sysnecv850/sbrk.c (sbrk): Remove '_' prefix.
	* libc/sys/sysnecv850/syscalls.c (read, lseek, close): Likewise.
	* libc/sys/sysnecv850/syscalls.c (fstat, open, close): Likewise.
	* libc/sys/sysnecv850/write.c (write): Likewise.

	* libc/sys/sysnecv850/crt0.S: Don't try to zero out an empty
	.bss.

Fri Aug 30 11:18:45 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/include/sys/config.h: Define INT_MAX, UINT_MAX
	appropriately for D10V, depending on -mint16/-mint32.

Thu Aug 29 16:09:37 1996  Mark Alexander  <marka@cygnus.com>

	* configure.in: Add cases for D10V.

Thu Aug 29 17:03:23 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* configure.in (i[345]86-*-*): Recognize i686 for pentium pro.

Wed Aug 28 21:05:52 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/include/machine/ieeefp.h: Fix typo.

Wed Aug 28 19:47:55 1996  Mark Alexander  <marka@cygnus.com>

	* libc/sys/d10v: New directory for D10V stuff.
	* libc/include/machine/ieeefp.h: Add D10V defines.

Mon Aug 26 13:34:58 1996  Doug Evans  <dje@canuck.cygnus.com>

	* libc/include/sys/errno.h: Add winsup/include/sys/errno.h values:
	ELOOP, ENOBUFS, EAFNOSUPPORT, EPROTOTYPE, ENOTSOCK, ENOPROTOOPT,
	ESHUTDOWN, ECONNREFUSED, EADDRINUSE, ECONNABORTED, EWOULDBLOCK.
	* libc/string/strerror.c (strerror): Add them.

Thu Aug 22 16:38:19 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/sys/sysnecv850: New directory for v850 stuff.

	* libc/machine/v850: New directory for v850 stuff.
	* libc/machine/v850/setjmp.S: setjmp/longjmp support.

	* configure.in: Add support for the v850.

	* libc/include/machine/ieeefp.h: Add v850 defines.
	* libc/include/machine/setjmp.h: Likewise.
	* libc/include/sys/config.h: Add v850 defines.

Sat Aug 17 04:06:36 1996  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/machine/ieeefp.h
	* libc/include/machine/setjmp.h
	* libc/include/sys/fcntl.h
	* libc/include/sys/signal.h
	* libc/include/sys/types.h
	* libc/stdlib/system.c:
	Fix preprocessor defines to match new scheme (_WIN32 for WIN32
	API availability, __CYGWIN32__ for cygwin32 environment specific).

Thu Aug 15 17:09:21 1996  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/stdlib.h: add multibyte character functions.  Add
	__eprintf for assert.

Thu Aug 15 11:15:40 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/stdlib/malloc.h (MALLOC_ALIGNMENT): Use either pointer
	arithmetic or __alignof__ to properly get the alignment, instead
	of hardwiring it to 4.

Wed Aug 14 23:43:28 1996  Geoffrey Noer  <noer@cygnus.com>

	* libc/stdio/fseek.c: add fflush call to adjust seek offset
	on append stream (fix from NetBSD sources), adjust curoff offset
	for ungetc's benefit.
	* libc/stdio/ftell.c: adjust curoff offset for ungetc's benefit.
	* libc/stdio/rewind.c: replace code with up to date NetBSD
	code to undo hacks made to work around above problem of not
	having fflush call mentioned above

Fri Aug  2 18:28:07 1996  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/reent/{closer.c, execr.c, fstatr.c, linkr.c, lseekr.c,
	openr.c, readr.c, sbrkr.c, signalr.c, statr.c, timer.c, writer.c}:
	Partially revert last changes.  The thread specific errno is set
	iff if the underlying syscall fails and the global errno is not
	zero.

Fri Jul 19 11:41:52 1996  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/reent/filer.c: Removed files, all functions have split out
	into their own files.
	* libc/reent/{closer.c, lseekr.c, openr.c, readr.c, writer.c}:
	New files containing functions formally in filer.c
	* libc/reent/Makefile.in: Updated for above change.

	* libc/reent/execr.c (_fork_r, _wait_r): Set errno if underlying
	syscall fails, not if errno is changed.
	* libc/reent/filer.c (_open_r, _close_r, _lseek_r, _read_r,
	_write_r): Likewise.
	* libc/reent/fstatr.c (_fstat_r): Likewise.
	* libc/reent/linkr.c (_link_r, _unlink_r): Likewise.
	* libc/reent/sbrkr.c (_sbrk_r): Likewise.
	* libc/reent/signalr.c (_kill_r): Likewise.
	* libc/reent/statr.c (_stat_r): Likewise.
	* libc/reent/timer.c (_gettimeofday_r): Likewise.

	* libc/reent/{execr.c, filer.c, fstatr.c, linkr.c, sbrkr.c,
	signalr.c, statr.c, timer.c} (errno): declare extern rather
	than as a common.

	* libc/stdio/vfprintf.c (__sbprintf): Use the VFPRINTF macro
	instead of calling vfprintf so that i*printf will not require
	floating point support code.

Mon Jul 15 16:50:59 1996  Doug Evans  <dje@canuck.cygnus.com>

	* libc/posix/execvp.c (execvp): Use posix_path_list_p to determine
	path delimiter.
	* libc/include/sys/unistd.h (_SC_PATH_RULES): Delete.
	(_PATH_RULES_{UNKNOWN,WIN32,POSIX}): Delete.

Thu Jul 11 14:34:14 1996  Geoffrey Noer  <noer@cygnus.com>

	* libc/include/signal.h: _sig_func_ptr function takes an int
	* libc/include/sys/signal.h: sa_handler function takes an int

Tue Jul  9 21:22:32 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/include/machine/ieeefp.h: Simplify H8/S support.
	* libc/include/sys/config.h: Add missing H8/S conditional.

Sun Jun 30 12:05:46 1996  Doug Evans  <dje@canuck.cygnus.com>

	* libc/include/sys/unistd.h (MAXPATHLEN): Add cygwin32 value.

Wed Jun 26 09:57:54 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/include/machine/setjmp.h: Handle H8/S.
	* libc/include/machine/ieeefp.h: Likewise.
	* libc/include/sys/config.h: Likewise.
	* libc/machine/h8300/{defines.h, memcpy.S, memset.S}: Likewise.
	* libc/machine/h8300/{reg_memcpy.S, reg_memset.S}: Likewise.
	* libc/machine/h8300/{strcmp.S, setjmp.S}: Likewise.
	* libc/sys/h8300hms/crt0.S: Likewise.

Tue Jun 25 23:15:45 1996  Jason Molenda  (crash@godzilla.cygnus.co.jp)

	* Makefile.in (datadir): Set to $(prefix)/share.
	(oldincludedir, docdir): Removed.
	* doc/Makefile.in (datadir): Set to $(prefix)/share.
	(oldincludedir, docdir): Removed.
	* libc/Makefile.in (datadir): Set to $(prefix)/share.
	(oldincludedir, docdir): Removed.
	* libm/Makefile.in (datadir): Set to $(prefix)/share.
	(oldincludedir, docdir): Removed.

Fri Jun 21 19:24:41 1996  Ian Lance Taylor  <ian@cygnus.com>

	* libc/include/sys/reent.h (_REENT_INIT): Update for change to
	_reent struct.

Wed Jun 19 14:00:09 1996  Doug Evans  <dje@canuck.cygnus.com>

	* libc/posix/execvp.c: Delete _WIN32 support.  For __CYGWIN32__
	fetch current path rules with sysconf and handler posix/win32
	appropriately.

	* libc/include/sys/unistd.h (_PATH_RULES{,_POSIX,_WIN32}): Define.

	* libc/include/process.h: Prepend '_' to P_{WAIT,NOWAIT,OVERLAY}.
	(WAIT_CHILD): Always define.

Sat Jun 15 17:50:42 1996  Ian Lance Taylor  <ian@cygnus.com>

	* libc/stdlib/eprintf.c: New file.
	* libc/stdlib/Makefile.in (OFILES): Add eprintf.o.
	(eprintf.o): New target.

Thu Jun 13 16:44:32 1996  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/cygwin32/crt0.c (__cygwin_crt0_bp): New global.
	(mainCRTStartup): Do int3 if __cygwin_crt0_bp non-zero.

Thu Jun 13 17:45:17 1996  Mike Meissner  <meissner@rtl.cygnus.com>

	* libc/include/machine/ieeefp.h: Add support for AIX and Windows
	NT in PowerPC endianess cases.

Tue Jun 11 12:26:28 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/include/machine/ieeefp.h: Clean up PowerPC endianess.

Thu Jun  6 11:34:20 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/string/strtok.c: Fix doc typo.

Mon Jun  3 11:30:00 1996  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/include/sys/reent.h (struct _reent): Removed _asctime,
	_next, _scanpoint, _signgam fields.

	* libc/include/stdlib.h (rand_r): Added new declaration.
	(_rand_r, _srand_r): Removed declarations.
	* libc/stdlib/rand.c (_rand_r, _srand_r): Removed, these functions
	have been made obsolete by rand_r.
	* libc/stdlib/rand_r.c: New file, rand_r function as specified
	by POSIX.1c.

	* libc/string/strtok.c: Update documentation to describe
	strtok_r().

Sat Jun  1 23:50:39 1996  Michael Meissner  <meissner@cygnus.com>

	* libc/include/sys/stat.h (stat structure): Use the expanded stat
	structure on Solaris, and PowerPC systems even though __svr4__ is
	defined.

Tue May 28 13:02:42 1996  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/go32/sys/errno.h (ENOSYS,ESPIPE): Keep values <= 255.

Fri May 17 10:34:44 1996  Ian Lance Taylor  <ian@cygnus.com>

	* host/any: Use ../.. rather than .. to get to the main build
	directory.  This matches the current layout of the build
	directory.

Wed May 15 15:52:27 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/machine/h8300/__main.S: Delete.  No longer needed.
	* libc/machine/h8300/Makefile.in: Corresponding changes.
	* libc/sys/h8300hms/crt1.c: New file.
	* libc/sys/h8300hms/Makefile.in: Corresponding changes.
	* libc/sys/h8300hms/crt0.s: Call __main.

	* libc/sys/h8300hms/crt0.S: Use temporary label names
	for branch targets.

Mon May 13 14:26:30 1996  Doug Evans  <dje@canuck.cygnus.com>

	* libc/stdio/fopen.c (_fopen_r): Fix arguments to fseek.

Fri May  3 16:38:23 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/reent/impure.c (_impure_ptr): Force the impure pointer into
	.sdata on the PowerPC so that we can link newlib with code
	compiled with -msdata.

Mon Apr 29 21:38:02 1996  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/arm/syscalls.c (_sbrk): Rename end to __end__.

Thu Apr 25 06:38:59 1996  Michael Meissner  <meissner@cygnus.com>

	* libc/sys/cygwin32/crt0.c (mainCRTStartup): On PowerPC, set the
	exception handler to __cygwin_exception_handler.

Tue Apr 23 15:14:20 1996  Ian Lance Taylor  <ian@cygnus.com>

	* libc/include/machine/setjmp.h: Check _AM29K, not ___AM29K__.

Sun Apr 21 12:11:51 1996  Doug Evans  <dje@blues.cygnus.com>

	* libm/math/Makefile.in ({w,wf}_cabs.o,{w,wf}_drem.o): Add rule for
	SunOS VPATH.
	* libc/stdlib/Makefile.in (atoff.o,atol.o,mblen.o,mbstowcs.o,
	wcstombs.o): Likewise.

Thu Apr 18 12:37:01 1996  Doug Evans  <dje@canuck.cygnus.com>

	* libc/stdlib/environ.c (initial_env): New static local.
	(environ): Point to `initial_env'.

	* libc/include/machine/setjmp.h: Clean up.
	(__H8300H__,__PPC__): Define _JBTYPE.
	(__arm__): Provide entry for.
	(sigjmp_buf): Delete.
	(jmp_buf): Use _JBTYPE if defined, otherwise int.

Thu Apr 18 12:10:52 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/machine/h8300/strcmp.S: Sign extend the result to
	32bits so we don't lose with -mint32.

Sun Apr 14 19:59:52 1996  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/go32/sys/errno.h: New file.
	* libc/sys/go32/Makefile.in (stat.o): Depend on stat.c.
	* libc/sys/go32/gerrno.s (syscall_error): Call __errno to get
	errno's address (make compatible with rest of newlib).
	* libc/sys/go32/stat.c (fixinode): Set errno upon failure.
	* libc/string/strerror.c (strerror): Surround each case with #ifdef.

Thu Mar 28 13:44:42 1996  Doug Evans  <dje@canuck.cygnus.com>

	* libc/machine/sparc/{scan.c,shuffle.c}: New files.
	* libc/machine/sparc/Makefile.in: Build them.
	* libc/machine/sparc/machine/sparclet.h: New file.

Mon Mar 25 15:29:14 1996  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/machine/sh/asm.h: New file.
	* libc/machine/sh/setjmp.S: Only save clobbered registers.  Added
	support for SH3e's FP registers.  Use asm.h.

Mon Mar 25 11:59:23 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/stdio/vfprintf.c (cvt): Accept a reent structure
	as first argument.  Call _dtoa_r and pass the reent structure
	instead of calling __dtoa.

Fri Mar 22 13:59:37 1996  Jeffrey A Law  (law@cygnus.com)

	* libc/include/sys/config.h: Define DOUBLE_IS_32BITS for
	the h8300, h8500, and others.  Add comments for some rather
	dubious code.

Thu Mar 14 18:04:43 1996  Ian Lance Taylor  <ian@cygnus.com>

	* Makefile.in (check): Check that testsuite exists before cd.

Tue Mar 12 11:46:47 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/include/string.h (strsep): Correct prototype.

Mon Mar 11 09:55:19 1996  Doug Evans  <dje@charmed.cygnus.com>

	* libc/sys/h8300/_exit.c (_exit,__exit): Set r0 to 0 before `sleep'.
	* libc/sys/h8300/misc.c (_kill): Set r0 to indicate abort and `sleep'.
	* libc/sys/h8300/crt0.S (_start): Call exit instead of `sleep'.

Wed Mar  6 11:51:55 1996  Doug Evans  <dje@charmed.cygnus.com>

	* libc/posix/{creat.c,isatty.c}: New files.
	* libc/posix/Makefile.in (OFILES): Add creat.o, isatty.o.

	* libc/sys/sparc64/crt0.S (environ): Delete.
	(.LHaveBias): Renamed from HaveBias.

Thu Feb 15 10:48:37 1996  Doug Evans  <dje@charmed.cygnus.com>

	* libc/stdlib/mallocr.c (etext): Move decl inside ifdef WARN_VLIMIT.
	(_morecore_r): Delete SBRK_IS_ALLOC support.

Tue Feb 13 09:44:09 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/sys/cygwin32/Makefile.in (lib.a): Make lib.a with a dummy
	module rather than touch, so we don't get warning messages when
	all of the libraries are combined into libc.a.

Tue Feb 13 06:32:07 1996  Doug Evans  <dje@charmed.cygnus.com>

	* libc/sys/sparclite/{Makefile.in,crt0.s}: Deleted.
	crt0.s replaced by version in libgloss.

Mon Feb  5 15:17:51 1996  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/reent/Makefile.in (OFILES): Add impure.o.
	* libc/reent/impure.o: New file, define initial reentrancy struct.
	* libc/reent/reent.c: Remove above definition.

	* libm/math/sf_asinh.c: Fix typo.

	* Makefile.in (MATHOBJS_IN_LIBC): Removed sr_ldexp.o and
	srf_ldexp.o.

	* libm/libm.texinfo: Change documentation to reflect changes
	in reentrancy model.
	* libm/math/w_gamma.c: Likewise.

Wed Jan 31 18:49:45 1996  Steve Chamberlain  <sac@slash.cygnus.com>

	* configure.in (*-*-cygwin32): New.
	(*-*-win32): Deleted.
	* libc/sys/win32 renamed libc/sys/cygwin32.

Tue Jan 30 22:09:03 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/include/sys/file.h: New include file.

Fri Jan 26 15:52:54 1996  Steve Chamberlain  <sac@slash.cygnus.com>

	* libc/include/machine/setjmp.h: Increase size of PPC jmp_buf.

Tue Jan 23 17:49:16 1996  Steve Chamberlain  <sac@slash.cygnus.com>

	* libc/include/sys/wait.h (WIFSIGNALED): Fix.

Tue Jan 16 09:28:10 1996  Michael Meissner  <meissner@tiktok.cygnus.com>

	* doc/makedoc.c (realloc): Declare at file scope.
	(catchar): Not here.

Wed Dec 27 15:45:23 1995  Doug Evans  <dje@canuck.cygnus.com>

	* Makefile.in (VERSION): Update to 1.7.0.
	* {libc,libm}/Makefile.in (VERSION): Likewise.
	* configure.in: Minor clean up of multilib stuff.

	From David Johnson <davidj@ICSI.Berkeley.EDU>
	* {libc,libm}/Makefile.in (lib[cm].a): Delete library first.

	* libc/stdlib/environ.c: New file.
	* libc/stdlib/Makefile.in (OFILES): Build it.
	* libc/sys/h8500hms/crt0.c (environ): Deleted.
	* libc/sys/m88kbug/crt0.c (environ): Deleted.
	* libc/sys/z8ksim/crt0.c (environ): Deleted.
	* libc/sys/netware/environ.c: Deleted.

Tue Dec 19 15:24:46 1995  Kim Knuttila  <krk@cygnus.com>

	* configure.in (links): set sys_dir, posix_dir, syscall_dir

Wed Dec 13 04:16:25 1995  Michael Meissner  <meissner@wogglebug.tiac.net>

	* doc/makedoc.c (init_string_with_size,nextword): Move malloc
	declaration out to external scope and declare it PTR, not char *.

Mon Dec 11 17:35:12 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/include/sys/unistd.h (getpagesize): New declaration.
	(_SC_PAGESIZE): New definition.
	* libc/include/time.h (CLK_TCK): Defined as CLOCKS_PER_SEC.
	* libc/configure.in (i[345]86-*-win32): Remove -DNO_FORK.

Fri Dec  1 16:48:46 1995  James G. Smith  <jsmith@cygnus.co.uk>

	* libc/sys/vr4300/syscalls.c (sbrk): Fixed memory
	addressing. System call returns size, not (last address + 1).

Thu Nov 30 15:05:26 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libm/math/*.c: Removed _foo_r() reentrancy API.
	* libc/include/math.h: Removed _foo_r prototypes and macros.

	* libm/math/*.c: On systems with IEEE single precision "doubles"
	move foo() -> foof() wrapper code from the files that implement
	the standard IEEE double precision functions to the files that
	implement IEEE single precision functions. (ie. On those systems
	sin is moved from s_sin.c to sf_sin.c).  There should eventually
	be use of a C extension (like gcc's alias attribute) so that the
	wrappers are not needed at all.

	* libc/sys/sysnec810/sbrk.c: Cast &end to char * to get around
	strict NEC V810 compiler.
	* libc/misc/dprintf.c (getnumber): Cast char * to unsigned char *
	for same reason.

Wed Nov 29 14:25:05 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/stdlib/strtol.c (_strtol_r): Replaced with implementation
	from NetBSD C library.
	* libc/stdlib/strtoul.c (_strtoul_r): Likewise.

	* libc/stdlib/assert.c (__assert): Renamed from __assertfail
	and adapted from implementation I wrote for NetBSD C library.
	The difference is __assert doesn't take a format argument,
	so that there won't be multiple copies of the same string
	constant in the executable if assertions are enabled in
	more than one source module.
	* libc/include/assert.h (assert): Changed to call __assert.

Tue Nov 28 16:54:26 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/stdlib/strtod.c (_strtod_r): Changed to not assign to
	word1 on systems with 32 bit doubles.
	* libc/stdlib/qsort.c (qsort): Cast some void *'s to char *'s
	so that	we can do arithmetic on them.
	* libc/misc/dprintf.c: Changed to support stdarg.h for ANSI
	compilers.

Tue Nov 28 16:03:32 1995  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/arm/crt0.S: Zero bss.

Fri Nov 24 16:09:23 1995  Doug Evans  <dje@deneb.cygnus.com>

	* libc/include/unctrl.h: New file.
	* libc/misc/{Makefile.in,dprintf.c,unctrl.c,misc.tex}: New files.
	* configure.in (subdirs): Add libc/misc.
	* libc/Makefile.in (SUBDIRS): Add misc.
	(SUBLIBS): Add misc/lib.a.

	* libc/include/sys/reent.h (struct _reent): Make __sf last member.

Wed Nov 22 19:49:47 1995  Doug Evans  <dje@deneb.cygnus.com>

	* libc/stdio/vfprintf.c (__sbprintf): Init fake._data.
	(_vfprintf_r): Call CHECK_INIT.

Tue Nov 14 02:52:12 1995  Doug Evans  <dje@canuck.cygnus.com>

	* Makefile.in (MULTITOP): Delete.
	(MULTISRCTOP, MULTIBUILDTOP): Add.
	* configure.in: Delete call to cfg-ml-com.in.  Call config-ml.in
	instead of cfg-ml-pos.in.

Wed Nov  8 01:24:08 1995  James G. Smith  <jsmith@pasanda.cygnus.co.uk>

	* libc/sys/vr4300/syscalls.c: Added clean version of sbrk().
	* libc/sys/vr4300/crt0.S: Cleaned up. Added check for FPU
	presence.

Thu Nov  2 22:25:06 1995  Michael Meissner  <meissner@tiktok.cygnus.com>

	* libc/string/strtok.c: Include string.h to pick up strtok_r
	prototype.

Wed Nov  1 18:54:11 1995  Jason Molenda  (crash@phydeaux.cygnus.com)

	* libc/string/strtok.c: include <_ansi.h>.
	* libc/time/asctime_r.c: `reresult' -> `result'.

Wed Nov  1 14:35:52 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/time/{ctime.c, gmtime.c, lcltime.c}: Wrap functions
	in #ifndef _REENT_ONLY ... #endif conditional.

	* libc/include/string.h (_strtok_r): Remove declaration.
	* libc/include/time.h (_asctime_r): Remove declaration.
	* libc/string/strtok.c (_strtok_r): Removed.
	* libc/time/asctime.c (_asctime_r): Removed.

	* libc/string/Makefile.in (OFILES): Add new object.
	* libc/string/strtok_r.c: New file.  strtok_r function as
	specified by POSIX.1c, adapted from strtok implementation
	from NetBSD C library.
	* libc/string/strtok.c (strtok): Reimplemented in terms of
	strtok_r.

	* libc/time/Makefile.in (OFILES): Add new objects.
	* libc/time/{asctime_r.c, ctime_r.c, gmtime_r.c, lcltime_r.c}:
	New files, reentrant time functions specified by POSIX.1c.
	* libc/time/{asctime.c, ctime.c, gmtime.c, lcltime.c}: Non-
	reentrant time functions re-written in terms of reentrant
	functions.
	* libc/time/lcltime.c: Renamed from localtime.c

	* libc/include/time.h: Add prototypes for asctime_r, ctime_r,
	gmtime_r, and localtime_r.

Sat Oct 28 14:34:31 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/sys/win32/crt0.c (mainCRTStartup): Call cygwin_crt0.
	* libc/include/sys/unistd.h (getlogin): Revert change of
	Oct 19.
	* libc/include/sys/signal.h (sigprocmask): Change prototype
	so it compiles with c++.

Wed Oct 25 15:43:18 1995  Michael Meissner  <meissner@cygnus.com>

	* libc/include/machine/setjmp.h (PowerPC _JBLEN): Consider it a
	PowerPC if __PPC__ is defined.  Bump jump_buf length to 62 ints,
	to give some room in case we need to align the jmp_buf.

	* libc/machine/powerpc/setjmp.S (setjmp, longjmp): Rewrite to use
	the new ppc-asm.h include file the compiler provides to specify
	function prologue/epilogue.  Eliminate saves of the xer and ctr
	registers, which are volatile.  Before starting to save registers,
	align to 8 byte boundary.

Mon Oct 23 11:20:51 1995  James G. Smith  <jsmith@pasanda.cygnus.co.uk>

	* libc/sys/vr4300/syscalls.c: Added empty kill() function,
	referenced by standard libraries.

Thu Oct 19 21:39:47 1995  Fred Fish  <fnf@cygnus.com>

	* libc/unix/Makefile.in, libc/string/Makefile.in,
	libc/stdio/Makefile.in, libc/reent/Makefile.in,
	libc/posix/Makefile.in:
	Remove tabs from otherwise empty line.  Confuses some
	older non-GNU versions of "make".

Thu Oct 19 16:32:17 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/sys/unistd.h (getlogin): Returns const char *.

Wed Oct 18 12:57:50 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/include/fcntl.h (O_BINARY, O_TEXT): New.
	* libc/include/errno.h: Moved into and include...
	* libc/include/sys/errno.h: New file.
	* libc/include/sys/wait.h: New file.
	* libc/stdio/rename.c (_rename_r): Use _rename system call if available.
	* libc/sys/win32/*: Moved out.
	* libc/sys/win32/crt0.c: Rewritten to cope with shared library.
	* configure.in (i[345]86-*-win32): HAVE_RENAME

Wed Oct 18 09:58:27 1995  Brendan Kehoe  <brendan@lisa.cygnus.com>

	* libc/unix/sigset.c (sigemptyset, sigaddset): Prefix #undef to
	avoid macro expansion for these two names.

Tue Oct 17 08:45:33 1995  Doug Evans  <dje@canuck.cygnus.com>

	* libc/machine/h8500/psi.S: r6 renamed to fp.

Sun Oct 15 12:58:10 1995  Michael Meissner  <meissner@wogglebug.tiac.net>

	* configure.in (powerpc*): No longer need to define
	NO_LONGLONG_POINTERS to supress warnings.

Sat Oct 14 12:55:08 1995  Jim Wilson  <wilson@chestnut.cygnus.com>

	* libc/reent/reent.c (_reclaim_reent): Call cleanup indirectly
	through PTR instead of directly.

	* libc/sys/sh/crt0.S: Clean up formatting.  Delete unused
	non-standard constructor support.

Thu Oct 12 11:39:42 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/stdlib/dtoa.c (_dtoa_r): Set result pointer to the
	address of the Bigint instead of the address of its _x field,
	as the size the result buffer was calculated accordingly.
	Fix from Jim Wilson <wilson@chestnut@cygnus.com>.

	* libc/stdlib/{div.c, ldiv.c}: Replaced with implementation
	from NetBSD C library.  No longer special cases division by
	zero (which needs to be done by the application anyway), but
	it doesn't need to call abs() (or labs()) four times either.

	* libc/stdlib/qsort.c: Replaced with implementation from
	NetBSD C library.

Tue Oct 10 14:01:10 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/stdio/vfprintf.c: Replaced with implementation from
	NetBSD C library (which is derived from the 4.4BSD C library).
	* libc/stdio/cvt.c: Removed.
	* libc/stdio/Makefile: Updated.

Tue Oct 10 12:15:23 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/sys/win32/syscalls.c (rename): New.
	* libc/sys/win32/include/winkernel.h (MoveFileExA): New.

Fri Oct  6 12:18:43 1995  Jim Wilson  <wilson@chestnut.cygnus.com>

	* libc/machine/sh/Makefile.in (setjmp.o): Depend on setjmp.S.
	* libc/machine/sh/setjmp.S: Rename from setjmp.s.

	* libc/sys/sh/Makefile.in (OFILES, all): Delete setjmp.o.
	(setjmp.o): Delete rule to build setjmp.o.
	* libc/sys/sh/setjmp.S: Delete file.

Fri Oct  6 11:19:05 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/stdlib/mprec.c (d2b): Added support for _DOUBLE_IS_32BITS.
	* libc/stdlib/mprec.h: Fixed constants used for IEEE single float
	format.  Added #defines to map d2b, i2b, low0bits, lshift, mult,
	pow5mult and s2b to identifiers with leading underscores.
	* libc/stdlib/Makefile.in: Add mprec.h as a dependency to dtoa.o,
	ecvtbuf.o, mprec.o and strtod.o.  Sort dependencies.

Thu Oct  5 17:27:30 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/sys/posix/popen.c (sys/types.h): Include.

Thu Oct  5 16:33:01 1995  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/win32/syscalls.h (fhandler): New struct.
	(__lookup_fhandler, __lookup_fhandler_hook): Declare.
	(__fhandler_normal): Declare.
	(hinfo): New member op_handlers.
	* libc/sys/win32/syscalls.c (__read): Don't validate fd.
	(__write): Likewise.
	(_read, _write, _open, _close, _lseek): Validate fd here.
	Move file type specific stuff to foo_normal.
	(read_normal, write_normal, open_normal, close_normal, lseek_normal):
	New functions.
	(__lookup_fhandler): New function.
	(__lookup_fhandler_hook, __fhandler_normal): New variables.

	From anders.blomdell@control.lth.se (Anders Blomdell)
	* libc/sys/win32/crt0.c (vfork_init): Unset __FD_TABLE__.
	Don't touch standard handles.
	* libc/sys/win32/spawn.c (_spawn): Use STARTF_USESTDHANDLES.
	(_execve): Only create __FD_TABLE__ if necessary.
	* libc/sys/win32/include/winkernel.h (STARTF_*): Define.

Thu Oct  5 14:25:14 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/sys/win32/sys/termios.h (FLUSHO): New.
	* libc/sys/win32/include/win*.h: Moved a load of prototypes around.
	* libc/sys/win32/pipe.c (_fctnl): Ignore F_SETFL without errors.
	* libc/sys/win32/exception.c (ehandler3): set strace when a signal
	without a handler is received.
	* libc/sys/win32/Makefile.in: Remove --nodelete.
	* libc/sys/win32/resouce.c (gettimeofday): New.
	* libc/sys/win32/syscalls.c (path_to_real_path): New.
	* libc/sys/win32/syscalls.h (include/wincon.h): Don't include.

Wed Oct  4 13:10:35 1995  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/win32/dirsearch.c (opendir): stat real path name.
	Don't append "/*" to search pattern if trailing '/' already there,
	append "*".
	* libc/sys/win32/spawn.c (_spawn): CreateProcess doesn't seem to
	like /'s, convert them to \'s.  Handle //<drive>/ path names.
	Add space for quoted \'s in arg string.  Print translated prog name
	and original prog name.
	(_execve): Handle parent doing exec a teensy bit better.
	* libc/sys/win32/syscalls.h (__path_to_real_path): Update prototype.
	* libc/sys/win32/syscalls.c (__path_to_real_path): Don't assume
	path needs conversion, handle both cases.  Delete `const' from result.
	(hash_path_name): New function.
	(_open): Call it.
	(_stat): Likewise.  Fill in more fields for directories.
	* libc/sys/win32/wait.c (_wait): Explicitly pass -1 to waitpid.
	(wait_for_any): Fix trace message.
	(waitpid): Explicitly test for intpid == 0.

	From anders.blomdell@control.lth.se (Anders Blomdell)
	* libc/sys/win32/spawn.c (__vfork_get_empty_entry): zero fill result
	so `next' is valid.

Sat Sep 30 15:00:15 1995  Jason Molenda  (crash@phyeaux.cygnus.com)

	* libc/sys/win32/spawn.c (_spawn): Make quoting rules more
	complicated.

Sat Sep 30 10:25:57 1995  Jason Molenda    (crash@phydeaux.cygnus.com)

	* libc/include/_ansi.h: set _HAVE_STDC if __STDC__ is defined
	at all, not just == 1.
	* libm/math/wf_acos.c (acosf): check for _HAVE_STDC, not __STDC__.

Sat Sep 30 04:30:09 1995  Jason Molenda   (crash@phydeaux.cygnus.com)

	* libc/sys/win32/include/winbase.h: include <wintypes.h> and <winnt.h>
	* libc/sys/win32/include/wintypes.h: include <winnt.h>
	* libc/sys/win32/include/winnt.h: avoid multiple inclusion of this
	file.

Fri Sep 29 01:49:17 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/sys/syscalls.c (getcwd): Fix off by one error.

	* libc/sys/signal.c (sleep): Fill it in.
	* libc/sys/termios.c (tcflush): Use PurgeComm
	(tcsetattr): Set some more of the bits.
	* libc/sys/include/winkernel.h: Add PurgeComm and Sleep.

Fri Sep 29 04:33:53 1995  Doug Evans  <dje@deneb.cygnus.com>

	* libc/sys/arm/crt0.S (fp): Initialize to 0.
	Conditionally include .idata$3 stuff ifdef __pe__.

Fri Sep 29 01:49:17 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/sys/win32/crt0.c (hmap_init): Call __init_hinfo.
	* libc/sys/win32/pipe.c (pipe): Ditto.
	* libc/sys/win32/syscalls.c (__read):  Use new vtime and vmin fields.
	* libc/sys/win32/syscalls.h (hinfo): vtime, vmin are new.
	* libc/sys/win32/termios.c (tcsetattr): Init new fields.
	(tcgetattr): Contents are new.
	* libc/sys/win32/include/winkernel.h (DCB): New.
	(GetCommState, SetCommState): New.

Thu Sep 28 16:29:09 1995  Doug Evans  <dje@deneb.cygnus.com>

	* libc/sys/arm/crt0.S (_start): Define.

Thu Sep 28 12:26:45 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/sys/arm/crt0.S: Move stack to top of RAM on PIE board.
	* libc/sys/arm/syscalls.c (_read, _write): Use the SWI properly.

	* libc/sys/win32/sysconf.c: New
	* libc/sys/win32/sys/winadvapi.h: New
	* libc/sys/win32/syscalls.h (hinfo): Added timeout_len, w_binary, r_binary.
	* libc/sys/win32/crt0.c (hmap_init): Initialize new fields.
	* libc/sys/win32/pipe.c (pipe): Ditto.
	* libc/sys/win32/signal.c (_raise): New.
	(_kill): Moved from spawn.c
	* libc/sys/win32/spawn.c (kill): Moved to signal.c
	* libc/sys/win32/syscalls.c (__read): Use new fields.
	(_open): Ditto.
	* libc/sys/win32/termios.c (tcflush, tcsetattr, tcgetattr): Fill in.
	* libc/sys/win32/exceptions.c (__stack_trace): Keep going for longer.
	* libc/include/sys/unistd.h (rmdir): Takes const path.
	* libc/include/sys/stat.h (mkdir): Takes const path.
	* libc/include/sys/signal.h (SIGTTOU, SIGTTIN): New for win32.

Thu Sep 28 10:11:27 1995  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/win32/spawn.c (_spawn): Fix quoting.

	Add support for specifying paths as //<drive>/foo/bar.
	* libc/sys/win32/syscalls.h (__path_needs_conversion_p): Declare.
	(__path_to_real_path): Declare.
	(PATH_TO_REAL_PATH): New macro.
	* libc/sys/win32/syscalls.c (__win32_pid_to_posix_pid): Minor cleanup.
	(__path_needs_conversion_p, __path_to_real_path): New functions.
	(_open): Fix test for error return from CreateFileA.
	Handle new path syntax.
	(_link, mkdir, rmdir, getcwd, chdir, stat): Handle new path syntax.
	* libc/sys/win32/dirsearch.c (opendir): Likewise.

Wed Sep 27 16:36:46 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/sys/win32/include/*.h: Reorganized
	* libc/sys/win32/include/WINREADME: New.
	* libc/sys/win32/Makefile.in (DLLS): Build version.a.
	* libc/sys/win32/*.c: Fix for new include scheme.
	* libc/sys/win32/crt0.c (__this_uinfo_buf, __this_uinfo): New.
	* libc/sys/win32/getlogin.c (getlogin): Use uinfo.
	* libc/sys/win32/passwd.c (*): Fix.
	* libc/sys/win32/syscalls.c (get[e|][g|u]id): Use passwd info.
	(_stat): Get directory owner and permissions right.
	* libc/sys/win32/syscalls.h (uinfo): New.
	* libc/sys/win32/version.def: Remove leading underscores.

Tue Sep 26 18:18:47 1995  Jason Molenda  (crash@phydeaux.cygnus.com)

	* libc/sys/win32/key.c: include "include/wincon.h".

Tue Sep 26 07:21:48 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/sys/win32/{key, stubs}.c: New.
	* libc/sys/win32/Makefile: Adjust to cope.
	* libc/sys/win32/crt0.c (vfork_init_first): Cope with -ve pids.
	(environ_init): Change env names to upper case.
	* libc/sys/win32/dirsearch.c (readdir): Don't fill in inode number.
	* libc/sys/win32/passwd.c (*): Fill in the functions.
	* libc/sys/win32/pipe.c (_fcntl): F_GETFL returns O_RDWR.
	* libc/sys/win32/spawn.c (_spawn): Cope with -ve pids.
	* libc/sys/win32/syscalls.c (__win32_pid_to_posix_pid): New function.
	(_open): Initialze hmap->execable_p too.
	* libc/sys/win32/syscalls.c (getuid, getgid, geteuid, getegid): Return from macros.
	(_fstat): Fill in permissions.
	* libc/sys/win32/syscalls.h (hinfo): Add execable_p.

Fri Sep 22 13:47:27 1995  Doug Evans  <dje@canuck.cygnus.com>

	* configure.in (cfg-ml-com.in invocation): Use ${with_multilib_top}
	if defined.
	(cfg-ml-pos.in invocation): Likewise.

Fri Sep 22 11:43:44 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* Makefile.in (MATHOBJS_IN_LIBC): Added s_isinf.o, sf_isinf.o,
	s_isnan.o and sf_isnan.o.

Wed Sep 20 14:50:19 1995  Ian Lance Taylor  <ian@cygnus.com>

	* All Makefile.in files: added maintainer-clean target as a
	synonym for realclean.

Wed Sep 20 11:02:50 1995  Jeff Law  (law@snake.cs.utah.edu)

	* libc/include/machine/setjmp.h: Add hppa support.
	* libc/machine/hppa/setjmp.S: New file with setjmp/longjmp
	support.
	* libc/machine/hppa/Makefile.in: Related changes.

Tue Sep 19 12:09:01 1995  J.T. Conklin  <jtc@blues.cygnus.com>

	* configure.in (machine_dir): Don't set for v810-*-*.

Fri Sep 15 20:22:08 1995  Jason Molenda  (crash@phydeaux.cygnus.com)

	* libc/sys/win32/crt0.c (passover): Change to handle MKS quoting
	conventions correctly.

Thu Sep 14 13:37:22 1995  J.T. Conklin  <jtc@blues.cygnus.com>

	* libc/stdio/puts.c: Update documentation of return value to match
	ANSI standard.

Thu Sep 14 01:52:37 1995  Doug Evans  <dje@canuck.cygnus.com>

	Fix file descriptor inheritance.
	* libc/sys/win32/syscalls.h (CHILD_P): Define again.
	(NOT_OPEN_FD): Fix.
	* libc/sys/win32/spawn.c (vfork0): Only create inheritable handle if
	close-on-exec flag not set.  Initialize child's entire fd table.
	* libc/sys/win32/syscalls.c (_open): Only create inheritable handle if
	CHILD_P.
	* libc/sys/win32/pipe.c (pipe): Only create new handle as inheritable
	if CHILD_P.  Initialize entire hmap entry.
	(dup): Only create new handle as inheritable if CHILD_P.
	(dup2): Likewise.  Properly initialize hmap entry.

	* libc/sys/win32/spawn.c (_execve): Don't pass _P_SEARCH_PATH to
	_spawn.
	(_exit): Use CHILD_P.
	* libc/sys/win32/syscalls.c (_fstat): Fix call to memset.
	(_stat): Likewise.

Mon Sep 11 23:09:39 1995  Jason Molenda  (crash@phydeaux.cygnus.com)

	* libc/sys/win32/crt0.c (passover): fix up the state table.
	* libc/posix/popen.c: Added.
	* libc/posix/Makefile.in: compile popen.c.

Mon Sep 11 11:43:38 1995  J.T. Conklin  <jtc@cygnus.com>

	* libc/include/machine/ieeefp.h: On the h8/300, h8/300h and
	h8/500 define _DOUBLE_IS_32BITS.

Sat Sep  9 17:55:54 1995  Doug Evans  <dje@canuck.cygnus.com>

	Get vfork/exec/spawn/cwait/wait working again.
	* libc/sys/win32/syscalls.h (VFORK_NEWBORN_PSEUDO_PID): Define.
	(procinfo): New member vfork_level.
	* libc/sys/win32/crt0.c (__vfork_next_pid): Delete.
	(vfork_init_first): Use GetCurrentProcessId to get pid.
	Initialize vfork_level.
	(vfork_init): Delete __PID__.
	(environ_init): New function.  Undo patch of Aug 19, Posix says
	environment variables are case sensitive.
	(mainCRTStartup): Call it.
	* libc/sys/win32/spawn.c (__vfork_next_pid): Delete.
	(my_longjump: Make static.
	(_spawn): New argument `h'.  Delete setting of __PID__.
	Delete local `idx'.  Look for chars that need quotes, rather than
	ones that don't.  Set handle of created process in `h'.
	Result is process id if created task.
	(allocate_spawn_entry): New function.
	(spawnvp, spawnv): Call it.  Store handle and pid in procinfo entry.
	(_execve): Set __FD_TABLE__ before spawning child.
	Scan our fd table when passing fds, not our parent's.
	Store handle and pid in procinfo entry.
	(vfork0): Ensure strace message always printed.
	Set child pid to VFORK_NEWBORN_PSEUDO_PID.
	(vfork): Don't clobber result of vfork0.
	* libc/sys/win32/wait.c (cwait): Fix non-error result (is pid).
	(wait_for_any): Ignore processes in state FORK_STATE_VFORK_0.

	* libc/sys/win32/syscalls.h (procinfo): New members `handle_valid_p'
	and `exit_code'.
	* libc/sys/win32/spawn.c (allocate_spawn_entry): Initialize them.
	(vfork0): Likewise.  Distinguish children, grandchildren, etc. by
	adding vfork level to pseudo-pid.
	(vfork1): If not root, set state back to FORK_STATE_VFORK_0.
	(spawnvp, spawnv, _execve): Set handle_valid_p if success.
	(_exit): If child, set exit code.
	(__vfork_record_death): Only close process handle if valid.
	* libc/sys/win32/wait.c (wait_for_single): Watch for children that
	didn't exec.
	(wait_for_any): Likewise.  Start scan after root entry.

Fri Sep  8 18:48:02 1995  Jason Molenda   (crash@phydeaux.cygnus.com)

	* libc/include/sys/types.h (off_t): off_t back to 32 bits.
	* libc/include/sys/_types.h (_off_t): _off_t back to 32 bits.
	* libc/sys/win32/syscalls.c (_fstat): st_size is lower 32-bits
	of actual file length.

	* libc/sys/win32/sys/wait.h: include <sys/types.h>.
	* libc/include/paths.h: _PATH_BSHELL added.
	* libc/include/sys/unistd.h: define STDIN_FILENO, STDOUT_FILENO,
	and STDERR_FILENO.

Thu Sep  7 21:02:22 1995  Jason Molenda   (crash@phydeaux.cygnus.com)

	* libc/include/ar.h: Added.
	* libc/include/sys/types.h: ino_t goes back to 32-bits.
	* libc/sys/win32/syscalls.h (hinfo): added .namehash field.
	* libc/sys/win32/syscalls.c (_open): compute .namehash based
	on filename.
	(_fstat): use .namehash for inode number of the fd.

Thu Sep  7 12:57:19 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/sys/win32/{console,ioctl,pipe,spawn,syscalls,wait}.? (*):
	 Change hinfo to __this_procinfo.
	* libc/sys/win32/crt0.c: Remove procinfo_list.

Wed Sep  6 18:38:26 1995  Jason Molenda  (crash@phydeaux.cygnus.com)

	* libc/include/sys/types.h (ino_t): Define ino_t correctly for
	win32 environment.

Wed Sep  6 18:09:29 1995  Jason Molenda   (crash@phydeaux.cygnus.com)

	* libc/sys/win32/include/grp.h: Removed.
	* libc/sys/include/grp.h: Added.
	* libc/sys/win32/grp.c: Include <grp.h>.

Wed Sep  6 16:52:48 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/include/sys/signal.h (__need_MAX_SIGNALS): Removed.
	(sigset_t, sigaction, SIG_SETMASK, SIG_BLOCK, SIG_UNBLOCK):
	Defined for all but strict ANSI.
	* libc/include/sys/reent.h (__need_MAX_SIGNALS): Removed.
	* libc/include/machine/setjmp.h: Get win32 _JBLEN right.
	* libc/signal/signal.c (_signal_r): Changed from using
	_MAX_SIGNALS to NSIG.
	* libc/sys/win32/crt0.c (__current_pid, __parent_hmap, __child_hmap,
	 __hmap): Deleted.
	(__strace, __vfork_next_pid): New.
	(__exe_suffix): Default to 1.
	(passover, table): Understand quoted arguments.
	(vfork_init_first): New.
	(vfork_init): Initialize new process structure.
	(mainCRTStartup): Pass environ to main.
	* exceptions.c (__sig_mask): New
	(ehandler3): Ignore signals in mask.
	(really_exit): Remove CHILD_P test.
	* pipe.c (pipe, dup, dup2): Use new process and file structure.
	* resource.c (getrusage): Ditto.
	* signal.c (sigprocmask): New.
	* spawn.c (*): Rewritten.
	* syscalls.c (*): Use new process and file structure.
	(find_unused_handle): New.
	* syscalls.h (MAX_HANDLES): Deleted.
	(hinfo): Removed child_created_p.
	(MAX_CHILDREN): Deleted.
	(vfork_jmp_info, procinfo): New.
	* wait.c (*): Mostly new.
	* sys/strace.h (_STRACE_PARANOID): New.
	* sys/param.h: New file.

Wed Sep  6 17:03:53 1995  Jason Molenda  (crash@phydeaux.cygnus.com)

	* libc/include/sys/stat.h: add S_BLKSIZE.
	* libc/include/sys/_types.h: _off_t is a 64-bit type under win32.
	* libc/include/sys/types.h: define off_t and ino_t to be 64 bit
	types under win32.
	(mode_t): add a #else to avoid multiple definitons.

	* libc/sys/win32/Makefile.in: add grp.c.
	* libc/sys/win32/grp.c: include grp.h correctly.
	* libc/sys/win32/syscalls.c (_fstat): set almost all of the fields
	of the st structure with real information.
	* libc/sys/win32 (dirent): d_ino is of type ino_t.

Wed Sep  6 10:41:34 1995  Doug Evans  <dje@canuck.cygnus.com>

	* libc/include/sys/types.h (mode_t): Correct for svr4 sparc's
	and (maybe) sparc64.
	(nlink_t): Provide typedef.

Tue Sep  5 18:46:05 1995  Jason Molenda   (crash@phydeaux.cygnus.com)

	* libc/sys/win32/grp.c: New file.
	* libc/sys/win32/include/grp.h: New file.

Tue Sep  5 13:47:27 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/include/machine/ieeefp.h: Added whitespace to make this
	file easier to maintain.
	On the sh, define either __IEEE_BIG_ENDIAN or __IEEE_LITTLE_ENDIAN
	depending on the value of __LITTLE_ENDIAN__.
	On the sh3e, define _DOUBLE_IS_32BITS.

Fri Sep  1 15:35:18 1995  James G. Smith  <jsmith@beauty.cygnus.com>

	* libc/sys/vr4300/syscalls.c: Added missing support
	routines. _raise() and getpid().

Fri Sep  1 14:12:48 1995  James G. Smith  <jsmith@rtl.cygnus.com>

	* configure.in (mips*vr4300*-*-elf): Fixed silly mistake

Fri Sep  1 08:42:11 1995  James G. Smith  <jsmith@beauty.cygnus.com>

	* configure.in (mips*vr4300*-idt-*) Add support for RISQ monitor
	and VR4300 processor.
	* libc/sys/vr4300: Add directory.
	* libc/sys/vr4300/{Makefile.in, crt0.S, syscalls.c}: Add SIM
	monitor run-time support.

Thu Aug 31 09:16:52 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/stdlib/Makefile.in (CHEWOUT_FILES): Removed atol.def.
	* libc/stdlib/stdlib.tex: Don't include atol.def.

Wed Aug 30 20:38:28 1995  Jason Molenda  (crash@phydeaux.cygnus.com)

	* libc/sys/win32/uname.c (uname): hardcode processor as `i386'.

Wed Aug 30 10:48:08 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/ctype/Makefile.in: Fill in _to* dependencies.

Tue Aug 29 17:14:29 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/sys/win32/{dirsearch.c,sys/dirent.h}: Fix namespace problems.
	* libc/sys/win32/sys/dirent.h (struct dirent): Added d_ino.
	* libc/sys/win32/strace.c (__sys_printf): Increase size of buffer.
	* libc/sys/win32/smallprint.c (__small_vsprintf): Remove debug.
	* libc/sys/win32/dirsearch.c (readdir): Set d_ino.

Tue Aug 29 19:00:09 1995  Jason Molenda  (crash@phydeaux.cygnus.com)

	* libc/stdlib/atol.c (atol): DEFUN -> _DEFUN.

Tue Aug 29 16:08:09 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/stdlib/Makefile.in (OFILES): Added atoff.o and atol.o.
	* libc/stdlib/atoff.c: New file.
	* libc/stdlib/atof.c (atoff): Moved to atoff.c.
	* libc/stdlib/atoi.c (atol): Removed.
	* libc/stdlib/atol.c: Removed duplicate documentation.

	* libc/include/ctype.h (_tolower, _toupper): Moved inside
	#ifndef _STRICT_ANSI conditional.
	* libc/ctype/Makefile.in (OFILES): Added _tolower.o and _toupper.o
	* libc/ctype/_tolower.c: New file.
	* libc/ctype/_toupper.c: New file.
	* libc/ctype/tolower.c (_tolower): Moved to _tolower.c.
	* libc/ctype/toupper.c (_toupper): Moved to _toupper.c.
	* libc/ctype/toascii.c (_toascii): Removed.

Tue Aug 29 12:17:32 1995  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/sparc64/sys/types.h: Deleted.

Mon Aug 28 22:06:08 1995  Jason Molenda  (crash@phydeaux.cygnus.com)

	* libc/sys/win32/uname.c (uname): change `Windows/NT' to `Windows_NT'
	and recognize Windows_95 systems.

Mon Aug 28 19:50:54 1995  Jason Molenda  (crash@phydeaux.cygnus.com)

	* libc/sys/win32/crt0.c (vfork_init, hmap_init): standard I/O fds
	and passed fds should be opened in text mode.

Mon Aug 28 18:51:22 1995  Jason Molenda  (crash@phydeaux.cygnus.com)

	* libc/sys/win32/crt0.c (vfork_init): mark passed fds as used
	in __hmap, set to binary mode by default.

Tue Aug 22 14:12:37 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/sys/sh/syscalls.c: Updated all functions to call __trap34.
	* libc/sys/sh/trap.S (__trap34): Renamed from __trap3.  Use trap
	vector 34.

Sat Aug 19 18:25:37 1995  steve chamberlain  <sac@slash.cygnus.com>

	* Makefile.in (install): Install all libraries found in the
	top level.  If there's a sys/<type>/include directory,
	install those headers into include.

	* libc/sys/win32/kernel.def351: Delete
	* libc/sys/win32/{comctl32.def, comdlg32.def, ctl3d32.def,
	glaux.def, glu32.def, largeint.def, libc.def, libcmt.def,
	lz32.def, mgmtapi.def, mpr.def, msacm32.def, msvcrt.def,
	nddeapi.def, netapi32.def, odbc32.def, odbccp32.def, oldnames.def,
	ole32.def, oleaut32.def, opengl32.def, rasapi32.def, rpcndr.def,
	rpcns4.def, rpcrt4.def, scrnsave.def, shell32.def, snmp.def,
	uuid.def, vdmdbg.def, version.def, vfw32.def, win32spl.def,
	winmm.def, winspool.def, winstrm.def, wsock32.def}: New.

	* libc/sys/win32/Makefile.in: Update for new files and new dlltool options.
	* libc/sys/win32/crt0.c: Force all env names to upper case.
	* libc/sys/win32/sys/win*.h -> libc/sys/win32/include
	* libc/sys/win32/*.c: Headers have moved.
	* libs/sys/win32/*.[ch]: Test for open_p rather than BAD_HANDLE,
	__vfork_child_idx is now __vfork_child_ptr.

	* posix/execvp (execvp): Don't crash if no PATH envname.

Fri Aug 18 12:22:59 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/include/sys/reent.h (_Bigint): Removed _reclaim field.
	* libc/reent/reent.c (_reclaim_reent): Free Bigint's by going
	through the _freelist instead of through the _reclaim list.
	* libc/stdlib/mprec.c (_Balloc): Don't put new node on _reclaim	list.
	* libc/stdlib/mprec.c (_Bcopy): Make like version in master dtoa.c
	sources.

Thu Aug 17 11:03:27 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/machine/h8500/setjmp.S: New file.
	* libc/include/machine/setjmp.h: Updated for H8/500.

Wed Aug 16 16:19:11 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/sys/win32/syscalls.c (_open): More stracing.
	(_stat): Open the file in O_BINARY.

Wed Aug 16 15:49:01 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/machine/h8300/setjmp.S: New file.
	* libc/include/machine/setjmp.h: Updated for H8/300 and H8/300H.

Tue Aug 15 10:31:09 1995  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/win32/crt0.c (__exe_suffix): New global.
	(mainCRTStartup): Set __exe_suffix from LIBC_EXE_SUFFIX.
	* libc/sys/win32/spawn.c (_spawn): Add .exe suffix based on
	__exe_suffix.  Free fd_tab after setting env variable.
	(spawnv,_execve): Update.
	* libc/sys/win32/syscalls.h (__exe_suffix): Declare.
	* libc/sys/win32/smallprint.c (puts,putn): New (static) functions.
	(__small_vfprintf): New function.
	* libc/sys/win32/strace.c (__sys_printf): Call __small_vfprintf.
	* libc/sys/win32/wait.c (cwait): Validate argument.

	* libc/sys/win32/syscalls.c (queue_file_deletion): Add trace message.
	(process_deletion_queue): Likewise.

	* libc/sys/win32/Makefile.in (lib.a): Don't call $(RANLIB).

Mon Aug 14 10:14:10 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/sys/win32: Copyrights and gratuitous indenting.

Mon Aug 14 01:32:58 1995  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/win32/syscalls.c (queue_file_deletion): Finish.
	(process_deletion_queue): Likewise.
	(__close_all_files): New function.
	(_close): Only queue file deletion if really a file.
	* libc/sys/win32/spawn.c (_spawn): Only ensure .exe suffix if
	_P_APPEND_EXE.
	(_exit): Call __close_all_files.

	* libc/stdlib/system.c: #include <errno.h>.
	(_system_r): Fix results in -DNO_EXEC case.

	* libc/sys/win32/sys/dirent.h (DIR): New member __d_dirname.
	Reorganize structure.
	* libc/sys/win32/dirsearch.c (opendir): Use stat to determine
	if argument is valid.  Save directory name in DIR.  malloc space
	for dirent struct separately.
	* libc/sys/win32/syscalls.c (stat): Fix test for directory.

	* libc/include/errno.h (ENAMETOOLONG): Define.
	* libc/string/strerror.c (strerror): Reword ENFILE.
	Add ENOSYS, ENMFILE, ENOTEMPTY, ENAMETOOLONG.

Sun Aug 13 22:42:25 1995  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/win32/crt0.c (__progname): New global.
	(mainCRTStartup): Support strace=bitmask,filename.
	* libc/sys/win32/dirsearch.c (all fns): Add trace messages.
	* libc/sys/win32/syscalls.c (_write): Print parent trace message
	if error.
	(getcwd): Handle len too small.  Convert '\\' to '/'.
	* libc/sys/win32/sys/fcntl.h (O_RDWR): = O_RDONLY|O_WRONLY.
	Add prototypes for open, creat, fcntl.
	(O_APPEND): Change value to conform to Microsoft's value.
	* libc/sys/win32/sys/strace.h (_STRACE): Protect in do/while.

	* libc/stdlib/getopt.c: New file.
	* libc/stdlib/Makefile.in: Build it.

Sat Aug 12 12:17:14 1995  Doug Evans  <dje@canuck.cygnus.com>

	* libc/posix/execvp.c (execvp): Watch for DOS drives ifdef _WIN32.
	Fix scanning of $PATH.
	* libc/posix/exec*.c: Call _execve, not execve.
	* libc/posix/execve.c: New file.
	* libc/posix/Makefile.in (OFILES): Add execve.o.

	* libc/sys/win32/sys/strace.h (_STRACE_ALL, _STRACE_UHOH,
	_STRACE_STARTUP, _STRACE_SYSCALL): More bit masks of things to trace.
	(_STRACE): If level==0, always print.  Handle new bit mask scheme.
	* libc/sys/win32/crt0.c: Update _STRACE calls.
	* libc/sys/win32/{pipe.c,resource.c,spawn.c,syscalls.c,wait.c}: Ditto.

	* libc/sys/win32/smallprint.c (rn): Fix digit list.

	* libc/sys/win32/syscalls.c (__really_exit): Move from here,
	* libc/sys/win32/exceptions.c (really_exit): to here. Avoid recursion.
	* libc/sys/win32/spawn.c (spawnvp): Pass `prog' as image name.
	Print __seterrno trace message first.
	(_execve): Renamed from execve.
	(vfork): Update __strace usage.
	(__vfork_child_pid): Deleted.
	(__vfork_children, __vfork_child_idx): New globals.
	(_spawnvp): New function.
	(spawnvp, spawnv, _execve): Call _spawnvp.
	(init_child): Record child in __vfork_children.
	(__vfork_get_entry, __vfork_record_death): New functions.
	* libc/sys/win32/crt0.c (mainCRTStartup): Initialize __vfork_children.
	* libc/sys/win32/kernel32.def (WaitForMultipleObjects): Define.
	* libc/sys/win32/syscalls.h (CHILD_P): New macro.  All files updated.
	(MAX_CHILDREN, CHILD_INTERIM_PID): Define.
	(children): New typedef.
	(__vfork_children,__vfork_child_idx): Declare.
	(__vfork_get_entry,__vfork_record_death): Declare.
	* libc/sys/win32/wait.c (wait_for_single,wait_for_any): New functions.
	(waitpid): Handle pid == -1.
	* libc/sys/win32/sys/wintypes.h (WaitForMultipleObjects): Declare.
	* configure.in (i386-win32): Add -DNO_FORK.
	* libc/syscalls/sysfork.c (fork): Don't define for NO_FORK.
	* libc/reent/execr.c (_fork_r): Likewise.
	* libc/stdlib/system.c (do_system): New function.
	If WIN32, try to get shell path from $SH_PATH, use vfork.
	(_system_r): Return 1 for (s == NULL) if WIN32 or unix,
	otherwise return 0.

Sat Aug 12 11:08:00 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/stdlib/{mallocr.c, mstats.c}: Move mstats from mallocr to mstats.c.
	* libc/sys/win32/fcntl.h: Don't include self.
	* libc/sys/win32/sys/strace.h (_STRACE_WM, _strace_wm): New.
	* libc/sys/win32/sys/winbase.h: (GetUserName) New.
	* libc/sys/win32/sys/wincon.h (HANDLER_ROUTINE): Define correctly.
	* libc/sys/win32/sys/wintypes.h (GetFileType, GetCurrentProcess, CloseHandle,
	SetFilePointer, CreateFileA, GetFileInformationByHandle, GetStdHandle):
	Correct prototypes.
	* libc/sys/win32/strace.c: New file.
	* libc/sys/win32/smallprint.c: New file.
	* libc/sys/win32/crt0.c (func): Delete.
	(mainCRTStartup): Fix alloca usage.  Set handles explictly.
	* libc/sys/win32/dirsearch.c: Clean up handle usage, fix calls to __seterrno.
	* libc/sys/win32/exceptions.c: Lint.
	* libc/sys/win32/{ioctl.c, pipe.c, resource.c, spawn.c, cwait.c, syscalls.c}:
	Clean up handle usage.
	* libc/sys/win32/syscalls.c (__sys_printf): Moved into strace.c
	(open.c): Default file type is text.
	* libc/sys/win32/uname.c (uname): Use __small_sprintf.
	* libc/sys/win32/advapi32.def: New

Fri Aug 11 17:11:52 1995  Doug Evans  <dje@canuck.cygnus.com>

	* configure.in (posix_dir, libc_posix_lib): New variables.
	Define LIBC_POSIX_LIB in makefile to be $libc_posix_lib.
	(i[345]86-*-win32): Define posix_dir.
	Delete -DNO_EXEC.  Define -DHAVE_OPENDIR.
	(if unix_dir): Fix typo.
	* libc/posix/{Makefile.in,closedir,opendir,readdir,rewinddir,
	scandir,seekdir,telldir}: New files.
	* libc/posix/{execl.c,execle.c,execlp.c,execv.c,execvp.c}: Move here
	from libc/unix.
	* libc/Makefile.in (LIBC_POSIX_LIB): Define.
	(SUBDIRS): Add posix.
	(SUBLIBS): Add $(LIBC_POSIX_LIB).

	* libc/include/sys/signal.h (SIGCHLD): Add for _WIN32.
	(NSIG): Increase to 21.
	* libc/include/sys/unistd.h (pid_t): Move from here,
	* libc/include/sys/types.h (pid_t): to here.

	* libc/sys/win32/syscalls.h: #include "sys/strace.h".
	(__ptrace): Delete.
	(hinfo): New members close_exec_p, child_created_p.
	(struct exception_list): Define.
	(__hmap): Redefine as pointer to table.
	(__parent_hmap, __child_hmap): New globals.
	(__set_errno, __really_exit): Declare.
	(__vfork_child_pid): Declare.
	* libc/sys/win32/crt0.c (__strace, __trace_file): New global.
	(__orig_stdin, __orig_stdout, __orig_stderr): New globals.
	(__parent_hmap, __child_hmap): New globals.
	(__hmap): Redefine as pointer to active map.
	(__get_console): New function.
	(mainCRTStartup): Change leading '=' in environ vars to '!'.
	(env __FD_TABLE__): Watch for this and initialize our fd/handle
	mapping table from it if defined.
	(argv, envp): Dump if __strace >= 4.
	(main): Call here.
	* libc/sys/win32/exceptions.c (myp): Redefine.
	(__syscalls_b): Delete.
	(__stack_trace): New function.
	(ehandler3): Update to use _STRACE.  Print stack trace.
	Call __really_exit instead of exit.
	(init_exceptions): Delete args argc,argv.  New arg mine.
	* libc/sys/win32/kernel32.def (CreatePipe, DuplicateHandle, FindClose,
	FindFirstFileA, FindNextFileA, GetComputerNameA,
	GetEnvironmentVariableA, ReadFile, SetEnvironmentVariableA): Define.
	* libc/sys/win32/signal.c (signal): Validate arg.
	(alarm, sleep): Define as stubs for now.
	* libc/sys/win32/syscalls.c (all fns): Update to use _STRACE.
	(__syscalls_b, errno): Delete.
	(__vfork_child_pid, __vfork_jmp_buf): New globals.
	(__seterrno): Handle more errors.
	(__sys_printf): Renamed from _ptrace.
	(__really_exit): New function.
	(queue_file_deletion, process_deletion_queue): New functions.
	(__resume_parent): New function.
	(_unlink): Handle trying to delete open file.
	(__totime_t): Renamed from totime_t.
	(setsid, __read, __write): New functions.
	(cwait, spawnvp, R, D, getrusage, _execve, _fork, _wait): Delete.
	* libc/sys/win32/{dirsearch.c,getlogin.c,misc.c,resource.c,passwd.c,
	times.c,spawn.c,pipe.c,wait.c,termios.c,ioctl.c,uname.c}: New files.
	* libc/sys/win32/console.c: Update to new definition of __hmap.
	* libc/sys/win32/Makefile.in: Build new files.
	* libc/sys/win32/sys/{dirent.h,winerror.h,wait.h,termios.h}: New files.
	* libc/sys/win32/sys/{ioctl.h,utsname.h}: New files.
	* libc/sys/win32/sys/strace.h: Renamed from ptrace.h.
	* libc/sys/win32/sys/wintypes.h (GetCurrentDirectoryA): Fix prototype.

Thu Aug 10 16:32:52 1995  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/h8500hms/misc.c (kill): Handle SIGABRT.

Thu Aug 10 12:07:38 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/stdlib/{dtoa.c, strtod.c}: Merged assorted changes that
	have been made to the master dtoa.c sources (from netlib.att.com)
	since they were integrated into newlib in early 1992.  Fixes
	problems with storage leaks and handling of numbers with very
	negative exponents.

Wed Aug  9 14:18:39 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* Makefile.in (all): set rootpre and srcrootpre before calling
	sub-makes.

Tue Aug  8 17:20:45 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/sys/win32/crt0.c: Change __hmap usage.
	* libc/sys/win32/exceptions.c: Use _ptrace call.
	* libc/sys/win32/syscalls.c: Use _ptrace call.
	(read, write): Cope with DOS style CRLF when in TEXT mode.
	* libc/sys/win32/syscalls.h: Declare hinfo struct.
	* libc/sys/win32/user32.def: Get DefWindowProc arg list right.
	* libc/sys/win32/sys/fcntl.h, ptrace.h: New.
	* libc/sys/win32/sys/windows.h: Fill in rest of messages.
	* libc/sys/win32/sys/wintypes.h: Fix attribute syntax.

Mon Aug  7 13:04:54 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/include/math.h (cabs, cabsf, drem, dremf): New declarations.

	* libm/math/{w_cabs.c, wf_cabs.c, w_drem.c, wf_drem.c}: New files,
	wrappers for hypot() and remainder() for BSD libm compatibility.
	These are public domain implementations written by me for the
	NetBSD libm some time ago.  Note cabs() is required by ucbtest.
	* libm/math/Makefile.in (obj): Added w_cabs.o and w_drem.o.
	(fobj): Added wf_cabs.o and wf_drem.o.

Thu Aug  3 08:13:05 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/sys/h8500hms/misc.c: New file.
	* libc/sys/h8500hms/Makefile.in (OFILES): Add misc.o.

Wed Aug  2 16:46:27 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/time/localtime.c (localtime): Fix problem with leap year
	handling.  Stole algorithm from Arthur David Olson's tz code.

Mon Jul 31 10:21:54 1995  steve chamberlain  <sac@slash.cygnus.com>

	* configure.in: (z8k-*sim): Renamed z8k-*-coff.

	* libc/sys/z8ksim/glue.c (_getpid, _kill): New
	(_exit): Use argument.

Fri Jul 28 15:17:04 1995  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/win32/sys/winbase.h (_WINBASE_H): Define.

Wed Jul 26 16:24:19 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/sys/sh/trap.S (perrno): Align correctly. (pr 7532)

Mon Jul 24 13:42:52 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* configure.in (sparc*): Add -DMALLOC_ALIGNMENT=8 to
	target_cflags.

Mon Jul 24 11:42:07 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/sys/win32/crt0.c (mainCRTStartup):  Look for
	ptrace with case insensitivity
	* libc/sys/win32/{user32.def, gdi32.def, exceptions.c, screen.c,
	sys/winbase.h,	sys/windows.h, sys/wintypes.h, sys/winuser.h}:
	New files.

Fri Jul 21 11:22:26 1995  Doug Evans  <dje@canuck.cygnus.com>

	* Makefile.in: Multilib support moved to ../cfg-ml-{com,pos}.in.
	(MULTITOP, MULTIDIRS, MULTISUBDIR, MULTIDO, MULTICLEAN): New variables.
	(all, install, *clean): Use new multilib support.
	* configure.in: Multilib support moved to ../cfg-ml-{com,pos}.in.

Fri Jul 21 07:11:42 1995  steve chamberlain  <sac@slash.cygnus.com>

	* libc/include/sys/signal.h (__WIN32__): New.

	* configure.in (i386-*-win32): Remobe SBRK_IS_ALLOC.

	* libc/stdlib/mprec.c (Balloc): Fix trampling problem.
	(ulp, b2d): Handle 32 bit doubles.
	* libc/stdlib/mprec.h:  Handle 32 bit doubles.
	* libc/stdlib/strtod.c (_strtod_r): Ditto.

Fri Jul 14 08:24:58 1995  steve chamberlain  <sac@slash.cygnus.com>

	from medp@primag.co.uk:
	* libc/stdio/setvbuf.c (setvbuf): Fix line buffering on
	dynamically allocated buffers.

Thu Jul 20 10:11:03 1995  Fred Fish  <fnf@fishbowl>

	* libc/include/sys/unistd.h (_exit):  Add _ATTRIBUTE ((noreturn)).
	* libc/stdlib/exit.c (unistd.h):  Include to pick up _exit() declaration.

Thu Jul 20 10:16:25 1995  Michael Meissner  <meissner@tiktok.cygnus.com>

	* configure.in (powerpc): Fix previous fix.

Wed Jul 19 14:08:55 1995  Michael Meissner  <meissner@tiktok.cygnus.com>

	* configure.in (powerpc-*eabiaix*): Update PowerPC multilib
	directories for this target.

Wed Jul 19 00:34:30 1995  Jeffrey A. Law  <law@rtl.cygnus.com>

	* configure.in (hppa): Add machine_dir definition.
	* libc/machine/hppa: New directory with PA specific implementations
	of the basic memory/string functions.

Tue Jul 18 21:16:00 1995  Michael Meissner  <meissner@tiktok.cygnus.com>

	* configure.in: Update current PowerPC multilib directories.
	Split big and little endian configurations.

Tue Jul 18 11:55:33 1995  Ian Lance Taylor  <ian@cygnus.com>

	* configure.in: Add --enable-single-float option to configure to
	control use of MIPS single-float directories.  Default to yes.

	* Makefile.in (all): Don't recurse into multilib directory if it
	does not exist.

Mon Jul 17 15:51:30 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/sys/sh/syscalls.c: Fix typo.

Mon Jul  3 14:38:52 1995  Steve Chamberlain  <sac@slash.cygnus.com>

	* Makefile.in, libc/Makefile.in, libc/sys/Makefile.in:
	Pass down DLLTOOL.
	* libc/include/process.h: Define WAIT_CHILD.
	* libc/include/types.h: Get sizes right for win32.
	* configure.in (i386-*-pe): Becomes i386-win32.
	* libc/sys/win32/{crt0.c, kernel32.def, longjmp.c, setjmp.c, syscalls.c
	wintypes.h,sys/file.h,sys/resource.h}: Second pass.
	* libc/stdlib/mallocr.c: Don't round up memory block if SBRK_IS_ALLOC
	is defined.

Wed Jun 28 18:34:54 1995  Steve Chamberlain  <sac@slash.cygnus.com>

	* configure.in (i[345]86-*-pe):  New target (NT).
	* host/any: DLLTOOL new.
	* libc/sys/win32/{crt0.c, kernel32.def, longjmp.c, setjmp.c, syscalls.c
	wintypes.h,sys/file.h,sys/resource.h}: Preliminary support for
	WIN32 (just enough to cross host the comp-tools).

Thu Jun 22 11:45:18 1995  Doug Evans  <dje@canuck.cygnus.com>

	* libc/machine/h8300/{cmpsi.S,ucmpsi.S,divhi3.S,mulhi3.S,mulsi3.S}:
	Deleted.  These files live in gcc/config/h8300/lib1funcs.asm now.

Mon Jun 19 11:40:40 1995  Doug Evans  <dje@canuck.cygnus.com>

	* libc/include/machine/ieeefp.h (arm): Change to always be
	__IEEE_BIG_ENDIAN (even on little endian ARM's).

Thu Jun  8 14:22:28 1995  Steve Chamberlain  <sac@slash.cygnus.com>

	* libc/sys/crt0.S: Initialze sp, and call exit after main.
	* libc/sys/syscalls.c (abort): New.
	* configure.in (arm): Define ABORT_PROVIDED.

Wed Jun  7 14:04:35 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* configure.in (powerpc): Define multidirs.

Mon Jun  5 16:10:13 1995  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/arm/crt0.S: Add __USER_LABEL_PREFIX__ support.

Thu Jun  1 10:51:47 1995  Sean Eric Fagan <sef@cygnus.com>

	* configure.in (sparclite): Delete target_cflags.  Define multidirs.

Wed May 24 14:23:25 1995  Steve Chamberlain  <sac@slash.cygnus.com>

	* configure.in, libc/include/machine/ieeefp.h: Modified
	for arm:
	libc/machine/arm/*, libc/sys/arm/*: New

Tue May 23 13:53:07 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libc/include/machine/ieeefp.h: Use __PPC__ instead of
	  __powerpc__ when determining endianness.

Wed May 10 07:55:56 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* configure.in (m68*): Add multidir for the m68332.

	* host/any (CC): Fix typo in last change.

Fri Apr 14 22:20:31 1995  Ken Raeburn  <raeburn@cujo.cygnus.com>

	* libc/include/sys/config.h: Test __m68k__ instead of __m68000__
	when determining endianness.
	* libc/include/machine/ieeefp.h: Ditto.
	* libc/machine/m68k/setjmp.S: Use '&' instead of '#' for immediate
	operands.

Fri Apr 14 14:14:29 1995  Doug Evans  <dje@chestnut.cygnus.com>

	* libc/include/errno.h (ENOTEMPTY): Define.

Thu Apr  6 12:21:20 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* configure.in (sparc-sun-sunos*): Add -DMALLOC_ALIGNMENT=8 to
	  target_cflags.

	* libc/sys/sun4/Makefile.in (COPYOFILES): Added rem.o, multiply.o,
	  and umultiply.o.

	* libc/stdio/tmpnam.c (worker): Unconditionally increment count
	  instead of only when open succeeds.  ANSI requires that multiple
	  calls to tmpnam() result in different files.

	* libc/sys/sun4/Makefile.in (COPYRENAMEOFILES): New macro, list of
	  objects pulled in from /lib/libc.a that must be renamed before
	  being pulled into newlib.  /lib/libc.a's div.o conflicted with
	  newlib's file with the same name.

	* libc/stdlib/ldiv.c (ldiv): Call labs() instead of abs().

	* host/any (CC, AS, AR, RANLIB): Changed so that executables in
	  the build tree will only be used if the executables are present
	  (instead of just the Makefiles).

	* libc/include/stdlib.h (mblen, mbtowc, wctomb, mbstowcs,
	  wcstombs): Define.
	* libc/stdlib/{mblen.c, mbstowcs.c, wcstombs.c}: New files, null
	  versions of these functions that I orignally wrote for the
	  NetBSD C library.
	* libc/stdlib/{mbtowc.c, wctomb.c}: Replaced functions with
	  versions I wrote for NetBSD.

Wed Mar 29 12:42:42 1995  Kung Hsu  <kung@mexican.cygnus.com>

	* libc/sys/sparclite/Makefile.in: add crt0.s and make info.
	* libc/sys/sparclite/crt0.s: ditto.

Tue Mar 28 20:28:03 1995  Rob Savoye  <rob@rtl.cygnus.com>

	* configure.in: Add soft-float for proelf.

Mon Mar 27 12:07:56 1995  Steve Chamberlain  <sac@bang.hack.com>

	* libc/stdlib/mprec.h (Bcopy): Copy the right number
	of bytes.

Mon Mar 27 11:24:22 1995  Doug Evans  <dje@chestnut.cygnus.com>

	* Makefile.in (all): Depend on `force'.
	* configure.in (syscall_dir): Renamed from fake_sys_dir.
	(libc_syscall_lib): Renamed from libc_fake_sys_lib.
	(LIBC_SYSCALL_LIB): Renamed from LIBC_FAKE_SYS_LIB.
	* libc/Makefile.in: Likewise.
	* libc/include/reent.h: Update syscall references.
	(_fcntl_r): Add prototype.
	* libc/syscalls/*.c #include <reent.h>.
	(*) Call reentrant version if REENTRANT_SYSCALLS_PROVIDED.

Mon Mar 20 16:57:39 1995  Doug Evans  <dje@deneb.cygnus.com>

	* libc/include/sys/stat-dj.h (S_ISBLK): Define.
	(S_ISCHR, S_ISDIR, S_ISFIFO, S_ISREG): Define.
	* libc/include/sys/stat.h (stat-dj.h): Include ifdef MSDOS.
	(time.h, sys/types.h): Always include (even if MSDOS).
	(stat): Fix prototype.

Fri Mar 10 11:30:38 1995  Ian Lance Taylor  <ian@cygnus.com>

	* configure.in (i[345]86-*-go32): Compile with -DNO_EXEC.

Mon Feb 27 18:00:39 1995  Jim Wilson  <wilson@chestnut.cygnus.com>

	* libc/machine/h8500/psi.S (EXTPSIHI_RN_SN): Ifdef out.

Mon Feb 13 16:10:03 1995  Ian Lance Taylor  <ian@cygnus.com>

	* libc/include/regdef.h: New file.
	* libc/machine/mips/machine/regdef.h: New file.

Mon Feb  6 15:24:29 1995  Doug Evans  <dje@canuck.cygnus.com>

	* libc/sys/sparc64/sys/fcntl.h (open): Add ellipsis.

Fri Jan 27 13:52:10 1995  Steve Chamberlain  <sac@splat>

	* libc/sys/sh/crt0.S: Pass main's return to exit.
	* libc/sys/sh/trap.S: Put errno in the right place.

Tue Jan 24 18:57:56 1995  Ian Lance Taylor  <ian@sanguine.cygnus.com>

	* libm/math/e_rem_pio2.c (__ieee754_rem_pio2): Integrate change
	from fdlibm 5.2: handle |x| < 3pi/4 more efficiently.
	* libm/math/ef_rem_pio2.c: Likewise.
	* libm/math/e_log10.c: Remove unused static one.
	* libm/math/ef_log10.c: Likewise.
	* libm/math/s_frexp.c: Likewise.
	* libm/math/sf_frexp.c: Likewise.

Sun Jan 22 21:26:14 1995  Steve Chamberlain  <sac@splat>

	* libc/sys/go32/Makefile.in, clock.S, dir.c, setjmp.S, stat.c,
	longjmp.S: Upgraded.
	* libc/sys/go32/sys/setjmp.h: Upgraded.
	* libc/sys/go32/sys/go32.h, dpmi.h: New files.

Fri Jan 20 18:33:18 1995  Ian Lance Taylor  <ian@sanguine.cygnus.com>

	* configure.in: Add many entries to multidirs for mips targets.

Wed Jan 18 10:19:25 1995  J.T. Conklin  <jtc@rtl.cygnus.com>

	* libm/math/e_jn.c (__ieee754_yn): Integrate change from fdlibm
	  5.2 which fixes bug where jn(-1,x) is three times larger than
	  the actual answer.
	* libm/math/ef_jn.c (__ieee754_ynf): Likewise.

Sun Jan 15 21:48:58 1995  Steve Chamberlain  <sac@splat>

	* libc/sys/w65/sys/syscalls.h: New file
	* libc/include/machine/ieeefp.h: W65 support.
	* libc/include/sys/config.h: Ditto.
	* libc/machine/w65/Makefile.in, cmpsi, divsi3, lshrhi.s, mulsi3.c,
	sdivhi3.s, smulhi3.s, udivhi3.s, umodhi3.s: New files.
	* libc/sys/w65/Makefile.in, crt0.c, syscalls.c, trap.c: New files.

Wed Jan 11 15:59:01 1995  Ian Lance Taylor  <ian@sanguine.cygnus.com>

	* libc/sys/Makefile.in (lib.a, crt0.o): Depend upon subs.

Tue Jan  3 15:57:03 1995  Rob Savoye  <rob@darkstar.cygnus.com>

	* Makefile.in, configure.in: Remove any references to the old
	"stub" dir.

Thu Dec 22 10:42:08 1994  Ian Lance Taylor  <ian@sanguine.cygnus.com>

	* libc/syscalls/sysopen.c: Write _HAVE_STDC version of open, which
	uses ... in prototype.


Wed Nov 30 08:39:42 1994  Ian Lance Taylor  <ian@rtl.cygnus.com>

	* libc/sys/a29khif/sys/libconfig.h: Remove.
	* libc/sys/go32/sys/libconfig.h: Remove.
	* libc/sys/sun4/sys/libconfig.h: Remove.
	* libc/sys/sysvi386/sys/libconfig.h: Remove.
	* libc/sys/sysvnecv70/sys/libconfig.h: Remove.
	* libc/sys/sparc64/sys/libconfig.h: Remove.

	* libc/include/_ansi.h (_FLOAT_ARG, _FLOAT_RET): Don't define.
	* libc/include/sys/config.h (_FLOAT_ARG, _FLOAT_RET): Likewise.
	* libc/include/math.h: Change all uses of _FLOAT_RET and
	_FLOAT_ARG to float.
	* libm/test/math.c: Likewise.
	* testsuite/libm.sac/math.c: Likewise.
	* testsuite/libm.sac/working/math.c: Likewise.

Wed Nov 23 22:39:28 1994  Steve Chamberlain  (sac@jonny.cygnus.com)

	* libc/sys/sh/trap.s,crt0.s,setjmp.s: Renamed with .S so that
	gcc calls gas with endian option.
	* configure.in (sh): Build little endian version too.

Wed Nov 16 18:21:45 1994  Ian Lance Taylor  <ian@sanguine.cygnus.com>

	* configure.in: Configure big and little endian versions for MIPS
	targets.

Sat Nov 12 21:12:51 1994  Doug Evans  <dje@canuck.cygnus.com>

	* libc/include/limits.h: Deleted.
	* libc/include/machine/limits.h: Deleted.

Thu Nov 10 15:32:44 1994  Rob Savoye  <rob@rtl.cygnus.com>

	* ChangeLog: Remove stub directory. This has all been rewritten
	and moved to devo/libgloss.

Thu Sep 29 18:31:04 1994  Ian Lance Taylor  <ian@sanguine.cygnus.com>

	* Makefile.in (dvi): Add to info target, use $@ in sub make.
	(docs): Merge into info target.
	* libm/Makefile.in (dvi): Add $(srcdir).
	* libm/math/Makefile.in (chobjs): Remove underscores from file
	names.  Texinfo doesn't like them.
	(wacos.def, ...): Add explicit targets for all .def files.
	* libm/math/math.tex: Remove underscores from @include file names.
	* doc/Makefile.in (dvi): Add dummy target.
	* testsuite/Makefile.in (dvi): Add dummy target.

Mon Sep 26 21:17:46 1994  Doug Evans  (dje@canuck.cygnus.com)

	* Makefile.in (VERSION): Define.  For net newlib releases.

Thu Sep 22 19:01:26 1994  Doug Evans  (dje@canuck.cygnus.com)

	* README: New file.

Mon Sep 19 16:35:23 1994  Jim Wilson  (wilson@sphagnum.cygnus.com)

	* libc/stdlib/ecvtbuf.c (_gcvt): Undo last change.

Mon Sep 19 11:44:23 1994  Ian Lance Taylor  (ian@sanguine.cygnus.com)

	* libc/stdlib/setenv.c (_findenv): Declare.

	* libc/include/sys/fcntl.h: Fix declarations of open, creat, and
	fcntl to not use _EXFUN, and change string parameters to open and
	creat to be ``const char *''.
	* libc/sys/sparc64/sys/fcntl.h: Likewise.
	* libc/sys/sparc64/creat.c (creat): Make PATH const.
	* libc/syscalls/sysopen.c: Include <fcntl.h>.
	(open) Make _FILE const.
	* libc/sys/z8ksim/glue.c (_open): Make BUF const.
	(_creat): Make PATH const.
	* libc/sys/h8300hms/syscalls.c (_open): Make PATH const.
	* libc/sys/h8500hms/syscalls.c (_open): Likewise.
	* libc/sys/m88kbug/syscalls.c (open): Likewise.
	* libc/sys/sh/syscalls.c (_open): Likewise.
	* stub/shared/glue.c (open): Make BUF const.
	* stub/ex93x/syscalls.c (open): Make FILENAME const.

Thu Sep  8 16:39:12 1994  Steve Chamberlain  (sac@jonny.cygnus.com)

	* libc/include/errno.h: Add ENMFILE
	* libc/include/sys/config.h: Support Z8000.
	* libc/include/sys/signal.h: New signals for go32.
	* libc/machine/h8500/psi.S (__addpsir0r0): New function
	* libc/machine/h8500/cmpsi.S (__ucmppsi2): New function
	* libc/machine/sh/sdivsi3.s (__sdivsi3): Rewritten.
	* libc/stdlib/mallocr.c (_morecore_r): Minimum chunk
	size is variable, depending upon CHUNK_POWER.
	* libc/sys/go32/*.c: Upgrade to new go32 stuff.

Sun Sep  4 17:42:43 1994  Jim Wilson  (wilson@sphagnum.cygnus.com)

	* libc/stdlib/ecvtbuf.c (_gcvt): Output '-' for negative numbers.

Fri Sep  2 10:56:01 1994  Ian Lance Taylor  (ian@sanguine.cygnus.com)

	* libc/include/_ansi.h (_PARAMS): Don't define if already defined.

Wed Aug 24 11:11:03 1994  Ian Lance Taylor  (ian@sanguine.cygnus.com)

	* configure.in: Change i[34]86 to i[345]86.

	* libc/include/math.h: Don't define HUGE_VAL if it is already
	defined.

Wed Aug 17 15:18:02 1994  Ian Lance Taylor  (ian@sanguine.cygnus.com)

	* testsuite/libm.sac/test_erfc.c: Correct some result values.
	* testsuite/libm.sac/test_gammaf.c: Likewise.
	* testsuite/libm.sac/test_sin.c: Likewise.
	* testsuite/libm.sac/test_tanh.c: Likewise.

Tue Aug 16 16:12:53 1994  Ian Lance Taylor  (ian@sanguine.cygnus.com)

	* libc/include/machine/ieeefp.h: Don't try set endianness if it is
	already set.  Define typedefs __int32_t and __uint32_t.
	* libc/include/math.h: Include <machine/ieeefp.h>.
	(union __dmath): Use __uint32_t.
	* libm/math/fdlibm.h, libm/math/*.c: Use __int32_t and __uint32_t
	instead of int and unsigned int.

Thu Aug 11 15:16:09 1994  Ian Lance Taylor  (ian@sanguine.cygnus.com)

	Replace the math library with the SunPRO fdlibm package.
	* libm/math: Completely changed all files.
	* libm/ieeefp: Remove contents and directory.
	* libm/Makefile.in (LIBM_FP_LIB): Remove.
	(SUBDIRS): Just set to math/lib.a.
	* libm/libm.texinfo: Updated for new library.
	* libc/include/math.h: Extensive changes for new math library.
	* libc/include/ieeefp.h (isnanf, isinff, finitef): Change argument
	from _FLOAT_ARG to float.
	(maxpowtwo, maxpowtwof): Don't declare.
	* configure.in (fp_dir): Removed; was always ieeefp anyhow.
	(libm_fp_lib): Removed.
	* Makefile.in (MATHOBJS_IN_LIBC): Updated with new file names.
	* testsuite/libm.paranoia/Makefile.in (check): Correct --srcdir
	argument to ${RUNTEST}.
	* testsuite/libm.sac/Makefile.in (LOCAL_CFLAGS): Define.
	(.c.o): New rule.
	(RUNTESTFLAGS): Set CC and CFLAGS.
	(TESTS): Remove test_log2 and test_log2f.
	(${TESTS}): Pass ${LOCAL_CFLAGS}, not ${CFLAGS}.
	* testsuite/libm.sac/math.c (run_vector_1): Use float, not
	_FLOAT_ARG, for single precision argument type.
	* testsuite/libm.sac/sac.exp: Treat an error in bit 63 as an
	expected failure.  Close the input pipe.
	* testsuite/libm.sac/test.c (test_sok, test_iok, test_scok):
	Correct misspelling of inaccurate.
	(test_mok): Use ``inaccurate'', not ``wrong''.
	* testsuite/libm.sac/{test_acos.c, test_acosh.c, test_asin.c,
	test_asinh.c, test_atan.c, test_atanh.c, test_ceil.c,
	test_ceilf.c, test_cos.c, test_cosh.c, test_erf.c, test_erf.c,
	test_fabs.c, test_floor.c, test_floorf.c, test_fmod.c,
	test_fmodf.c, test_gamma.c, test_log1p.c, test_log1pf.c,
	test_yn.c): Correct many result values.  Many are still wrong.

	* libc/stdlib/ecvtbuf.c (print_e): If _dtoa_r sets decpt to 9999,
	just copy the string.
	(_gcvt): Always return the buffer.

Tue Aug  9 13:43:23 1994  J.T. Conklin  (jtc@phishhead.cygnus.com)

	* bcopy.c: fixed documentation, bcopy was not specified by ANSI.

Wed Aug  3 05:39:41 1994  D. V. Henkel-Wallace  (gumby@cygnus.com)

	* libc/include/sys/reent.h: (struct _Bigint): add _reclaim
	structure.
	(struct _reent): add _p5s, _cvtlen, _cvtbuf.
	(_reclaim_reent): declare new entry point.
	* libc/reent/reent.c (cleanup_glue, _reclaim_reent): new
	functions.

	* libc/stdlib/mprec.c (Balloc): Keep track of every struct bigint
	ever allocated, so that we can later reclaim them all.
	(pow5mult): make reentrant.

	* libc/stdlib/ecvtbuf.c (fcvtbuf, ecvtbuf): extend these functions
	so that when given NULL as a buffer, return a pointer to static
	space in the rent structure.  This is not documented behaviour;
	it's only to support ecvt and fcvt, which aren't ANSI anyway.
	* libc/stdlib/efgcvt.c (fcvt, ecvt) Use new functionality (and
	therefore become reentrant).

	* libc/stdlib/dtoastub.c: remove spurious inclusion of mprec.h.

Mon Aug  1 16:52:24 1994  Ian Lance Taylor  (ian@sanguine.cygnus.com)

	* libc/include/machine/ieeefp.h: Check _AM29K, not ___AM29K__.

Thu Jul 28 15:40:21 1994  J.T. Conklin  (jtc@phishhead.cygnus.com)

	* Makefile.in: Make link to libg.a after libc.a; this is needed
	  for the testsuites to build executables when everything comes
	  from the tree.

Mon Jun 27 17:14:29 1994  Bill Cox  (bill@rtl.cygnus.com)

	* libc/Makefile.in: Add a VERSION variable so we can keep track.
	* libm/Makefile.in: Add a VERSION variable so we can keep track.

Wed Jun 22 10:26:00 1994  Ian Lance Taylor  (ian@sanguine.cygnus.com)

	* libc/include/stdio.h: Use __VALIST, not va_list.

Tue May 17 15:43:28 1994  Bill Cox  (bill@rtl.cygnus.com)

	* testsuite/config/unix-libm.exp, testsuite/lib/libm.exp,
	testsuite/libm.sac/execute.exp:
	  Replace error proc calls with perror calls.

Wed May 11 09:25:28 1994  Doug Evans  (dje@canuck.cygnus.com)

	* libc/include/*.h: #include "_ansi.h" instead of <_ansi.h>.
	* libc/include/time.h: #define NULL as 0L.

Mon May  9 18:41:20 1994  Doug Evans  (dje@canuck.cygnus.com)

	* host/any (INCLUDES): Delete -I of gcc/include, gcc -B takes
	care of it.

Mon May  9 18:39:39 1994  Ian Lance Taylor  (ian@tweedledumb.cygnus.com)

	* libc/include/sys/signal.h: Check for __GO32__, not __i386__ and
	not __unix__.

Sat May  7 17:07:36 1994  Steve Chamberlain  (sac@cygnus.com)

	* configure.in (TARGET_CFLAGS): Set -O2 as default.
	(z8k-*-*): Use syscalls fake sys dir.
	* libc/sys/z8k/glue.c: Rename syscalls.
	* libc/sys/go32/Makefile.in: Use new routines.
	* libc/machine/Makefile.in: Fix typo in ln stuff.

Thu May  5 13:47:48 1994  Ian Lance Taylor  (ian@tweedledumb.cygnus.com)

	* Makefile.in (libm.a, crt0.o): Use cp if ln fails.
	* libc/Makefile.in (crt0.o): Likewise.
	* libc/machine/Makefile.in (lib.a): Likewise.
	* libc/sys/Makefile.in (lib.a, crt0.o): Likewise.

	All Makefile.in files: Added mostlyclean, realclean and distclean
	targets.

	* Makefile.in: Don't bother to unexport XTRAFLAGS or
	XTRAFLAGS_FOR_TARGET, since they are no longer passed down from
	the top level Makefile.

Tue Apr 26 15:10:34 1994  Doug Evans  (dje@canuck.cygnus.com)

	* libc/sys/sparc64/sys/stat.h: New file.
	* libc/sys/sparc64/sys/time.h: New file.
	* libc/sys/sparc64/sys/types.h: New file.

Fri Apr 22 12:58:24 1994  Stan Shebs  (shebs@andros.cygnus.com)

	* stub/ex93x/crt0.s (start): Add code to clear bss.

Wed Apr 13 10:34:58 1994  Doug Evans  (dje@canuck.cygnus.com)

	* libc/include/sys/types.h (time_t): Properly protect inside
	#ifndef __time_t_defined.

	* libc/stdio/fileno.c: New file.
	* libc/stdio/Makefile.in (OFILES, CHEWOUT_FILES): Add fileno.
	(fileno.o): Add dependency.
	* libc/include/stdio.h (__sgetc): Rename never to _never.
	(fileno macro): Disable, needs to do CHECK_INIT first.

Mon Apr 11 17:37:09 1994  Bill Cox  (bill@rtl.cygnus.com)

	* testsuite/Makefile.in (EXPECT, RUNTEST): Set these for the check
	goal.

	* testsuite/Makefile.in (check): Set TCL_LIBRARY for runtest.
	* testsuite/libm.paranoia/Makefile.in (check): Set TCL_LIBRARY for
	runtest.
	* testsuite/libm.sac/Makefile.in (check): Set TCL_LIBRARY for
	runtest.

Sat Apr  9 16:18:09 1994  Doug Evans  (dje@cygnus.com)

	* libc/sys/sparc64/sys/fcntl.h: New file, define solaris versions
	of the various constants.

Thu Apr  7 21:19:07 1994  Mark Eichin  (eichin@cygnus.com)

	* libc/include/math.h: #ifndef __math_68881 around things which
	conflict with the (gcc-provided) inline functions in
	gcc/ginclude/math-68881.h.

Thu Apr  7 02:50:43 1994  Doug Evans  (dje@cygnus.com)

	* libc/include/_syslist.h (_gettimeofday): Define.
	(_times): Ditto.
	* libc/include/reent.h: #include <machine/types.h> to get _CLOCK_T_.
	(struct tms, timeval, timezone): Declare.
	(_gettimeofday_r, _times_r): Declare.
	* libc/include/time.h (_CLOCK_T_): Don't #undef.  Remove
	#ifdef _CLOCK_T_ surrounding definition of clock_t.
	(time_t): Add multiple definition protection, __time_t_defined.
	* libc/include/sys/time.h: Don't #include <time.h>.
	Always define struct timezone (remove #ifndef _TIME_H_).
	* libc/include/sys/times.h (_CLOCK_T_): Don't #undef.  Remove
	#ifdef _CLOCK_T_ surrounding definition of clock_t.
	* libc/reent/Makefile.in (OFILES): Add timer.o.
	(CHEWOUT_FILES): Add timer.def.  Add timer.o/timer.c dependence.
	* libc/reent/timer.c: New file.
	* libc/time/clock.c: #include <reent.h>.
	(clock): Call _times_r instead of times.
	* libc/time/time.c (HAVE_GETTIMEOFDAY): Renamed from
	HAVE_GET_TIME_OF_DAY.
	Add comment regarding supporting OS routine(s) required (for docs).
	#include <reent.h>.
	(time): Call _gettimeofday_r instead of gettimeofday.
	* libc/time/asctime.c: Fix comment regarding supporting OS routines.
	* libc/time/ctime.c: Ditto.
	* libc/time/strftime.c: Ditto.
	* libc/sys/sparc64/Makefile.in (TEMPLATE_SFILES): Remove gettimeofday.
	(TEMPLATE_SFILES_R): Define here.  Also define times.
	Add times_r.o/times.S dependence.
	(time2.c, junk.c): Deleted.
	* libc/sys/sparc64/time2.c: Deleted.
	* configure.in (sparc64-*-*): Define HAVE_GETTIMEOFDAY.

	* libc/stdio/mktemp.c (_getpid_r): Renamed from _getpid.
	* libc/stdio/tmpnam.c (_getpid_r): Ditto.
	* libc/sys/sparc64/junk.c: Deleted.

Mon Mar 21 16:51:03 1994  Doug Evans  (dje@canuck.cygnus.com)

	* libc/sys/sparc64/Makefile.in: Add times syscall.
	* libc/sys/sparc64/crt0.S: Handle stack bias at run time so we can
	be used with and without it.  Add comment clarifying Medium/Anywhere
	model requirements.
	* libc/sys/sparc64/sigsetjmp.S (setjmp, longjmp): Add svr4 support.
	* libc/sys/sparc64/sys/syscall.h (SYS_times): Define for sunos4
	even if obsolete.

Sun Mar 20 15:51:47 1994  Doug Evans  (dje@cygnus.com)

	* configure.in (target_cflags): Move init.
	(sparc64-*-*): Define HAVE_BLKSIZE.

Wed Mar  9 10:44:52 1994  Doug Evans  (dje@canuck.cygnus.com)

	* libc/include/sys/_types.h: New file.
	* libc/include/reent.h: #include it.
	Add comment describing REENTRANT_SYSCALLS_PROVIDED and
	MISSING_SYSCALL_NAMES.
	Sort syscalls.
	* libc/include/_syslist.h: Remove _raise.
	* libc/reent/signalr.c: New file.
	* libc/reent/Makefile.in: Compile it.
	* libc/signal/signal.c: Only use ifdef SIMULATED_SIGNALS.
	Add doc for raise and _raise_r.
	* libc/signal/raise.c: Only use ifndef SIMULATED_SIGNALS.
	(raise): Call _raise_r.
	(_raise_r): Call _getpid_r and _kill_r.
	* libc/stdlib/abort.c: Remove inclusion of stdio.h and _syslist.h.
	(abort): Loop forever calling raise and _exit.

Mon Mar  7 14:40:08 1994  Ian Lance Taylor  (ian@tweedledumb.cygnus.com)

	* configure.in: Remove extraneous echo.

Thu Mar  3 12:14:22 1994  Doug Evans  (dje@canuck.cygnus.com)

	* libc/sys/sparc64/sys/dirent.h (MAXNAMLEN): #undef to avoid
	collision with unistd.h, and fix for svr4.

Wed Mar  2 13:55:25 1994  Doug Evans  (dje@canuck.cygnus.com)

	* libc/stdio/local.h (_llicvt): Declare.
	(CVT_BUF_SIZE): Define (and buffer size from 512 to 128).
	* libc/stdio/cvt.c: Include "local.h" to get CVT_BUF_SIZE.
	(_llicvt): Define.
	(_sicvt): Fix function header (`value' is short).
	* libc/stdio/vfprintf.c (_vfprintf_r): Use CVT_BUF_SIZE.
	Add printing of long long's support.
	Add printing of 8 byte pointer support.

Fri Feb 11 21:52:11 1994  Steve Chamberlain  (sac@sphagnum.cygnus.com)

	* libc/sys/sh/syscalls.c (pipe, execv, wait, fork, utime, chown,
	stat, chmod): New hooks.
	(sbrk): Abort if stack and heap collide.
	* libc/machine/sh/udivsi3, libc/machine/sh/sdivsi3 Modified to
	shortcut when given small args.
	* libc/machine/sh/setjmp.s: Rewritten.
	* libc/machine/sh/strcmp.s (strcmp): New function takes advantage
	of cmp/str instruction.

Wed Feb  9 15:12:35 1994  Ian Lance Taylor  (ian@tweedledumb.cygnus.com)

	* configure.in: Accept powerpc* as a CPU type, using fp_dir ieeefp
	and machine_dir powerpc.
	* libc/include/machine/setjmp.h, libc/include/machine/ieeefp.h:
	Add cases for __powerpc__.
	* libc/machine/powerpc/Makefile.in, libc/machine/powerpc/setjmp.S:
	New files.

	* libc/include/stdio.h (_iprintf_r): Declare correctly.

Thu Jan 27 10:36:27 1994  Steve Chamberlain  (sac@cygnus.com)

	* libc/stdlib/callocr.c: New file with _calloc_r in it.
	* libc/stdlib/calloc.c (calloc_r): Now in callocr.c

Thu Jan 20 15:14:37 1994  Doug Evans  (dje@canuck.cygnus.com)

	* libc/stdlib/ecvtbuf.c (print_f): Remove local "done".
	(print_e): More comments to describe args, etc.
	"type" arg may now be 'g' or 'G' for %g/G format --> remove
	trailing blanks.
	(_gcvt): Remove locals decpt, sign, end, p, done.
	More comments for print_e invocation.
	Pass "type" to print_e as is (g/G).

Wed Jan 19 16:34:18 1994  Rob Savoye  (rob@darkstar.cygnus.com)

	* stub/shared/m68k-crt0.S: Changed so it compiles (and runs) on a
	stock m68000.

Mon Jan 17 15:41:53 1994  Doug Evans  (dje@canuck.cygnus.com)

	* libc/stdlib/mallocr.c (_morecore_r): Fix aligning of pointer so it
	works with any sized pointer, including ones bigger than ints and
	longs.

Thu Jan  6 14:53:21 1994  Doug Evans  (dje@canuck.cygnus.com)

	* libc/sys/sparc64/{time2.c,utime.S,utime2.c}: New files.

Sat Dec 11 16:17:20 1993  Steve Chamberlain  (sac@thepub.cygnus.com)

	* libc/include/stdlib.h (_calloc_r): Add prototype.
	* libc/machine/h8500/negsi2.c: New file.
	* libc/machine/h8500/divsi3.c: Prevent overflow when dividing v
	large unsigned numbers.
	* libc/machine/h8500/cmpsi.c: Add cmppsi.
	* libc/stdlib/mallocr.c (morecore_r): Fix aligning pointers so it
	works when sizeof(size_t) != sizeof(char *).
	* libc/stdlib/mprec.c (Balloc): Call calloc rather than malloc to
	get play area
	* libc/stdlib/mprec.h: Define Just_16 if generating for z8000.

Mon Dec  6 15:59:53 1993  Doug Evans  (dje@rtl.cygnus.com)

	* libc/include/assert.h (assert): Handle -traditional.

Tue Nov 16 15:49:24 1993  Mark Eichin  (eichin@cygnus.com)

	* Makefile.in: added ; after every "fi" and "done" that wasn't at
	the end of a line (ie. anything before a backslash continuation)
	so that bash handles them.

Tue Nov 16 12:31:57 1993  david d `zoo' zuhn  (zoo@rtl.cygnus.com)

	* libc/sys/go32/lstat.s: new file, copied from stat.s and renamed
	stat to lstat

Mon Nov 15 15:50:43 1993  Steve Chamberlain  (sac@jonny.cygnus.com)

	* libc/sys/sh/crt0.s, libc/sys/sh/trap.s,
	libc/machine/sh/sdivsi3.s, libc/machine/sh/setjmp.s,
	libc/machine/sh/udivsi3.s: Use new calling convention.

Mon Nov 15 15:25:38 1993  Mark Eichin  (eichin@cygnus.com)

	* libc/include/sys/unistd.h, libc/include/sys/stat.h: ANSI-fy
	chmod, access, chdir, chown by making _path const. Also fix _amode
	param of access.

Fri Nov 12 20:25:28 1993  Mark Eichin  (eichin@cygnus.com)

	* libc/sys/a29khif/_tmpnam.s (_tmpnam): renamed function to
	_khif_tmpnam, because it doesn't comply with ANSI but may be
	useful anyway. Real tmpnam was already in libc/stdio, and was
	colliding with this one (pr 2176.)
	* libc/sys/a29khif/stubs.s (tmpnam): removed tmpnam. This file is
	the wrong idea anyhow.

Mon Nov  8 07:50:16 1993  Doug Evans  (dje@canuck.cygnus.com)

	* configure.in: Remove h8300h, we have multilib now.

Fri Nov  5 12:37:27 1993  Mark Eichin  (eichin@cygnus.com)

	* libc/string/strcasecmp.c, libc/string/strncasecmp.c: new
	functions, to get preference over the ones in libiberty (since we
	provide correct declarations in <string.h>.
	* libc/string/Makefile.in: add support for strncasecmp,
	strcasecmp.

Fri Nov  5 09:05:45 1993  D. V. Henkel-Wallace  (gumby@blues.cygnus.com)

	* Change netware config not to look for cpu explicitly.

Thu Nov  4 14:21:25 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/sys/sparc64/{creat.c,junk.c}: New files.
	* libc/sys/sparc64/Makefile.in: Add dependencies.

Wed Nov  3 10:42:49 1993  Doug Evans  (dje@canuck.cygnus.com)

	* configure.in: Clean up v9 a bit, new "os" aoutv8.

Tue Nov  2 10:00:44 1993  D. V. Henkel-Wallace  (gumby@cygnus.com)

	* libc/include/sys/reent.h: make structure smaller by allocating
	some stuff when needed.
	* libc/signal/signal.c: allocate as needed
	* libc/stdio/findfp.c,stdio/local.h: ditto
	* libc/stdlib/mprec.c: ditto

	* libc/time/localtime.c: don't return a dangling stack ptr.

Wed Sep 29 20:42:34 1993  Rob Savoye  (rob@darkstar.cygnus.com)

	* stub/mvme135/crt0.S, stub/mvme135/glue.c: Moved to stub/generic.

Wed Sep 29 16:27:49 1993  K. Richard Pixley  (rich@sendai.cygnus.com)

	* libc/include/stdio.h (__sputc): comment out static inline which
	  confuses coff toolchains.

Thu Sep  2 16:31:36 1993  Mark Eichin  (eichin@cygnus.com)

	* libc/sys/a29khif/{_close.s, _fstat.s, _lseek.s, _sbrk.s,
	_write.s, getpid.c, kill.c, read.s}:
	* libc/sys/a29khif/stubs.s: eliminated stubs that already go
	through the syscalls directory.

Fri Oct 29 13:59:58 1993  Jeffrey Wheat  (cassidy@cygnus.com)

	* configure.in: fixed double quote gotcha.

Wed Oct 27 15:27:09 1993  Rob Savoye  (rob@darkstar.cygnus.com)

	* stub/ex931: stub library for sparclite board.
	* stub/idp: Renamed from mc68ec. Added contructor table
	stuff to linker script.
	* stub/mvme135: Renamed from m68kmvme. Added contructor table
	stuff to linker script.

Tue Oct 26 17:01:23 1993  K. Richard Pixley  (rich@sendai.cygnus.com)

	* configure.in: Configure testsuites only if they exist.

Tue Oct 26 12:37:11 1993  Ian Lance Taylor  (ian@tweedledumb.cygnus.com)

	* configure.in: Don't set machine_dir for i386 until there is
	something in libc/machine/i386 to compile.  For i[34]86-*-netware*
	use sys/netware, don't use signal, define NO_EXEC, ABORT_PROVIDED,
	CLOCK_PROVIDED and MALLOC_PROVIDED.

	* libc/sys/netware: New directory.  Contains simplistic and
	probably incorrect stubs for NetWare.  Should be enough to load
	the library.
	* libc/sys/netware/crt0.c, libc/sys/netware/environ.c,
	libc/sys/netware/getpid.c, libc/sys/netware/link.c: New NetWare
	stub files.

	* libc/reent/execr.c: Don't use if NO_EXEC is defined.
	* libc/reent/sbrkr.c: Don't use if MALLOC_PROVIDED is defined.
	* libc/stdlib/abort.c: Don't use if ABORT_PROVIDED is defined.
	* libc/time/clock.c: Don't use if CLOCK_PROVIDED is defined.

Mon Oct 25 16:48:08 1993  Roland H. Pesch  (pesch@cygnus.com)

	* testsuite/Makefile.in: add "docs" dummy target for consistency
	with rest of newlib; turn "info" and "install-info" into dummy
	targets, since they wouldn't have worked.  (Depended on
	nonexistent "doc" subdir.)

Fri Oct 22 20:37:32 1993  david d `zoo' zuhn  (zoo@rtl.cygnus.com)

	* configure.in: handle mips* instead of mips

Thu Oct 21 08:57:24 1993  Ian Lance Taylor  (ian@cygnus.com)

	* libc/include/sys/dirent.h: New file.  If it is not overridden by
	a version of libc/sys/*/sys/dirent.h, it includes the next
	<dirent.h> file in case there is one lurking somewhere.

Fri Oct 15 14:17:40 1993  Ian Lance Taylor  (ian@tweedledumb.cygnus.com)

	* libc/stdlib/strtoul.c (_strtoul_r): Several changes for ANSI
	compliance, namely: Accept a minus sign.  Consider a single 0 with
	a radix of 0 as being a conversion.  Determine overflow correctly.
	If an overflow occurs, set *ptr to the end of the number, not the
	middle.
	* lib/stdlib/strtol.c (_strtol_r): Determine overflow correctly.

Thu Oct 14 21:49:52 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/machine/h8300/divsi3.S (divmodsi4): Fix h8300h case.

Fri Oct  1 17:17:34 1993  Doug Evans  (dje@canuck.cygnus.com)

	* Makefile.in (INSTALL): Use $srcrootpre.
	(crt0.o): Replace $< with $(CRT0_DIR)/$(CRT0), Sun make
	can't handle it.
	* libc/Makefile.in (crt0.o): Spell out $<, Sun make can't handle
	it.
	* libc/sys/Makefile.in (crt0.o, lib.a): Ditto.
	* stub/Makefile.in (crt0.o, TARGETLIB): Ditto.
	* libc/sys/sparc64/Makefile.in (isatty.o): Sun VPATH lossage.
	* libm/math/Makefile.in (matherr.o): Ditto.

Thu Sep 30 11:09:17 1993  Steve Chamberlain  (sac@phydeaux.cygnus.com)

	* configure.in: Build multidirs for z8k.
	* libc/include/stdlib.h (_strtoul_r): add prototype.
	* libc/include/machine/limits.h: Get INT_MIN right for all the z8k family.
	* libc/include/machine/setjmp.h: Add for z8k.
	* libc/machine/z8k/{mulsi.o, udivsi3.o, umodsi3.o, modsi3.o} obsolete.
	* libc/sys/z8ksim/glue.c: tidy up.

Mon Sep 20 14:04:46 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/unix/{execl.c execle.c execlp.c execv.c execvp.c}:
	New files.  Requires execve system call.
	* libc/unix/Makefile.in: Use them.
	* libc/sys/sparc64/{execl.c execle.c execlp.c execv.c execvp.c}:
	Deleted, moved to libc/unix.
	* libc/sys/sparc64/Makefile.in: Remove them.

Mon Sep 20 10:38:32 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/sys/sparc64/{template.S template_r.S}: New files.
	* libc/sys/sparc64/Makefile.in: Build source for trivial syscalls
	from templates.
	* libc/sys/sparc64/{chdir.S chmod.S close.S dup.S fcntl.S
	fork.S fstat.S lseek.S link.S mkdir.S open.S pipe.S read.S rmdir.S
	umask.S unlink.S wait4.S write.S}: Removed, now built from
	templates.

Sun Sep 19 14:52:57 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/time/time.c: #include <_ansi.h>.

Sun Sep 19 13:43:25 1993  Doug Evans  (dje@canuck.cygnus.com)

	* configure.in (sparc64-*-*): Remove -D__SIZE_TYPE__.

Mon Sep 13 13:52:16 1993  K. Richard Pixley  (rich@sendai.cygnus.com)

	* configure.in: match m8* rather than m88k so that m88110 is
	  recognized as well.

Tue Sep  7 12:19:32 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/sys/h8300hms/{Makefile.in, _exit.c, misc.c}:
	Renamed exit.c to _exit.c to avoid collision with stdlib/exit.c.
	misc.c: New file.

	* configure.in: Add multilib support to h8300.

Mon Sep  6 14:07:06 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/stdlib/abort.c (abort): Remove _VOLATILE from return type.
	* libc/include/_ansi.h (_ATTRIBUTE): New macro for __attribute__.
	* libc/include/stdlib.h (exit, abort): Add noreturn attribute.

Mon Sep  6 14:24:18 1993  Ian Lance Taylor  (ian@tweedledumb.cygnus.com)

	* configure.in: Corrected multidirs for sparc target.

Mon Aug 30 15:56:44 1993  Ian Lance Taylor  (ian@tweedledumb.cygnus.com)

	Support for building newlib multiple times with different
	compilation flags.
	* configure.in: Only configure doc at top level.  Set multidirs
	when appropriate for target, unless not at top level.  If
	multidirs is set, independently configure each subdirectory.
	Adjust TOP, MULTIDIRS and MULTISUBDIR appropriately in Makefile.
	* Makefile.in (MULTIDIRS, MULTISUBDIR): New variables,
	automagically set by configure.in.
	(all): If MULTIDIRS is set, build multiple copies of libraries.
	(install): If MULTIDIRS is set, install multiple copies of
	libraries.  Install in $(tooldir)/lib/$(MULTISUBDIR).  If
	MULTISUBDIR is set, don't bother to install header files.
	* host/any (INCLUDES, CHEW): Use $(SRCTOP) rather than $(TOP) from
	${srcrootpre}.
	* stub/configure.in: Set MULTISUBDIR appropriately.
	* stub/Makefile.in (install): Install in
	$(tooldir)/lib/$(MULTISUBDIR).
	* All Makefile.in files: Define SRCTOP as well as TOP.

Mon Aug 30 10:34:24 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/machine/h8300/{mulhi3.S, divhi3.S}: Comment out if h8300h.
	* libc/machine/h8300/{mulsi3.S, divsi3.S}: Add h8300h support.

Thu Aug 26 19:38:12 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/sys/h8300hms/exit.c (_exit): New function.

Wed Aug 25 16:31:48 1993  K. Richard Pixley  (rich@sendai.cygnus.com)

	* configure.in: recognize m88110.

Fri Aug 20 16:46:23 1993  K. Richard Pixley  (rich@sendai.cygnus.com)

	* libc/sys/m88kbug/crt0.c: pretty up, remove extraneous comments,
	  prototype main and call with args.

Fri Jul 30 16:52:47 1993  K. Richard Pixley  (rich@cygnus.com)

	First real try at system traps for m88k-bug.
	* libc/sys/m88kbug/syscalls.c: many changes.  Convert from stubs
	  to real trap calls.
	* libc/sys/m88kbug/sys/systraps.h: new file.

Tue Jul 27 16:31:16 1993  K. Richard Pixley  (rich@sendai.cygnus.com)

	Patches to fix info building when target does not use sys
	directory.
	* libc/Makefile.in (targetdep.tex): add sys.tex separately.
	* libc/sys.tex, libc/sys/sys.tex: moved from libc/sys/sys.tex to
	  libc/sys.tex.
	* libc/sys/Makefile.in (doc): do nothing.

Mon Jul 26 17:08:11 1993  K. Richard Pixley  (rich@sendai.cygnus.com)

	* libc/Makefile.in (CRT0): new macro.
	  (all): depend on $(CRT0) rather than crt0.o.

	* configure.in: fix libc_sys_dir -> libc_sys_lib thinko.
	  do not default crt0, instead, set crt0 and crt0_dir based on
	  sys_dir and stub_dir.

	* Makefile.in (CRT0_DIR): new macro.
	  (all): depend on $(CRT0) rather than crt0.o which may not exist.
	  (crt0.o): depend on $(CRT0_DIR)/$(CRT0) rather than simply
	  $(CRT0).
	  ($(CRT0)): recur by cd'ing into $(CRT0_DIR).

Sun Jul 25 17:51:51 MDT 1993  Jeffrey Wheat  (cassidy@cygnus.com)

	* testsuite/lib/libm.exp:
		added code to support compiling and linking of tests for
		libm.sac (paranoia to be added next) and processing the
		pass or failure of the tests.

	* testsuite/config/unix-libm.exp:
		platform specific proc's for dealing with compiler, linker
		and the way we execute and process the test results.

	* testsuite/libm.sac/execute.exp:
		generic framework for the sac tests. the config and lib
		expect code for specific platforms tie it all together.

	* testsuite/libm.sac/test_is.c:
		changed the output of the test to be consistant with the
		other tests. parsing of pass nad fail messages is now fixed.

Fri Jul 23 19:20:07 1993  Per Bothner  (bothner@kalessin)

	* libc/include/{assert.h, ctype.h, dirent.h, errno.h, fastmath.h,
	locale.h, math.h, pwd.h, reent.h, setjmp.h, signal.h, stdio.h,
	stdlib.h, string.h, termios.h, time.h, utime.h, utmp.h}: For C++:
	#ifdef __cplusplus, surround by extern ""C { ... }.
	* libc/include/assert.h:  Do *not* protect assert.h against
	multiple inclusion!  Also, #undef it before #define, to allow
	redefinition.
	* libc/include/stdio.h (getlogin, cuserid):  Removed.  These
	should be only in unistd.h.

	* libc/include/sys/{fcntl.h, reent.h, stat.h, time.h, times.h,
	unistd.h}: For C++: #ifdef __cplusplus, surround by extern ""C {
	... }.

Fri Jul 23 10:15:33 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/machine/sparc/Makefile.in: Must create a library, even
	if empty.

Wed Jul 21 16:00:37 1993  K. Richard Pixley  (rich@sendai.cygnus.com)

	* configure.in: set machine_dir for m88k.  edit crt0 definition
	  into makefiles.

	* Makefile.in, libc/Makefile.in (crt0): pull up from lower directories.

	* libc/Makefile.in (all): also build crt0.o.

	* libc/machine/i386/Makefile.in, libc/machine/sparc/Makefile.in,
	  libc/machine/z8k/Makefile.in, libm/Makefile.in (clean): no need
	  to remove CRT0.

	* libc/machine/m88k/Makefile.in (TOP, TARGETLIB): removed.
	  (all): reworked to build in place.
	  (clean): remove lib.a
	  (Makefile): remove redundant ./, call $(SHELL) rather than sh.

	* libc/sys/m88kbug/crt0.c (start): renamed to _start.
	  (_start): key off edata rather than _start_bss.

Wed Jul 21 14:29:47 1993  david d `zoo' zuhn  (zoo@cygnus.com)

	* libc/include/sys/unistd.h, libc/include/reent.h,
	libc/reent/sbrkr.c: change sbrk to return void* instead of char*.

Tue Jul 20 13:19:18 1993  K. Richard Pixley  (rich@sendai.cygnus.com)

	* libm/Makefile.in, libc/Makefile.in ($(SUBDIRS)): dollar escape a dollar sign.

	* Makefile.in (libc.a): break into two rules, one for libc.a and
	  one for libc/libc.a.  Force subdirs current before rebuilding
	  library.
	  (libm.a): break into two rules, one for libm.a and one for
	  libm/libm.a.  Force subdirs current before rebuilding library.

	* libc/Makefile.in (SUBLIBS): fix typo.

	* libc/sys/Makefile.in (all): force descent into subdirs, then
	  rebuild library iff out of of date.

Fri Jul 16 17:47:57 1993  K. Richard Pixley  (rich@sendai.cygnus.com)

	Rework so that library is built and then finished rather than
	being built on each invocation of make.

	* host/any (machine_dir, sys_dir, signal_dir): these are not
	  shared and have been moved to their associated Makefile.in's.
	  (AR_FLAGS): switch to qc which is faster.
	* configure.in: no longer assign machine_dir for m88k.  set
	  stub_dir, stub_lib, & crt0 for m68k*-unknown-{aout,coff}.  If
	  stub_dir set, then add to configdirs.  add comment about silly
	  configuration.
	  (configdirs): drop stub.  It will be added only
	  when needed.
	  (libm_fp_lib, libc_unix_lib, libc_signal_lib, libc_machine_lib,
	  libc_sys_dir, fake_sys_dir, libc_fake_sys_lib, stub_dir,
	  stub_lib, crt0): new variables for tailoring lower level
	  makefiles.  Assign accordingly and edit into makefiles.
	* libm/Makefile.in: updated copyright.
	  (TARGETLIB): removed.
	  (FLAGS_TO_PASS): removed TARGETLIB, machine_dir, sys_dir.
	  (SUBDIRS): removed TARGETDEP_DIRS.
	  (LIBM_FP_LIB, SUBLIBS): new macros.
	  (all): reworked.
	  (force): new target to force rebuilds.
	  (Makefile): call $(SHELL) rather than sh.  drop redundant ./
	* libc/sys/a29khif/Makefile.in, libc/sys/decstation/Makefile.in,
	  libc/sys/go32/Makefile.in, libc/sys/h8300hms/Makefile.in,
	  libc/sys/h8500hms/Makefile.in, libc/sys/m88kbug/Makefile.in,
	  libc/sys/sh/Makefile.in, libc/sys/sparc64/Makefile.in,
	  libc/sys/sun4/Makefile.in, libc/sys/sysvi386/Makefile.in,
	  libc/sys/sysvnecv70/Makefile.in, libc/sys/z8ksim/Makefile.in,
	  stub/m68kmvme/Makefile.in: updated copyright.
	  (TARGETLIB, TARGETCRT0, CRT0): macros removed.
	  (all): reworked.  made this the default rule.
	  (clean): also remove lib.a.
	  (Makefile): call $(SHELL) rather than sh.  drop redundant ./
	* stub/Makefile.in: updated copyright.
	  (TARGETLIB, TARGETCRT0, CRT0, TOP): removed.
	  (stub_lib): new macro.
	  (FLAGS_TO_PASS): removed TARGETLIB, stub_dir, TARGETCRT0.  Added
	  RANLIB.
	  (all): reworked.
	  (clean, install): assume stub_dir exists.
	  (Makefile): depend on configure.in.  call $(SHELL) rather than
	  sh.  drop redundant ./
	* stub/configure.in (stublib): new macro, assign it, edit it into
	  makefiles.
	* Makefile, libc/Makefile.in, doc/Makefile.in, libc/sys/Makefile.in:
	  updated copyright.
	  (all): reworked.
	  (Makefile): call $(SHELL) rather than sh.  drop redundant ./
	* libc/Makefile.in (TARGETCRT0): removed.
	  (FLAGS_TO_PASS): dropped TARGETLIB, machine_dir, sys_dir,
	  TARGETCRT0.
	  (SUBDIRS): drop TARGETDEP_DIRS.
	  (LIBC_SIGNAL_LIB, LIBC_SYS_LIB, LIBC_MACHINE_LIB, LIBC_UNIX_LIB,
	  LIBC_FAKE_SYS_LIB, SUBLIBS): new macros for configuration.
	  (force): new target to force rebuilds.
	* libc/sys/Makefile.in (TARGETCRT0, sys_dir): removed.
	  (FLAGS_TO_PASS): TARGETLIB, machine_dir, sys_dir, TARGETCRT0
	  removed.
	  (clean): assume sys_dir always exists.
	* libm/test/Makefile.in (Makefile): call $(SHELL) rather than sh.
	  drop redundant ./
	* libc/ctype/Makefile.in, libc/errno/Makefile.in,
	  libc/locale/Makefile.in, libc/machine/Makefile.in,
	  libc/machine/a29k/Makefile.in, libc/machine/h8300/Makefile.in,
	  libc/machine/h8500/Makefile.in, libc/machine/i386/Makefile.in,
	  libc/machine/i960/Makefile.in, libc/machine/m68k/Makefile.in,
	  libc/machine/mips/Makefile.in, libc/machine/necv70/Makefile.in,
	  libc/machine/sh/Makefile.in, libc/machine/sparc/Makefile.in,
	  libc/machine/z8k/Makefile.in, libc/reent/Makefile.in,
	  libc/signal/Makefile.in, libc/stdio/Makefile.in,
	  libc/stdlib/Makefile.in, libc/string/Makefile.in,
	  libc/sys/Makefile.in, libc/syscalls/Makefile.in,
	  libc/time/Makefile.in, libc/unix/Makefile.in,
	  libm/ieeefp/Makefile.in, libm/math/Makefile.in: updated copyright.
	  (TARGETLIB): removed.
	  (all): reworked.
	  (clean): also remove lib.a.
	  (Makefile): call $(SHELL) rather than sh.  drop redundant ./
	* Makefile.in: (machine_dir, sys_dir, stub_dir, stub_lib, CRT0):
	  new macros.
	  (SUBDIRS): moved to follow frag inclusion, change stub to
	  stub_dir.
	  (FLAGS_TO_PASS): removed machine_dir, sys_dir, signal_dir which
	  are now set in the libc Makefile.
	* libc/machine/Makefile.in (TARGETCRT0, machine_dir): removed.
	  (FLAGS_TO_PASS): removed TARGETLIB, machine_dir, sys_dir,
	  TARGETCRT0.
	  (force): new target to force rebuilds.
	* stub/configure.in: determine and set stub_lib for for Makefile.

Thu Jul 15 12:01:27 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/sys/h8300hms/Makefile.in: Make `all' the default target.
	crt0.s renamed to crt0.S.
	* libc/sys/h8300hms/crt0.S: Add h8/300h support.

	* libc/machine/h8300/Makefile.in: Make `all' the default target.
	* libc/machine/h8300/{cmpsi.S,ucmpsi.S}: #ifdef out entire file if
	h8300h.
	* libc/machine/h8300/defines.h: Add macros to handle pointers for
	h8300 (16 bits) and h8300h (32 bits).
	* libc/machine/h8300/{divsi3.S,mulsi3.S,memcpy.S,memset.S,
	reg_memcpy.S,reg_memset.S,strcmp.S}: Add h8300h support.

Thu Jul 15 10:13:29 1993  Ian Lance Taylor  (ian@cygnus.com)

	* libc/machine/m88k/setjmp.S, Makefile.in: New files; a simple
	implementation of setjmp and longjmp for the m88k.
	* libc/include/machine/setjmp.h: Added __m88000__ case.

Wed Jul 14 10:10:30 1993  Doug Evans  (dje@canuck.cygnus.com)

	* configure.in: Recognize h8300h as variant of h8300.

Tue Jul 13 12:24:11 1993  Steve Chamberlain  (sac@phydeaux.cygnus.com)

	* libc/include/sys/unistd.h (read, write): get prototypes right.
	(sbrk): New prototype.
	* libc/reent/sbrkr.c (sbrkr): Use correct sbrk prototype.
	* libc/stdio/local.h: Include unistd.h.
	* libc/machine/h8300/syscalls.c: Names have changed.

Mon Jul 12 18:08:42 1993  K. Richard Pixley  (rich@cygnus.com)

	* configure.in: add sys_dir assignment for m88k-bug.

Thu Jul  8 09:16:21 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/sys/sparc64/sys/syscallasm.h: New macros to handle either
	a.out or elf.
	* libc/sys/sparc64: all *.S files: Use new macros.
	* libc/sys/sparc64/isatty.c: New file.
	* libc/sys/sparc64/Makefile.in: Stop using /lib/libc.a for
	functions beyond what newlib provides.

Thu Jul  8 09:11:28 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/include/sys/stat.h: Move st_atime so not doubly defined for
	svr4.

Thu Jul  8 09:09:16 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/include/machine/ieeefp.h: Add support for h8/300h.

Fri Jul  2 10:11:20 1993  K. Richard Pixley  (rich@cygnus.com)

	* configure.in: add m88k.
	* libc/include/machine/ieeefp.h: add case for m88k.  Also add
	sanity check so no one else need ever chase what I did to find
	this.

	* libm/math/Makefile.in (FAKEC): added atanf.c log1pf.c scalbnf.c.

Fri Jul  2 09:15:21 1993  Ian Lance Taylor  (ian@cygnus.com)

	* doc/makedoc.c: Include <ctype.h>.

Wed Jun 30 09:35:06 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/Makefile.in (FLAGS_TO_PASS): Add TARGET_ASFLAGS.
	* libc/sys/Makefile.in (FLAGS_TO_PASS): Add TARGET_ASFLAGS.
	* libc/machine/Makefile.in (FLAGS_TO_PASS): Add TARGET_ASFLAGS.

	* libm/test/Makefile.in (all): Link with ../../lib[cm].a.

Sun Jun 27 17:05:20 1993  Doug Evans  (dje@sphagnum.cygnus.com)

	* libc/include/errno.h (ENOSYS): Added.

	* libc/unix/getpwd.c (getcwd): Fix typo (_up -> up).

Mon Jun 21 09:03:32 1993  Steve Chamberlain  (sac@phydeaux.cygnus.com)

	* libc/stdio/fflush.c (fflush): Check for reent struct
	initialization.
	* libc/stdio/fdopen.c (fdopen): Avoid namespace conflict.

Fri Jun 18 16:06:05 1993  Mark Eichin  (eichin@rtl.cygnus.com)

	* libc/stdlib/dtoastub.c: new file -- move user callable "dtoa"
	out of dtoa.c so it doesn't pollute the namespace.
	* libc/include/_syslist.h: new file -- mappings from _function to
	function, for systems where we can't win (by default, all of them,
	until we start updating system calls.)
	* libc/syscalls: new directory -- stubs for exporting _function
	names as unmodified function names.
	* libc/configure.in: add MISSING_SYSCALL_NAMES to enable
	_syslist.h on all platforms by default, but put hooks in for
	fake_sys_dir so we can include it when we've renamed the system
	calls.
	* libc/reent/execr.c libc/reent/filer.c libc/reent/fstatr.c
	libc/reent/linkr.c libc/reent/sbrkr.c libc/reent/statr.c
	libc/signal/raise.c libc/signal/signal.c libc/stdio/fdopen.c
	libc/stdio/mktemp.c libc/stdio/tmpnam.c libc/stdlib/abort.c
	libc/stdlib/system.c libc/unix/getcwd.c libc/unix/getlogin.c
	libc/unix/getpass.c libc/unix/getut.c libc/unix/ttyname.c: change
	non ANSI functions to call _function.

Wed Jun  9 09:48:26 1993  Ian Lance Taylor  (ian@cygnus.com)

	* libc/stdlib/strtoul.c (_strtoul_r): Handle leading 0 correctly
	when base 16 is specified.  Don't accept non-digits if radix > 10.

Thu Jun  3 10:01:15 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/include/math.h: Rename xxx_r fns to _xxx_r.

Wed Jun  2 16:54:16 1993  Jim Wilson  (wilson@sphagnum.cygnus.com)

	* libc/include/sys/stat.h: Surround text after #endif with
	comments.

Wed Jun  2 12:47:32 1993  Ian Lance Taylor  (ian@cygnus.com)

	* libc/stdlib/mallocr.c: If MALLOC_PROVIDED is defined, just make
	_malloc_r, _realloc_r, and free_r call the corresponding
	non-reentrant functions.

	* libm/math/modf.c (modf): We now take the address of ipart, so
	don't make it a register variable.

Tue Jun  1 18:25:54 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libm/math/*: Rename all xxx_r fns to _xxx_r.

Wed May 26 22:06:35 1993  Roland H. Pesch  (pesch@cygnus.com)

	* libc/libc.texinfo and embedded docn throughout: formatting
	improvements, minor rephrasing for clarity, and improved
	reentrancy docn.

Sun May 23 17:29:49 1993  Steve Chamberlain  (sac@thepub.cygnus.com)

	* libm/ieeefp/infinity.c (maxpowtwof): Fix initialzation bug.

	* libc/stdio/cvt.c (_licvt): Print the right value on machines
	where sizeof(int) != sizeof(long).

Fri May 21 22:09:32 1993  Roland H. Pesch  (pesch@fowanton.cygnus.com)

	* libc/reent/execr.c, libc/reent/filer.c, libc/reent/linkr.c,
	libc/reent/sbrkr.c, libc/reent/statr.c, libc/stdio/tmpnam.c,
	libc/stdlib/atol.c, libc/stdlib/rand.c, libc/string/strpbrk.c,
	libc/string/strspn.c, libm/ieeefp/isnan.c, libm/math/bessel.c,
	libm/math/matherr.c: changes for better docn formatting (info).

	* libc/libc.texinfo, libc/ctype/ctype.tex, libc/locale/locale/tex,
	libc/reent/reent.tex, libc/signal/signal.tex,
	libc/stdio/stdio.tex, libc/stdlib/stdlib.tex,
	libc/string/strings.tex, libc/sys/sys.tex, libc/time/time.tex,
	libm/libm.texinfo, libm/ieeefp/ieeefp.tex, libm/math/math.tex: use
	makeinfo node defaulting to get better Info file node structure.
	(Requires recent sac change to doc/makedoc.c and doc/doc.str.)
	Also include a few formerly missing sections (subroutines).

	* doc/doc.str: delete fossil expansion for "func"

	* default.menu, no-signal.menu: delete.

	* Makefile.in, libc/Makefile.in, configure.in, host/any: simplify
	method used to adjust doc for missing "signals" chapter when
	signal_dir is empty.

Thu May 20 21:38:37 MDT 1993  Jeffrey Wheat  (cassidy@cygnus.com)

	* configure.in: added testsuite/libm.sac

Wed May 19 14:52:34 1993  Doug Evans  (dje@thepub.cygnus.com)

	* libc/sys/sparc64/crt0.S: Set %g4 to 0 (to test Medium/Anywhere
	code model).

Tue May 18 13:17:21 1993  Ian Lance Taylor  (ian@cygnus.com)

	* libm/Makefile.in: Use $(MAKE) rather than make, and define
	MAKEOVERRIDES to be empty.

Mon May 17 08:42:44 1993  Ian Lance Taylor  (ian@cygnus.com)

	* configure.in: Don't build mips-*-* with -msoft-float, since that
	makes it incompatible with hard floating point.

Mon May 17 00:03:35 MDT 1993  Jeffrey Wheat  (cassidy@cygnus.com)

	* Makefile.in: added recursive 'make check'

Thu May 13 16:24:18 MDT 1993  Jeffrey Wheat  (cassidy@cygnus.com)

	* configure.in: added ./testsuite ./testsuite/libm.paranoia
	* ./testsuite/Makefile.in: created
	* ./testsuite/libm.paranoia: paranoia tests added

Thu May 13 10:30:24 1993  Ian Lance Taylor  (ian@cygnus.com)

	* configure.in: For mips-*-* set machine_dir to mips.

	* libc/machine/mips: New directory.
	* libc/machine/mips/Makefile.in: New file.
	* libc/machine/mips/setjmp.S: New file; simplistic MIPS version of
	setjmp and longjmp.
	* libc/include/machine/setjmp.h: Added __mips__ case.

	* libc/machine/lmips: Removed unused and useless directory.

Mon May  3 10:22:31 1993  Ian Lance Taylor  (ian@cygnus.com)

	* configure.in: Accept i486-*-sco* as well as i386-*-sco*.

Thu Apr 15 15:16:44 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/sys/sparc64/crt0.S: Add comment (%g1 contains atexit arg at
	start up).

Fri Apr  9 13:32:26 1993  Ian Lance Taylor  (ian@cygnus.com)

	* libc/include/machine/setjmp-dj.h: Use _SETJMP_DJ_H rather than
	SETJMP_H.

Thu Apr  8 10:07:18 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libm/test/convert.c: structure member errno -> errno_val.
	Must include <errno.h> to use errno, it's a macro now.
	* libm/test/math.c: Ditto.
	* libm/test/math2.c: Include errno.h.
	* libm/test/string.c: Ditto.
	* libm/test/test.h: structure member errno -> errno_val.
	Remove extern int errno decl.

Thu Apr  8 07:56:33 1993  Ian Lance Taylor  (ian@cygnus.com)

	* libc/stdio/Makefile.in: Added dependencies on local header
	files.
	* libc/stdio/std.h, libc/stdio/vfprintf.h: Removed unused header
	files.

Wed Apr  7 16:19:32 1993  Ian Lance Taylor  (ian@cygnus.com)

	* libc/include/machine/ieeefp.h: Added __MIPSEB__ case.

Wed Apr  7 10:55:21 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/stdio/siprintf.c libc/stdio/sscanf.c libc/stdio/vsprintf.c:
	Initialize _data.

	* libc/stdio/vfprintf.c: No need to declare _icvt, _licvt, _sicvt.
	* libc/stdio/local.h: Add prototype for _licvt.

	* libc/stdio/ungetc.c (__submore): Use _malloc_r,_realloc_r
	instead of malloc,reealloc.

	* libc/stdlib/local.h: New file.
	* libc/stdlib/efgcvt.c: #include local.h.
	(gcvt): Fix call to _gcvt.
	* libc/stdlib/ecvtbuf.c: #include local.h.

	* libc/stdlib/Makefile.in: new files mallocr.c mstats.c.
	* libc/stdlib/mallocr.c mstats.c malloc.h: New files.
	* libc/stdlib/malloc.c: main routines moved to mallocr.c.

	* libc/stdlib/atexit.c: moved global data to struct _reent.
	* libc/stdlib/exit.c: use struct _atexit in struct _reent.

	* libc/reent/reent.c (inpure_data): _REENT_INIT macro modified.

Wed Apr  7 09:41:50 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/include/sys/reent.h: Stuff required by ANSI headers moved
	here from ../reent.h.

Tue Apr  6 12:56:01 1993  Ian Lance Taylor  (ian@cygnus.com)

	* Makefile.in (MATHOBJS_IN_LIBC): List of object files which
	should be provided in both libc.a and libm.a.
	(libc.a): Depend on targ-include and libm.a.  Copy
	$(MATHOBJS_IN_LIBC) from libm.a to libc.a.
	(libm.a): Depend on targ-include.
	* configure.in (subdirs): Removed libc/math.

Mon Apr  5 10:18:16 1993  Steve Chamberlain  (sac@thepub.cygnus.com)

	* libm/ieeefp/infinity.c (maxpowtwo): Fix initialization bug.

Sat Apr  3 11:06:07 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/include/{errno.h, math.h, stdio.h, stdlib.h}: Use
	sys/reent.h instead of reent.h.
	* libc/include/reent.h: Split into two parts: stuff needed by ANSI
	headers moved to sys/reent.h.
	* libc/include/signal.h: _MAX_SIGNALS moved to sys/signal.h.
	* libc/include/sys/signal.h: Define _MAX_SIGNALS if
	__need__MAX_SIGNALS defined.
	* libc/include/stdio.h: struct __sFILE moved to sys/reent.h.
	std{in,out,err} refer to new _std{in,out,err} members.

Fri Apr  2 11:27:12 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/include/sys/signal.h: #define _SYS_SIGNAL_H for general
	case.

Fri Apr  2 09:41:10 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/sys/sparc64/execve.S (execve): Insert nop in delay slot,
	rather than whatever macro seterrno() has.

Thu Apr  1 16:47:08 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/locale/locale.c: Reentrant routines _r_xxx renamed to
	_xxx_r.  struct reent_struct renamed to struct _reent for ANSI.

	* libc/include/machine/fastmath.h: Use _HAVE_STDC instead of
	__STDC__.

	* libc/reent/{execr.c, filer.c, fstatr.c, linkr.c, reent.c,
	reent.tex, sbrkr.c, statr.c}: _r_xxx reentrant routines renamed to
	_xxx_r.  struct reent_struct renamed to struct _reent for ANSI.

	* libc/signal/signal.c: Reentrant routines _r_xxx renamed to
	_xxx_r.  struct reent_struct renamed to struct _reent for ANSI.

	* libc/stdio/{fclose.c, fdopen.c, findfp.c, fiprintf.c, flags.c,
	fopen.c, fprintf.c, freopen.c, fscanf.c, fseek.c, ftell.c,
	fwalk.c, getchar.c, gets.c, iprintf.c, local.h, makebuf.c,
	mktemp.c, perror.c, printf.c, putchar.c, puts.c, refill.c,
	remove.c, rename.c, scanf.c, setvbuf.c, siprintf.c, sprintf.c,
	sscanf.c, stdio.c, tmpfile.c, tmpnam.c, vfprintf.c, vfprintf.h,
	vfscanf.c, vprintf.c, vsprintf.c}: Reentrant routines _r_xxx
	renamed to _xxx_r.  struct reent_struct renamed to struct _reent
	for ANSI.  structure members given leading "_" for ANSI.  Use
	_HAVE_STDC instead of __STDC__ and _HAVE_STDARG.

	* libc/stdlib/{__adjust.c, calloc.c, dtoa.c, ecvtbuf.c, malloc.c,
	mprec.c, mprec.h, rand.c, std.h, strtod.c, strtol.c, strtoul.c,
	system.c}: Reentrant routines _r_xxx renamed to _xxx_r.  struct
	reent_struct renamed to struct _reent for ANSI.
	Structure members given leading "_" for ANSI.
	_CONST --> const in prototypes.
	Use _HAVE_STDC instead of __STDC__.

	* libc/string/strtok.c: Reentrant routines _r_xxx renamed to
	_xxx_r.
	struct reent_struct renamed to struct _reent for ANSI.
	Structure members given leading "_" for ANSI.

	* libc/time/asctime.c: Reentrant routines _r_xxx renamed to
	_xxx_r.
	struct reent_struct renamed to struct _reent for ANSI.

	* libm/math/{acos.h, acosh.h, asin.c, asinh.h, atanh.h, bessel.h,
	cbrt.h, cosh.h, erf.c, erf.h, error.c, exp.c, fmod.c, frexp.h,
	gamma.h, hypot.h, ldexp.c, log.h, log10.c, log1p.c log2.c,
	mathimpl.h, pow.c, remainder.c, sincos.c, sinh.h, sqrt.h, tan.c,
	tanh.h}: struct reent_struct renamed to struct _reent for ANSI.

	* libc/include/{_ansi.h, ctype.h, math.h, reent.h, locale.h,
	signal.h, stdio.h, stdlib.h, string.h, time.h}:
	Use _HAVE_STDC instead of __STDC__ and _HAVE_STDARG.
	#ifndef _STRICT_ANSI non-ANSI routines.
	Reentrant routines renamed from _r_xxx to _xxx_r.
	No need to use _STRICT_ANSI on _xxx_r reentrant routines.
	Use _STRICT_ANSI instead of __STRICT_ANSI, _ANSI_SOURCE, etc.
	Clean up namespace (structure members have leading "_").
	struct reent_struct renamed to struct _reent for ANSI compliance.
	_CONST --> const in function prototypes.

	* libc/include/string.h: Add NULL and size_t.

	* libc/sys/sparc64/Makefile.in: New syscall routines for link,
	unlink, wait, wait4. Reentrant syscall routines close, fork,
	fstat, link, lseek, open, read, sbrk, stat, unlink, wait, wait4,
	write.
	* libc/sys/sparc64/cerror.S (cerror_r): New routine.
	* libc/sys/sparc64/{close.S, fork.S, fstat.S, link.S, lseek.S,
	open.S, read.S, sbrk.S, stat.S, unlink.S, wait.S, wait4.S,
	write.S}: Define reentrant versions.
	* libc/sys/sparc64/sys/syscallasm.h (defsyscall_r): New macro for
	reentrant syscalls.

	* libc/sys/sparc64/crt0.S (start): Fix initialization of environ.

	* libc/include/stdlib.h (RAND_MAX): Fix value.

Thu Apr  1 12:28:30 1993  Ian Lance Taylor  (ian@cygnus.com)

	* libc/sys/a29khif/_main.c: Removed unnecessary file.
	* libc/sys/a29khif/Makefile.in (OFILES): Removed _main.c, moved
	VPATH support targets after all: target.

	* stub/mvme135/mvme.S: Renamed exceptionhandler to
	exceptionHandler, which is what mvme135-stub.c expects.

Wed Mar 31 17:42:03 1993  Doug Evans  (dje@cygnus.com)

	* libc/stdio/tmpnam.c (worker): Fix test for _r_open() failure.

	* libc/unix/getpass.c (getpass): Use stdin,stderr instead of
	def_stdin/def_stderr (latter removed from stdio.h to make it ANSI
	compliant).

Tue Mar 30 09:58:21 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/reent/execr.c (_r_wait): Re-order args to make reent_struct
	first.
	libc/reent/filer.c (_r_open, _r_close, _r_lseek, _r_read,
	_r_write): Ditto.
	libc/reent/fstatr.c (_r_fstat): Ditto.
	libc/reent/linkr.c (_r_link, _r_unlink): Ditto.
	libc/reent/sbrkr.c (_r_sbrk): Ditto.
	libc/reent/statr.c (_r_stat): Ditto.

	* libc/stdio/fopen.c (_r_fopen): Re-order args to _r_open.
	* libc/stdio/freopen.c (freopen): Ditto for _r_open, _r_free.
	* libc/stdio/fseek.c (fseek): Ditto for _r_fseek.
	* libc/stdio/makebuf.c (__smakebuf): Ditto for _r_fstat.
	* libc/stdio/mktemp.c (_gettemp): Ditto for _r_stat, _r_open.
	* libc/stdio/remove.c (_r_remove): Ditto for _r_unlink.
	* libc/stdio/rename.c (_r_rename): Ditto for _r_link, _r_unlink.
	* libc/stdio/stdio.c (__sread): Ditto for _r_read.
	(__swrite): Ditto for _r_lseek, _r_write.
	(__sseek): Ditto for _r_lseek.
	(__close): Ditto for _r_close.
	* libc/stdio/tmpnam.c (worker): Ditto for _r_open, _r_close.

	* libc/stdlib/malloc.c (_r_morecore): Re-order args to _r_sbrk.
	* libc/stdlib/system.c (_r_system): Ditto for _r_wait.

	* libc/include/reent.h: Re-order arguments to _r_xxx syscall fns
	to make reent_struct the first argument (and thus consistent with
	the rest of newlib).

	* stub/mvme135/mvme135-stub.c (initializeRemcomErrorFrame): Remove
	reference to __STDC__.

Mon Mar 29 12:34:32 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/stdlib/exit.c (exit): Use _REENT->__cleanup instead of
	global __cleanup.

Wed Mar 24 11:54:35 1993  Doug Evans  (dje@canuck.cygnus.com)

	* libc/stdio/freopen.c (freopen): Ensure stdio is initialized
	first.
	libc/stdio/fclose.c (fclose): Ditto.

Tue Mar 23 01:26:52 1993  Doug Evans  (dje@rtl.cygnus.com)

	* Run through indent and rename reentrant routines for ANSI.
	libc/stdio/{clearerr.c cvt.c fclose.c fdopen.c feof.c ferror.c
	fflush.c fgetc.c fgetpos.c fgets.c findfp.c fiprintf.c flags.c
	fopen.c fprintf.c fputc.c fputs.c fread.c freopen.c fscanf.c
	fseek.c fsetpos.c ftell.c fvwrite.c fwalk.c fwrite.c getc.c
	getchar.c gets.c iprintf.c makebuf.c mktemp.c perror.c printf.c
	putc.c putchar.c puts.c refill.c remove.c rename.c rewind.c rget.c
	scanf.c setbuf.c setvbuf.c siprintf.c sprintf.c sscanf.c stdio.c
	tmpfile.c tmpnam.c ungetc.c vfprintf.c vfscanf.c vprintf.c
	vsprintf.c wbuf.c wsetup.c local.h}

	* libc/locale/locale.c: Reformat and rename for ANSI, GNU style.

	* Run through indent and rename xxx_r fns to _r_xxx for ANSI.
	libc/stdlib/{__adjust.c __exp10.c __ten_mu.c abort.c abs.c
	assert.c atexit.c atof.c atoi.c atol.c bsearch.c calloc.c div.c
	dtoa.c ecvtbuf.c efgcvt.c exit.c getenv.c labs.c ldiv.c malloc.c
	mbtowc.c mprec.c putenv.c qsort.c rand.c setenv.c strdup.c
	strtod.c strtol.c strtoul.c system.c wctomb.c mprec.h}

	* Run through indent.
	libc/string/{bcmp.c bcopy.c bzero.c index.c memchr.c memcmp.c
	memcpy.c memmove.c memset.c rindex.c strcat.c strchr.c strcmp.c
	strcoll.c strcpy.c strcspn.c strerror.c strlen.c strncat.c
	strncmp.c strncpy.c strpbrk.c strrchr.c strspn.c strstr.c strtok.c
	strxfrm.c}

	* libc/time/{asctime.c clock.c ctime.c difftime.c gmtime.c
	localtime.c mktime.c strftime.c time.c}:
	Run through indent and rename xxx_r (reentrant) fns to _r_xxx for ANSI.

	* Reformatting + renaming (for ANSI, GNU style, consistency).
	libc/include/{_ansi.h, assert.h, ctype.h, errno.h, fastmath.h,
	ieeefp.h, locale.h, math.h, paths.h, pwd.h, reent.h, setjmp.h,
	signal.h, stdio.h, stdlib.h, string.h, time.h, unistd.h}

Fri Mar 19 11:28:01 1993  Doug Evans  (dje@cygnus.com)

	* libc/include/stdio.h (stdin_r): Fix.

Fri Mar 19 09:43:48 1993  Ian Lance Taylor  (ian@cygnus.com)

	* Makefile.in: Unexport some variables to keep GNU make from
	putting them in the environment and using up needed ARG_MAX space
	(a hack is used to let this work with older makes as well).

Tue Mar 16 15:11:08 1993  Ian Lance Taylor  (ian@cygnus.com)

	* Makefile.in: Use $(MAKE) rather than make.
	(MAKEOVERRIDES): Define to be empty.
	(FLAGS_TO_PASS): Don't pass down LD (it's not used).
	(libc.a, libm.a): Depend on targ-include.
	* host/any (LD): Don't define.
	(INCLUDES): Use targ-include.
	* stub/Makefile.in (MAKEOVERRIDES): Define to be empty.
	(FLAGS_TO_PASS): Don't pass down LD (it's not used).
	* libc/Makefile.in: Use $(MAKE) rather than make.
	(MAKEOVERRIDES): Define to be empty.
	(FLAGS_TO_PASS): Don't pass LD (it's not used).
	(all): Rewrote to be slightly smaller.
	* libc/machine/Makefile.in, libc/sys/Makefile.in (MAKEOVERRIDES):
	Define to be empty.
	(FLAGS_TO_PASS): Don't pass LD (it's not used).
	* libm/Makefile.in (FLAGS_TO_PASS): Don't pass LD (it's not used).

Mon Mar 15 08:45:41 1993  Ian Lance Taylor  (ian@cygnus.com)

	* libc/sys/go32/gerrno.s: Renamed from errno.s to avoid conflict
	with errno/errno.c.

Fri Mar 12 09:46:54 1993  Ian Lance Taylor  (ian@cygnus.com)

	* Changes for reentrancy.
	libc/stdio/fdopen.c, libc/stdio/freopen.c, libc/stdio/perror.c:
	Use ptr->_errno, not errno.
	libc/stdio/mktemp.c (mkstemp_r, mktemp_r): New functions.
	libc/stdio/remove.c (remove_r): New function.
	libc/stdio/rename.c (rename_r): New function.
	libc/stdio/fopen.c, libc/stdio/freopen.c, libc/stdio/fseek.c,
	libc/stdio/makebuf.c, libc/stdio/mktemp.c, libc/stdio/remove.c,
	libc/stdio/rename.c, libc/stdio/stdio.c, libc/stdio/tmpnam.c: Use
	reentrant versions of system calls.
	libc/stdio/gets.c: Call getchar_f, not nonexistent getchar_r.
	libc/stdio/scanf.c: Use stdin_r, not nonexistent stdin_n.
	libc/stdio/tmpfile.c: Use tmpnam_f, not nonexistent tmpnam_r.
	libc/stdio/findfp.c: Include <string.h>.
	libc/stdio/fread.c, libc/stdio/rget.c, libc/stdio/scanf.c: Include
	"local.h".
	libc/stdio/wbuf.c: Include "fvwrite.h"

	* libc/stdlib/{dtoa.c, ecvtbuf.c, mprec.c, strtod.c}: Include
	<string.h>.
	libc/stdlib/malloc.c: Call sbrk_r rather than sbrk.
	(NULL): Don't define if already defined.
	libc/stdlib/system.c: Call reentrant versions of system calls.
	(system_r): New function.

	* Changes for reentrancy.
	libc/include/_ansi.h (_PARAMS): New macro.
	libc/include/errno.h: Define errno as a macro that calls __errno.
	(__errno_r): New macro for reentrant code.
	libc/include/math.h: Include reent.h.  Declare many reentrant
	functions.
	(signgam): Now a macro, not a variable.
	(struct exception): Added err field.
	libc/include/reent.h: Don't declare __sglue.  Added function
	declarations.
	(struct reent_struct): Moved errno to beginning.  Added _signgam.
	libc/include/stdio.h, libc/include/stdlib.h: Added function
	declarations.

	* More reentrancy hacking.
	libc/errno/errno.c (__errno): New function.
	libc/reent/execr.c, libc/reent/filer.c, libc/reent/fstatr.c,
	libc/reent/linkr.c, libc/reent/sbrkr.c, libc/reent/statr.c: New
	files.

	* Added many new reentrant functions to libm/math/*.
	libm/math/error.c (__matherror): Added reent_struct pointer
	argument. Changed all callers.
	libm/math/gamma.c (signgam): Removed. Set ptr->_signgam, instead.
	libm/math/exp.h, libm/math/pow.h, libm/math/sincos.h,
	libm/math/tan.h: Removed obsolete unused header files.

	* libc/sys/a29khif/stubs.s: Use register lr0, not v0.

	* libc/sys/sun/Makefile.in (COPYOFILES): Don't pull in errno.o.

Mon Mar  8 16:43:43 1993  Steve Chamberlain  (sac@thepub.cygnus.com)

	* libc/sys/a29khif/stubs.s: clobber safe register, and fill all
	delay slots.

Tue Mar  2 14:47:00 1993  Jeffrey Osier      (jeffrey@fowanton.cygnus.com)

	* libc/libc.texinfo:  comment out reentrancy chapter (duh)

Tue Mar  2 14:34:16 1993  Jeffrey Osier      (jeffrey@fowanton.cygnus.com)

	* libc/reent/reent.tex:  New file.  (text from
	newlib/libc/libc.texinfo)
	* libc/stdio/tmpnam.c:  fixed doc typo
	* libc/stdlib/rand.c:   fixed doc typo

Tue Mar  2 14:34:16 1993  Jeffrey Osier      (jeffrey@fowanton.cygnus.com)

	* libc/reent/reent.tex:  New file.  (text from
	newlib/libc/libc.texinfo)

Fri Feb 26 12:20:54 1993  Steve Chamberlain  (sac@thepub.cygnus.com)

	support for reentrancy
	* libc/reent/reent.c, libc/reent/Makefile.in, libc/reent/reent.c:
	new files
	* libc/errno/errno.c, libc/include/ieeefp.h,
	libc/include/locale.h, libc/include/reent.h,
	libc/include/signal.h, libc/include/stdio.h,
	libc/include/stdlib.h, libc/include/string.h, libc/include/time.h,
	libc/signal/signal.c libc/stdio/cvt.c, libc/stdio/fclose.c,
	libc/stdio/fdopen.c, libc/stdio/fflush.c, libc/stdio/fgets.c,
	libc/stdio/findfp.c, libc/stdio/flags.c, libc/stdio/fopen.c,
	libc/stdio/fputc.c, libc/stdio/freopen.c, libc/stdio/fseek.c,
	libc/stdio/ftell.c, libc/stdio/fwalk.c, libc/stdio/getchar.c,
	libc/stdio/gets.c, libc/stdio/glue.h, libc/stdio/iprintf.c,
	libc/stdio/local.h, libc/stdio/makebuf.c, libc/stdio/perror.c,
	libc/stdio/printf.c, libc/stdio/putchar.c, libc/stdio/puts.c,
	libc/stdio/refill.c, libc/stdio/scanf.c, libc/stdio/setvbuf.c,
	libc/stdio/sprintf.c, libc/stdio/tmpfile.c, libc/stdio/tmpnam.c,
	libc/stdio/ungetc.c, libc/stdio/vfprintf.c, libc/stdio/vfprintf.h,
	libc/stdio/vfscanf.c, libc/stdio/vprintf.c, libc/stdio/wsetup.c,
	libc/stdlib/__adjust.c, libc/stdlib/__exp10.c,
	libc/stdlib/assert.c, libc/stdlib/atexit.c, libc/stdlib/atol.c,
	libc/stdlib/dtoa.c, libc/stdlib/ecvtbuf.c, libc/stdlib/malloc.c,
	libc/stdlib/mprec.c, libc/stdlib/mprec.h, libc/stdlib/rand.c,
	libc/stdlib/setenv.c, libc/stdlib/std.h, libc/stdlib/strtod.c,
	libc/stdlib/strtol.c, libc/stdlib/strtoul.c, libc/string/strtok.c,
	libc/time/asctime.c, libc/time/localtime.c, libc/time/mktime.c,
	libc/time/strftime.c: modify to provide reentracy.

	new routines:
	strtok_r, asctime_r, fdopen_r, _cleanup_r, fopen_r, iprintf_r,
	perror_r, printf_r, putchar_r, puts_r, scanf_r, sprintf_r,
	tmpfile_r, vfiprintf_r, vfprintf_r, strtod_r, dtoa_r, rand_r,
	srand_r, strtoul_r,strtol_r, free_r, malloc_r, morecore_r,
	mstats_r, realloc_r, localeconv_r, setlocale_r

Wed Feb 17 20:17:15 1993  Mark Eichin  (eichin@cygnus.com)

	* libc/include/machine/ieeefp.h, libc/include/machine/setjmp.h,
	libc/include/sys/config.h, libc/include/sys/signal.h,
	libc/include/sys/stat.h, libc/include/sys/types.h: For compiler
	provided macros (such as m68000), use the ansi version
	(__m68000__) so that the library can be used with code compiled
	-ansi. In particular, m68000, mc68000, _AM29K, i386, MIPSEL, unix,
	and sparc.

Wed Feb 17 13:01:34 1993  Jim Wilson  (wilson@sphagnum.cygnus.com)

	* configure.in (sparc*): Don't set -fsoft-float for sparc
	configurations.  Do set -fsoft-float for sparclite configurations.

Fri Feb 12 16:25:52 1993  Roland H. Pesch  (pesch@fowanton.cygnus.com)

	* default.menu, no-signal.menu: alternate forms of libc main menu
	  (in newlib rather than newlib/libc due to configuration restrictions)

	* configure.in: select one of the two menus above, link to
	libc.menu

	* libc/libc.texinfo: include menu from separate file

Fri Feb 12 12:50:06 1993  Ian Lance Taylor  (ian@cygnus.com)

	* Makefile.in (FLAGS_TO_PASS): Put INSTALL back in.
	(info): Split long shell command in half.
	* libc/Makefile.in (info, targetdep.tex): Don't pass everything to
	sub-makes, just CHEW and TARGETDOC.
	(targetdep.tex): Removed now special handling of sys and machine
	subdirectories, made obsolete some time ago.
	* libc/machine/Makefile.in (doc): Don't pass everything to
	sub-make, just CHEW and TARGETDOC.
	(Makefile): New target.
	* libc/sys/Makefile.in (Makefile): New target.

Thu Feb 11 15:25:15 1993  Ian Lance Taylor  (ian@cygnus.com)

	* Makefile.in (here and most subdirectories): Only pass down CHEW
	and TARGETDOC when making info, not for other targets.

	* Makefile.in (here and most subdirectories), host/any: Use $(AR)
	$(AR_FLAGS) rather than $(ARUPDATE).

Wed Feb 10 11:57:52 1993  Ian Lance Taylor  (ian@cygnus.com)

	* Try to reduce command line length:
	* Makefile.in (FLAGS_TO_PASS): don't pass down exec_prefix,
	CC_FOR_BUILD, CFLAGS_FOR_BUILD, INSTALL or CHEW.
	(info, docs): pass CC_FOR_BUILD and CFLAGS_FOR_BUILD to doc.
	(info): Pass CHEW to other subdirs.

Tue Feb  9 14:01:42 1993  Mark Eichin  (eichin@cygnus.com)

	* configure.in: add signal_dir, like unix_dir, but by default it
	is set to "signal" so that a29khif can turn it off (since a29khif
	has raise() as part of machine-specific signal.s.)

Fri Jan 15 12:09:50 1993  Steve Chamberlain  (sac@thepub.cygnus.com)

	* libc/sys/config.h, libc/machine/ieeefp.h: add Z8000 support
	* libc/stdio/Makefile.in: pass CFLAGS so vfiprintf.c gets built
	correctly.
	* libc/stdio/fdopen.c, libc/stdio/fgets.c, libc/stdio/fscanf.c,
	libc/stdio/vfprintf: type lint.
	* libc/sys/z8ksim/crt0.c (start): Z8001/Z8002 independent
	initialzation code.
	* libc/sys/z8ksim/glue.c: Z8001/Z8002 clean system calls.

Tue Dec 29 10:15:33 1992  Ian Lance Taylor  (ian@cygnus.com)

	* stub/mvme135/mvme135-asm.S: new file.
	stub/mvme135mvme135-stub.c: moved all assembler routines into
	mvme135-asm.S.
	stub/mvme135/Makefile.in: build mvme135-stub.o.

Mon Dec 28 12:40:43 1992  Ian Lance Taylor  (ian@cygnus.com)

	* Makefile.in: don't pass down $(CPP); use $(CC) -E in
	sub-Makefiles instead, to try to avoid line length limitations.

Mon Dec 21 18:36:13 1992  Per Bothner  (bothner@rtl.cygnus.com)

	* libc/include/unistd.h (read, write):  Use void* instead of
	char*.

Thu Dec 17 13:49:46 1992  Mark Eichin  (eichin@cygnus.com)

	* stub/go32/resetpc: sample script to send a reset packet to the
	stub

	* stub/go32/I386STUB.C: new file, gdb/i386stub.c modified for the
	DOS environment, which compiles with Turbo C.

	* stub/go32/DSER32.LNK: new file, linker commands for serial
	remote stub.

	* stub/go32/CONTROL.C: turn off debug_mode, add CYGNUS tag line to
	start up message to identify version; call set_debug_traps.

	* stub/go32/DEBUG.C: turn off debug_mode (so stub doesn't need any
	keyboard interaction); call handle_exception() in go_til_stop,
	rather than return, so that the remote stub gets control.

	* stub/go32/MAKEFILE: fixed to actually use DOS commands (del and
	rename, rather than mv), set flags that work with current Turbo C,
	including using the /3 flag; also, add commands to build dser32.

	* stub/go32/DEBUG32.LNK, stub/go32/GO32.LNK: fix paths to match
	default Turbo C installation (\tc rather than \usr)

	* stub/go32/MONO.C (printf): current Turbo C uses "..." instead of
	"&..."

Mon Dec 14 09:37:33 1992  Steve Chamberlain  (sac@thepub.cygnus.com)

	* libc/include/math.h: added _DOUBLE_IS_32BITS checks

Thu Nov 12 22:31:04 1992  Steve Chamberlain  (sac@thepub.cygnus.com)

	* libc/stdio/cvt.c (licvt): new function to convert ints when
	sizeof(int) != sizeof(long).

	* libc/include/stdio.h: added prototype for iprintf.
	* libc/include/machine/limits.h machine/ieeefp.h: z8k stuff

Tue Nov 10 12:18:12 1992  Ian Lance Taylor  (ian@cygnus.com)

	* libc/machine/m68k/setjmp.S: use __USER_LABEL_PREFIX__ and
	__REGISTER_PREFIX__.

Mon Nov  2 13:50:14 1992  Ian Lance Taylor  (ian@cygnus.com)

	* libc/sys/m68kbare: moved into stub directory.

Mon Nov  2 13:40:42 1992  Ian Lance Taylor  (ian@cygnus.com)

	* configure.in, Makefile.in: created new directory stub, to hold
	sample code for specific targets.

Wed Oct 28 02:19:55 1992  Mark Eichin  (eichin@cygnus.com)

	* restored libc/sys/go32/sys/fcntl.h, to override incorrect values
	in the unified libc/include/sys/fcntl.h.

Wed Oct 21 13:55:58 1992  Doug Evans  (dje@rtl.cygnus.com)

	* libc/stdlib/ecvtbuf.c: (print_f,_gcvt): printf("%f", 0.01)
	printed .01, not 0.01.

Mon Oct 19 11:05:55 1992  Ian Lance Taylor  (ian@cygnus.com)

	* configure.in: compile with -m68000 for m68* targets.

Sun Oct 18 05:29:05 1992  Mark Eichin  (eichin@cygnus.com)

	* libm/math/remainder.c (remainder): document the svr4 and sunos
	references used to construct the function.

Sat Oct 17 21:46:16 1992  Mark Eichin  (eichin@cygnus.com)

	* libm/math/remainder.c (rint, remainder): fix old typos.
	* libm/math/Makefile.in: actually build remainder.c (functions
	rint and remainder, from SysVr4 Programmer's Guide floor(3m) man
	page.)

Thu Oct 15 07:48:05 1992  Ian Lance Taylor  (ian@cygnus.com)

	* libc/string/bcopy.c: BSD version works on overlapping strings,
	so ours should too.

	* libc/stdlib/system.c: always invoke /bin/sh, not getenv
	("SHELL").

Wed Oct 14 11:07:11 1992  Ian Lance Taylor  (ian@cygnus.com)

	* Makefile.in (docs): new target.

Wed Oct 14 07:44:25 1992  Ian Lance Taylor  (ian@cygnus.com)

	* libc/include/sys/times.h: define clock_t as required by POSIX.
	libc/include/time.h: protect clock_t from multiple definitions.

Wed Oct  7 11:02:21 1992  Mark Eichin  (eichin at tweedledumber.cygnus.com)

	* libm/math/sqrt.h (sqrt): actually, the final version of fp-bit
	does not need more than the original three iterations to get
	within 1 ulp. (Paranoia tests for rounding to better than that,
	but further iterations *don't* help, only more subtle changes
	can.)

Tue Oct  6 09:22:12 1992  Ian Lance Taylor  (ian@cygnus.com)

	* libc/sys/vxworks68, libc/sys/vxworks960: removed, since they
	were doing nothing useful.

Tue Oct  6 08:48:13 1992  Ian Lance Taylor  (ian@cygnus.com)

	* configure.in: define MALLOC_PROVIDED for vxworks targets;
	removed sys_dir settings of vxworks68 and vxworks960.
	host/any: don't pass -nostdinc to gcc, since newlib no longer
	provides all required header files.

	* libc/stdlib/malloc.c: only compile this file if MALLOC_PROVIDED
	is not defined; this provides a hook for VxWorks.

Mon Oct  5 03:44:57 1992  Mark Eichin  (eichin at tweedledumber.cygnus.com)

	* libc/stdio/setvbuf.c (setvbuf): while ANSI does say to malloc a
	buffer if buf is NULL, don't do it here -- it is already being
	done by makebuf elsewhere in stdio.

Fri Oct  2 13:12:07 1992  Ian Lance Taylor  (ian@cygnus.com)

	* libc/sys/a29khif/Makefile.in: assemble Steve's list of stubs so
	that C programs can call functions without using initial
	underscores.

Thu Oct  1 09:37:47 1992  Ian Lance Taylor  (ian@cygnus.com)

	* libc/stdlib/abort.c (abort): call exit, in case kill returns.

Wed Sep 30 08:22:18 1992  Ian Lance Taylor  (ian@cygnus.com)

	* configure.in: set TARGET_CFLAGS for certain CPU types to
	-msoft-float.

Tue Sep 29 21:09:32 1992  david d `zoo' zuhn  (zoo at cirdan.cygnus.com)

	* libc/sys/m68kbare/glue.c: use <_ansi.h> instead of <ansidecl.h>

Mon Sep 28 14:58:44 1992  Ian Lance Taylor  (ian@cygnus.com)

	* configure.in: added sys_dir m68kbare for m68k*-unknown-aout and
	m68k*-unknown-coff.

Fri Sep 25 08:33:21 1992  Ian Lance Taylor  (ian@cygnus.com)

	* libc/include/stdio.h: define __need___va_list before including
	<stdarg.h>, to avoid defining va_arg, et. al.

Tue Sep 22 13:47:00 1992  Ian Lance Taylor  (ian@cygnus.com)

	* libc/sys/Makefile.in: handle the case of an empty $(sys_dir)
	(don't cd to the user's home directory).

	* libc/Makefile.in: replaced all instances of $(MAKE) with make.
	In general this is the wrong thing to do, but I can't get around
	GNU make's insistence on passing command line arguments any other
	way.

Tue Sep 22 10:12:44 1992  Ian Lance Taylor  (ian@cygnus.com)

	* configure.in: always configure the libc/sys directory, since it
	now provides a required documentation file.

	* Makefile.in: replaced all instances of $(MAKE) with make.  In
	general this is the wrong thing to do, but I can't get around GNU
	make's insistence on passing command line arguments any other way.

Mon Sep 21 22:42:26 1992  Ian Lance Taylor  (ian@tweedledumbest.cygnus.com)

	* libc/stdlib/ecvtbuf.c (_gcvt): string for 0 was not null
	terminated.

	* libc/stdio/local.h: include <stdarg.h> to define va_list.
	libc/stdio/vsprintf.c: include <stdarg.h> rather than <varargs.h>.

	* libc/include/float.h, libc/include/stdarg.h,
	libc/include/stddef.h, libc/include/varargs.h: removed; use gcc
	versions instead.
	libc/include/stdio.h: get size_t from <stddef.h>, and va_list from
	<stdarg.h>, not from <machine/types.h>.  Protect definition of
	NULL.
	libc/include/time.h: get size_t from stddef.h.  Protect definition
	of NULL.
	libc/include/machine/limits.h: override gcc <limits.h> by defining
	_LIMITS_H___.  Don't define CLK_TCK.  Copied in gcc <limits.h> to
	get correct INT_MIN and LONG_LONG values.
	libc/include/machine/types.h: don't define ptrdiff_t, wchar_t,
	size_t or va_list at all; they're now gotten from stddef.h
	instead.
	libc/include/machine/varargs.h: removed; use gcc version instead.
	libc/include/sys/types.h: explicitly include <machine/types.h>.

	* libm/math/sqrt.h: using the fp-bit routines appears to require
	more iterations.

	* Makefile.in, host/any: let system include files override machine
	include files.

Sat Sep 19 21:10:06 1992  Mark Eichin  (eichin at tweedledumber.cygnus.com)

	* libc/include/machine/types.h: allow __*_TYPE__ from cpp to
	override _*_T_ definitions defaulted here.

Tue Sep 15 11:14:46 1992  Ian Lance Taylor  (ian@cygnus.com)

	* Makefile.in (install): install the include files in
	$(tooldir)/include, not $(exec_prefix)/include.

Fri Sep 11 15:48:43 1992  Ian Lance Taylor  (ian@cygnus.com)

	* Makefile.in (install): fixed typo, and changed install to not
	force rebuild of libc.a and libm.a.

Thu Sep 10 10:46:09 1992  Ian Lance Taylor  (ian@cygnus.com)

	* libc/sys/a29khif/*: Changed all .include's to include
	sys/sysmac.h, not plain sysmac.h.  The header files live in sys so
	that they will be installed for the user.

	* Makefile.in (all): create targ-include, a directory holding the
	machine and system specific header files during the build.
	(install): fixed installation of machine and system specific
	header files.

	* Makefile.in: fixed comment.
	host/any: change .s.o rule to use $(AS) rather than $(CC), so that
	we can pass $(INCLUDES) to it.

Thu Sep 10 10:13:13 1992  Ian Lance Taylor  (ian@cygnus.com)

	* libc/include/sys/param.h: new generic file, which may be
	overridden for specific systems.

	* libc/include/sys/signal.h: define all ANSI signal names, and
	NSIG (which is not ANSI) for a29k.

Tue Sep  8 09:04:30 1992  Ian Lance Taylor  (ian@cygnus.com)

	* Makefile.in: don't pass down arguments the lower level makes
	will not need.
	* libc/Makefile.in: recurse directly, rather than using subdir_do,
	in hopes of avoiding argument length limits.
	* libm/Makefile.in: recurse directly, rather using subdir_do, in
	hopes of avoiding argument length limits.

Tue Sep  8 08:27:22 1992  Ian Lance Taylor  (ian@cygnus.com)

	* libc/include/sys/fcntl.h: include <sys/types.h> to ensure that
	mode_t is defined.

Mon Sep  7 14:02:07 1992  Ian Lance Taylor  (ian@cygnus.com)

	* Fixed make info and make install-info for newlib, changing most
	Makefile.in and several *.tex files.  Moved doc directory from
	libc to top level.

	* libc/time/mktime.c (_DAYS_IN_MONTH): actually, not const.
	Should be rewritten.

	* libc/string/strings.tex: renamed node index to node index
	function, so that it does not conflict with the top level index
	node.

	* libc/include/sys/config.h: define __IEEE_BIG_ENDIAN for h8300.

Fri Sep  4 02:34:06 1992  Ian Lance Taylor  (ian@cygnus.com)

	* Overhauled general configuration for newlib.  Eliminated all
	target dependent Makefile fragments.  Create libraries in newlib
	rather than newlib/libc and newlib/libm.  Use CC, et. al., rather
	than CROSS_CC, et. al.  Broke make docs; will fix later.

	* libc/time/localtime.c (_DAYS_IN_MONTH): actually, not const.
	Should be rewritten.

Tue Sep  1 15:21:14 1992  Ian Lance Taylor  (ian@cygnus.com)

	* libc/configure.in: cleaned up somewhat; switch on ${target}
	rather than ${target_alias}.
	* libm/configure.in: cleaned up somewhat; switch on ${target}
	rather than ${target_alias}.

	* libc/ctype/ctype_.c: marked _ctype_ array _CONST.
	* libc/include/ctype.h: marked _ctype_ as _CONST.

	* libc/locale/locale.c (lconv, localeconv): marked static lconv as
	_CONST.

	* libc/stdio/cvt.c, libc/stdio/findfp.c (__sfmoreglue),
	libc/stdio/vfscanf.c (__svfscanf): made static variables const.
	libc/stdio/gets.c (gets): removed non-ANSI warning message.
	libc/stdio/tmpnam.c (tmpnam): removed unneeded filename variable.

	* libc/stdlib/mprec.h, libc/stdlib/mprec.c (pow5mult, tens,
	bigtens, tinytens): marked arrays _CONST.
	libc/stdlib/qsort.c (swap): if __GNUC__, use _builtin_alloca
	rather than a static variable.

	* libc/time/asctime.c (asctime), libc/time/localtime.c
	(_DAYS_IN_MONTH), libc/time/mktime.c (_DAYS_IN_MONTH,
	_DAYS_BEFORE_MONTH), libc/time/strftime.c (dname_len, dname,
	mname_len, mname): Marked static arrays _CONST.

	* libm/math/gamma.h: made local variables non-static.

	* libm/math/acos.h, libm/math/bessel.c, libm/math/erf.c,
	libm/math/exp.c, libm/math/gamma.h: marked static arrays as
	_CONST.

	* libm/math/constants.c: removed file, because the constants it
	defined were never referenced.
	libm/math/Makefile.in: removed references to constants.c.
	libm/math/mathimpl.h: removed declarations of constants.

Wed Aug 26 21:09:06 1992  Ian Lance Taylor  (ian@cygnus.com)

	* libc/include/machine/varargs.h: only call __builtin_saveregs if
	it is sensibly defined in libgcc2.  Checks preprocessor defines,
	which is not a good solution.

	* libm/sqrt.c: sqrt(Infinity) should not be a domain error.

	* libm/frexp.c: handle denormalized numbers as arguments.

	* libm/math/Makefile.in: added some dependencies for .c files
	which include local .h files.

Mon Aug 24 12:57:58 1992  Ian Lance Taylor  (ian@cygnus.com)

	* libc/configure.in: set target_alias for OSE*.  Replace
	target_makefile_frag if it is blank.

	* libc/Makefile.in: make sure everything is passed to subsidiary
	makes; create all directories when installing.

	* libm/ieeefp/Makefile.in, libm/math/Makefile.in: use
	CROSS_ARUPDATE instead of AR.

	* libm/configure.in: set target_alias for OSE*.  Replace
	target_makefile_frag if it is blank.

	* libm/Makefile.in: make sure everything is passed to subsidiary
	makes; create all directories when installing.

Thu Aug 20 15:11:51 1992  Mark Eichin  (eichin@cygnus.com)

	* add following change from libc copy.

Wed Aug 19 18:54:49 1992  Roland H. Pesch  (pesch@fowanton.cygnus.com)

	* libc/libc.texinfo: make copyright disclaimers appear on back of
	title page; make format of same slightly less ugly; avoid using
	underbars in section headings (avoids nasty texinfo bug in table
	of contents).

	* libc/ctype/tolower.c, libc/ctype/toupper.c: (doc changes in
	  comments only) avoid using underbars in section headings

	* libc/ieeefp/ieeefp.tex: include doc from fpsticky, infinity,
	  isnan ieeefp/fpmask.c, ieeefp/fpround.c, ieeefp/fpsticky.c (doc
	  changes in comments only): shorten headings ieeefp/infinity.c,
	  ieeefp/isnan.c: (doc, comments only) more informative headings

	* libc/math/bessel.c: (doc, comments only) shorten heading

	* libc/stdlib/efgcvt.c, libc/stdlib/mbtowc.c, libc/stdlib/wctomb.c
	(doc, comments only) shorten headings

	* libc/time/localtime.c (doc, comments only): shorten headings

	* libm/ieeefp/ieeefp.tex: include doc from fpsticky, infinity,
	  isnan
	  libm/ieeefp/fpmask.c, libm/ieeefp/fpround.c,
	  libm/ieeefp/fpsticky.c (doc changes in comments only): shorten
	  headings
	  libm/ieeefp/infinity.c, libm/ieeefp/isnan.c: (doc, comments
	  only) more informative headings
	* libm/math/bessel.c: (doc, comments only) shorten heading

Wed Aug 19 07:06:37 1992  Mark Eichin  (eichin at tweedledumber.cygnus.com)

	* .../Makefile.in: use CROSS_ARUPDATE consistently.
	* config/*.mt: define CROSS_AR as well as CROSS_ARUPDATE
	* config/*.mt: define CROSS_CPP based on CROSS_CC, not /lib/cpp.
	* .../Makefile.in: get rid of .c.o rule - if TOP is correctly
	defined, the one from the .mt file will be correct.
	* libc/include/machine, libc/include/sys: created, and populated
	with common files from machine/*/machine. ifdefs were used for
	most, typically by handling exceptions first and then filling in
	defaults. Files with D.J. Delorie copyright #included rather than
	copied. Most files in include/sys really were the same in the
	original.
	* libc/include/...: cleaned up use of _EXFUN.
	* libc/stdlib/mprec.c: mprec.h doesn't get installed, so include
	it with double quotes, not angles.

Mon Aug 10 11:43:20 1992  Ian Lance Taylor  (ian@dumbest.cygnus.com)

	* libc/Makefile.in: always create installation directories.

Sun Aug  9 22:45:48 1992  david d `zoo' zuhn  (zoo at cirdan.cygnus.com)

	* libc/configure.in: handle host properly (using canonical
	triples), better error message for the case of target not found

Thu May 28 01:56:37 1992  Michael Tiemann  (tiemann@rtl.cygnus.com)

	* libc/Makefile.in (insincdir): Ensure this directory exists
	before attempting installation.

Fri May  1 18:16:42 1992  Steve Chamberlain  (sac@thepub.cygnus.com)

	* libc/stdlib/assert.c: now calls abort like it should
	* libc/sys/a29khif: many many patches for 29khif work
	* libc/machine/i386: gnulib2 expanded there.

Tue Apr 28 19:08:37 1992  Steve Chamberlain  (sac@thepub.cygnus.com)

	Added accurate fp conversion routines to stdlib, moved dcvt from
	stdio to stdlib and called it ecvtbuf:
	* libc/stdlib/mprec.c, mprec.h: new files for multiprec arithmetic
	* libc/stdlib/Makefile.in, efgcvt.c, strtod.c: modified to use new
	routines
	* libc/libc.texinfo: Modifed to include the copyright info from
	the mprec files
	* libc/stdlib/efgcvt.c: now xref to ecvtbuf in stdlib.
	* libc/test/ : many vector which tested for the implementation
	defined returns of strange conversion requests have been updated
	to relflect the new implementation

Mon Apr 27 13:41:33 1992  Roland H. Pesch  (pesch@fowanton.cygnus.com)

	* libc/libc.texinfo: new chapter on variable arg lists
	(stdarg.h/varargs.h)
	* libc/libc.texinfo: new title
	* libc/time/gmtime.c, libc/time/localtime./c, libc/time/mktime.c:
	(doc only) shorter headings for better formatting.

Fri Apr 24 11:26:48 1992  Roland H. Pesch  (pesch@fowanton.cygnus.com)

	* libc/libc.texinfo: three more info menu entries
	* libc/locale/locale.tex: new chapter
	* libc/locale/locale.c: new doc for setlocale, localeconv
	* libc/locale/Makefile.in: use new locale doc
	* libc/signal/signal.tex: new chapter
	* libc/signal/raise.c, libc/signal/signal.c: new doc
	* libc/signal/Makefile.in: use new doc
	* libc/time/time.tex: new chapter
	* libc/time/asctime.c libc/time/clock.c libc/time/ctime.c
	libc/time/difftime.c libc/time/gmtime.c libc/time/localtime.c
	libc/time/mktime.c libc/time/strftime.c libc/time/time.c: new doc
	* libc/time/Makefile.in: use new doc

Tue Apr 21 14:48:50 1992  Steve Chamberlain  (sac@thepub.cygnus.com)

	* libm/math/log1p.c: split to use the new function way of float
	function definition. math/log1p.h deleted
	* libm/math/scalb.c: obsolete and deleted
	* libm/math/scalbn.c: created from part log1p.c
	* libm/math/Makefile.in: know about log1p and scalbn

Tue Apr 21 12:32:21 1992  Roland H. Pesch  (pesch@fowanton.cygnus.com)

	* libc/ctype/isupper.c: revise doc;
	  libc/ctype/ctype.tex: use doc from isupper.c

	* libc/string/bzero.c: new doc

Mon Apr 20 14:19:42 1992  Roland H. Pesch  (pesch@fowanton.cygnus.com)

	* libc/stdlib/system.c, libc/stdlib/exit.c, libc/stdlib/abort.c:
	new doc
	* libc/stdlib/Makefile.in: extract new doc
	* libc/stdlib/stdlib.tex: use new doc

	* libc/string/strerror.c: expanded doc.

	* libc/stdio/Makefile.in: extract doc from more files
	* libc/stdio/fopen.c, libc/stdio/perror.c, libc/stdio/remove.c,
	libc/stdio/rename.c, libc/stdio/rewind.c, libc/stdio/setbuf.c,
	libc/stdio/setvbuf.c, libc/stdio/sprintf.c, libc/stdio/tmpfile.c,
	libc/stdio/tmpnam.c, libc/stdio/vfprintf.c, libc/stdio/vprintf.c,
	libc/stdio/vsprintf.c: new doc
	* libc/stdio/stdio.tex: use new doc

Mon Apr 20 09:38:17 1992  Steve Chamberlain  (sac@thepub.cygnus.com)

	* libc/config/ebmon29k: added CROSS_CPP rule and other fixes
	* libc/include/ieeefp.h: fixed ansi conflict with isnanf, isinff,
	finitef functions.
	* libc/sys/a29khif/sys/*.h: ansidecl.h was renamed to _ansi.h some
	time ago.

	* libc/stdio/stdio.h: added P_tmpdir for /tmp (SVID thing)
	* libc/stdio/setbuf.c: added ansi style definition.
	* libc/stdio/setvbuf.c: added ansi definition, now mallocs own
	buffer if none provided.
	* libc/stdio/tmpfile.c: lint
	* libc/stdio/tmpnam.c (worker): created. (tmpnam): mallocs buffer
	rather than using static, also make sure file isn't already
	present.  Uses P_tmpdir. (tempnam): rewritten to use new
	subroutine, and uses P_tmpdir.
	* libc/stdio/siprintf.c: created

Mon Apr 13 09:12:58 1992  Steve Chamberlain  (sac@thepub.cygnus.com)

	Release 1.03 for NEC, major mods. Main differences from release
	1.02::

	More tests in test/:
	* jn_vec.c, jnf_vec.c, yn_vec.c, ynf_vec.c, log2_vec.c,
	log2f_vec.c, atan2_vec.c, atan2f_vec.c: new test vectors.
	* test_ieee.c: tests for ieee flags & masks - get/set rounding,
	get/set mask, get/set sticky and get/set roundtoi.  Tests
	that setting the bits changes the way arithmetic is done.
	* string.c: added test to make sure memcmp does it with unsigned
	chars.
	* test.c: cleaned up and removed lint.
	* sprint_vec, sprint_ivec.c, convert.c, conv_vec.c, iconf_vec.c,
	dvec.c: tests for string to value conversions,  sprintf, scanf,
	atof, atoff, strtod, strtodf, atoi, atol, strtol, ecvtbuf, ecvt,
	ecvtf,	fcvtbuf, fcvt, fcvtf, gcvt, gcvtf.  Some attention paid to
	rounding in sprintf too.
	* test_is.c: tests for  isalnum, isalpha, isascii, iscntrl,
	isdigit, isgraph, islower, isprint, ispunct, isspace, isupper,
	isxdigit, toascii, tolower, toupper, _tolower, _toupper in macro
	and function form.
	* math2.c: test for frexp, frexpf, ldexp, ldexpf, modf modff, pow,
	powf

	In the library:
	* libc/stdlib/div.c, libc/stdlib/ldiv.c, libc/stdlib/strtod.c,
	libc/stdlib/strtol.c, libc/stdlib/stroul.c, libc/stdlib/abs.c,
	libc/stdlib/bsearch.c, libc/stdlib/calloc.c, libc/stdlib/getenv.c,
	libc/stdlib/labs.c, libc/stdlib/malloc.c: new documentation
	* libc/stdlib/efgcvt.c: rewritten to use new _dcvt routines rather
	than sprintf.
	* libc/stdio/dcvt.c: rewritten to make more useful elsewhere.
	* Method of producting float versions of double functions has
	changed, functions will be modified gradually. So far:
	libm/math/exp.c, libm/math/pow.c, libm/math/modf.c,
	libm/math/sincos.c, libm/math/fmod.c, libm/math/tan.c have been
	altered
	* libc/string/memcmp.c: now uses unsigned chars
	* libc/string/bcmp.c, libc/string/strcpy.c,
	libc/stsring/strxfrm.c: fixed doc
	* libc/sys/sysvnecv70.tex: fix example of sbrk code

Local Variables:
version-control: never
End:
